{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{FormControl,Select as Selectable,InputLabel,makeStyles,MenuItem}from'@material-ui/core';import GridItem from'components/Grid/GridItem';import{getTaskGenerals}from'redux/actions/taskGeneralActions';import{TASK_GENERAL_LIST_RESET}from'redux/constants/taskGeneralConstants';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GeneralTaskSelect=function GeneralTaskSelect(_ref){var toggleHasDifficulty=_ref.toggleHasDifficulty,objetiveGeneral=_ref.objetiveGeneral,setObjetiveGeneral=_ref.setObjetiveGeneral;var dispatch=useDispatch();var classes={};var _useSelector=useSelector(function(state){return state.taskGeneralList;}),loadingTaskGeneralList=_useSelector.loadingTaskGeneralList,taskGenerals=_useSelector.taskGenerals,successTaskGeneralList=_useSelector.successTaskGeneralList;useEffect(function(){if(!successTaskGeneralList){dispatch(getTaskGenerals());}},[successTaskGeneralList]);useEffect(function(){return function(){return dispatch({type:TASK_GENERAL_LIST_RESET});};},[dispatch]);var handleChange=function handleChange(e){var dificultad=e.target.value.dificultad;setObjetiveGeneral(_objectSpread(_objectSpread({},objetiveGeneral),{},{task:e.target.value}));dificultad==='SI'&&toggleHasDifficulty(true);};var isEmpty=function isEmpty(array){return array.length<=0;};return/*#__PURE__*/_jsx(GridItem,{xs:6,children:loadingTaskGeneralList?/*#__PURE__*/_jsx(_Fragment,{children:\"Cargando\"}):taskGenerals&&/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"tasks\",children:isEmpty(taskGenerals)?'No hay tareas para seleccionar':'Tareas Generales'}),/*#__PURE__*/_jsxs(Selectable,{MenuProps:{className:classes.selectMenu},className:classes.select,value:objetiveGeneral.task,onChange:function onChange(e){return handleChange(e);},disabled:isEmpty(taskGenerals),inputProps:{name:'tasks',id:'tasks'},children:[(taskGenerals===null||taskGenerals===void 0?void 0:taskGenerals.length)>0&&/*#__PURE__*/_jsx(MenuItem,{disabled:true,classes:{root:classes.selectMenuItem},children:\"Seleccione una tarea\"}),(taskGenerals===null||taskGenerals===void 0?void 0:taskGenerals.length)>0?taskGenerals.map(function(task,index){return/*#__PURE__*/_jsx(MenuItem,{classes:{root:classes.selectMenuItem,selected:classes.selectMenuItemSelected},value:task,id:task.id_tarea,children:task.descripcion_tarea},index);}):/*#__PURE__*/_jsx(MenuItem,{disabled:true,children:\"No hay tareas de generales para seleccionar\"})]})]})});};export default GeneralTaskSelect;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","FormControl","Select","Selectable","InputLabel","makeStyles","MenuItem","GridItem","getTaskGenerals","TASK_GENERAL_LIST_RESET","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","GeneralTaskSelect","_ref","toggleHasDifficulty","objetiveGeneral","setObjetiveGeneral","dispatch","classes","_useSelector","state","taskGeneralList","loadingTaskGeneralList","taskGenerals","successTaskGeneralList","type","handleChange","e","dificultad","target","value","_objectSpread","task","isEmpty","array","length","xs","children","fullWidth","htmlFor","MenuProps","className","selectMenu","select","onChange","disabled","inputProps","name","id","root","selectMenuItem","map","index","selected","selectMenuItemSelected","id_tarea","descripcion_tarea"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/ObjetivesGeneral/ObjetiveGeneralRegisterScreen/components/GeneralTaskSelect.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { FormControl, Select as Selectable, InputLabel, makeStyles, MenuItem } from '@material-ui/core'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport { getTaskGenerals } from 'redux/actions/taskGeneralActions'\r\nimport { TASK_GENERAL_LIST_RESET } from 'redux/constants/taskGeneralConstants'\r\n\r\nconst GeneralTaskSelect = ({ toggleHasDifficulty, objetiveGeneral, setObjetiveGeneral }) => {\r\n  const dispatch = useDispatch()\r\n  const classes = {}\r\n\r\n  const { loadingTaskGeneralList, taskGenerals, successTaskGeneralList } = useSelector((state) => state.taskGeneralList)\r\n\r\n  useEffect(() => {\r\n    if (!successTaskGeneralList) {\r\n      dispatch(getTaskGenerals())\r\n    }\r\n  }, [successTaskGeneralList])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: TASK_GENERAL_LIST_RESET })\r\n  }, [dispatch])\r\n\r\n  const handleChange = (e) => {\r\n    const { dificultad } = e.target.value\r\n    setObjetiveGeneral({ ...objetiveGeneral, task: e.target.value })\r\n    dificultad === 'SI' && toggleHasDifficulty(true)\r\n  }\r\n\r\n  const isEmpty = (array) => array.length <= 0\r\n\r\n  return (\r\n    <GridItem xs={6}>\r\n      {loadingTaskGeneralList ? (\r\n        <>Cargando</>\r\n      ) : (\r\n        taskGenerals && (\r\n          <FormControl fullWidth>\r\n            <InputLabel htmlFor='tasks'>\r\n              {isEmpty(taskGenerals) ? 'No hay tareas para seleccionar' : 'Tareas Generales'}\r\n            </InputLabel>\r\n            <Selectable\r\n              MenuProps={{\r\n                className: classes.selectMenu,\r\n              }}\r\n              className={classes.select}\r\n              value={objetiveGeneral.task}\r\n              onChange={(e) => handleChange(e)}\r\n              disabled={isEmpty(taskGenerals)}\r\n              inputProps={{\r\n                name: 'tasks',\r\n                id: 'tasks',\r\n              }}\r\n            >\r\n              {taskGenerals?.length > 0 && (\r\n                <MenuItem\r\n                  disabled\r\n                  classes={{\r\n                    root: classes.selectMenuItem,\r\n                  }}\r\n                >\r\n                  Seleccione una tarea\r\n                </MenuItem>\r\n              )}\r\n              {taskGenerals?.length > 0 ? (\r\n                taskGenerals.map((task, index) => (\r\n                  <MenuItem\r\n                    classes={{ root: classes.selectMenuItem, selected: classes.selectMenuItemSelected }}\r\n                    value={task}\r\n                    id={task.id_tarea}\r\n                    key={index}\r\n                  >\r\n                    {task.descripcion_tarea}\r\n                  </MenuItem>\r\n                ))\r\n              ) : (\r\n                <MenuItem disabled>No hay tareas de generales para seleccionar</MenuItem>\r\n              )}\r\n            </Selectable>\r\n          </FormControl>\r\n        )\r\n      )}\r\n    </GridItem>\r\n  )\r\n}\r\n\r\nexport default GeneralTaskSelect\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}