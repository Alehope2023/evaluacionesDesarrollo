{"ast":null,"code":"import _objectSpread from \"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\trabajo\\\\Alehope\\\\actividadesPreBuild\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\Catalog\\\\TaskOther\\\\TaskOtherListScreen\\\\components\\\\ViewHistoricalModal.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core';\nimport { format } from 'date-fns';\nimport Button from 'components/CustomButtons/Button';\nimport HistoricalTable from './HistoricalTable';\nimport { getTaskHistorical } from 'redux/actions/taskOtherActions';\nimport { TASK_HISTORICAL_RESET } from 'redux/constants/taskOtherConstants';\nimport styles from '../styles/taskOtherListScreenStyles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\nvar ViewHistorical = function ViewHistorical(_ref) {\n  _s();\n  var closeViewActivityInfoModal = _ref.closeViewActivityInfoModal,\n    info = _ref.info,\n    label = _ref.label;\n  var classes = useStyles();\n  var dispatch = useDispatch();\n  var _useSelector = useSelector(function (state) {\n      return state.taskHistoricalList;\n    }),\n    loadingTaskHistoricalList = _useSelector.loadingTaskHistoricalList,\n    taskHistoricalListData = _useSelector.taskHistoricalListData,\n    successTaskHistoricalList = _useSelector.successTaskHistoricalList;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    infodata = _useState2[0],\n    setData = _useState2[1];\n  useEffect(function () {\n    if (successTaskHistoricalList) {\n      var puestos = taskHistoricalListData.tareas.map(function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          fecha_modificacion: format(new Date(item.fecha_modificacion), 'dd-MM-yyyy'),\n          fullModificador: \"\".concat((item === null || item === void 0 ? void 0 : item.nombreModificador) || '', \" \").concat((item === null || item === void 0 ? void 0 : item.apellido1Modificador) || '', \" \").concat((item === null || item === void 0 ? void 0 : item.apellido2Modificador) || '', \"  \")\n        });\n      });\n      setData(puestos);\n    } else {\n      dispatch(getTaskHistorical(info));\n    }\n  }, [dispatch, successTaskHistoricalList]);\n  useEffect(function () {\n    return function () {\n      return dispatch({\n        type: TASK_HISTORICAL_RESET\n      });\n    };\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!loadingTaskHistoricalList && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(HistoricalTable, {\n        data: infodata,\n        label: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false), ' ', /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      onClick: closeViewActivityInfoModal,\n      style: {\n        marginLeft: '10px'\n      },\n      children: \"Volver\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, _this), alert]\n  }, void 0, true);\n};\n_s(ViewHistorical, \"3msghOpu811LIXGAQDtpXlsr6Gw=\", false, function () {\n  return [useStyles, useDispatch, useSelector];\n});\n_c = ViewHistorical;\nexport default ViewHistorical;\nvar _c;\n$RefreshReg$(_c, \"ViewHistorical\");","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","makeStyles","format","Button","HistoricalTable","getTaskHistorical","TASK_HISTORICAL_RESET","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","useStyles","ViewHistorical","_ref","_s","closeViewActivityInfoModal","info","label","classes","dispatch","_useSelector","state","taskHistoricalList","loadingTaskHistoricalList","taskHistoricalListData","successTaskHistoricalList","_useState","_useState2","_slicedToArray","infodata","setData","puestos","tareas","map","item","_objectSpread","fecha_modificacion","Date","fullModificador","concat","nombreModificador","apellido1Modificador","apellido2Modificador","type","children","data","fileName","_jsxFileName","lineNumber","columnNumber","_this","color","onClick","style","marginLeft","alert","_c","$RefreshReg$"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/TaskOther/TaskOtherListScreen/components/ViewHistoricalModal.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { format } from 'date-fns'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport HistoricalTable from './HistoricalTable'\r\nimport { getTaskHistorical } from 'redux/actions/taskOtherActions'\r\nimport { TASK_HISTORICAL_RESET } from 'redux/constants/taskOtherConstants'\r\n\r\nimport styles from '../styles/taskOtherListScreenStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst ViewHistorical = ({ closeViewActivityInfoModal, info, label }) => {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  \r\n  const { loadingTaskHistoricalList, taskHistoricalListData, successTaskHistoricalList } = useSelector(\r\n    (state) => state.taskHistoricalList\r\n  )\r\n\r\n  const [infodata, setData] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (successTaskHistoricalList) {\r\n      const puestos = taskHistoricalListData.tareas.map((item) => {\r\n        return {\r\n          ...item,\r\n          fecha_modificacion: format(new Date(item.fecha_modificacion), 'dd-MM-yyyy'),\r\n          fullModificador: `${item?.nombreModificador || ''} ${item?.apellido1Modificador || ''} ${item?.apellido2Modificador || ''}  `,\r\n        }\r\n      })\r\n      setData(puestos)\r\n    } else {\r\n        dispatch(getTaskHistorical(info))\r\n    }\r\n  }, [dispatch, successTaskHistoricalList])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: TASK_HISTORICAL_RESET })\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      {!loadingTaskHistoricalList && (\r\n        <>\r\n          <HistoricalTable data={infodata} label={label} />\r\n        </>\r\n      )}{' '}\r\n      <Button color='primary' onClick={closeViewActivityInfoModal} style={{ marginLeft: '10px' }}>\r\n        Volver\r\n      </Button>\r\n      {alert}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ViewHistorical\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}