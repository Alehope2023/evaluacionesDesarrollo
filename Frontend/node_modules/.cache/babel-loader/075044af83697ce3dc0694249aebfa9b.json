{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{makeStyles}from'@material-ui/core';import{format}from'date-fns';import Button from'components/CustomButtons/Button';import HistoricalTable from'./HistoricalTable';import{getConfiguracionHistorical}from'redux/actions/configuracionActions';import{CONFIGURACION_HISTORICAL_RESET}from'redux/constants/configuracionConstants';import styles from'../styles/configuracionListScreenStyles';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var ViewHistorical=function ViewHistorical(_ref){var closeViewActivityInfoModal=_ref.closeViewActivityInfoModal,info=_ref.info;var classes=useStyles();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.configuracionHistoricalList;}),loadingConfiguracionHistoricalList=_useSelector.loadingConfiguracionHistoricalList,configuracionHistoricalListData=_useSelector.configuracionHistoricalListData,successConfiguracionHistoricalList=_useSelector.successConfiguracionHistoricalList;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),infodata=_useState2[0],setData=_useState2[1];useEffect(function(){if(successConfiguracionHistoricalList){var configuraciones=configuracionHistoricalListData.map(function(item){return _objectSpread(_objectSpread({},item),{},{fecha_modificacion:format(new Date(item.fecha_modificacion),'dd-MM-yyyy'),fullModificador:\"\".concat((item===null||item===void 0?void 0:item.nombreModificador)||'',\" \").concat((item===null||item===void 0?void 0:item.apellido1Modificador)||'',\" \").concat((item===null||item===void 0?void 0:item.apellido2Modificador)||'',\"  \")});});setData(configuraciones);}else{dispatch(getConfiguracionHistorical(info));}},[dispatch,successConfiguracionHistoricalList]);useEffect(function(){return function(){return dispatch({type:CONFIGURACION_HISTORICAL_RESET});};},[dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[!loadingConfiguracionHistoricalList&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(HistoricalTable,{data:infodata})}),' ',/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:closeViewActivityInfoModal,style:{marginLeft:'10px'},children:\"Volver\"}),alert]});};export default ViewHistorical;","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","makeStyles","format","Button","HistoricalTable","getConfiguracionHistorical","CONFIGURACION_HISTORICAL_RESET","styles","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","useStyles","ViewHistorical","_ref","closeViewActivityInfoModal","info","classes","dispatch","_useSelector","state","configuracionHistoricalList","loadingConfiguracionHistoricalList","configuracionHistoricalListData","successConfiguracionHistoricalList","_useState","_useState2","_slicedToArray","infodata","setData","configuraciones","map","item","_objectSpread","fecha_modificacion","Date","fullModificador","concat","nombreModificador","apellido1Modificador","apellido2Modificador","type","children","data","color","onClick","style","marginLeft","alert"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/Configuracion/ConfiguracionListScreen/components/ViewHistoricalModal.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { format } from 'date-fns'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport HistoricalTable from './HistoricalTable'\r\nimport { getConfiguracionHistorical } from 'redux/actions/configuracionActions'\r\nimport { CONFIGURACION_HISTORICAL_RESET } from 'redux/constants/configuracionConstants'\r\n\r\nimport styles from '../styles/configuracionListScreenStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst ViewHistorical = ({ closeViewActivityInfoModal, info }) => {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  \r\n  const { loadingConfiguracionHistoricalList, configuracionHistoricalListData, successConfiguracionHistoricalList } = useSelector(\r\n    (state) => state.configuracionHistoricalList\r\n  )\r\n\r\n  const [infodata, setData] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (successConfiguracionHistoricalList) {\r\n      const configuraciones = configuracionHistoricalListData.map((item) => {\r\n        return {\r\n          ...item,\r\n          fecha_modificacion: format(new Date(item.fecha_modificacion), 'dd-MM-yyyy'),\r\n          fullModificador: `${item?.nombreModificador || ''} ${item?.apellido1Modificador || ''} ${item?.apellido2Modificador || ''}  `,\r\n        }\r\n      })\r\n      setData(configuraciones)\r\n    } else {\r\n        dispatch(getConfiguracionHistorical(info))\r\n    }\r\n  }, [dispatch, successConfiguracionHistoricalList])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: CONFIGURACION_HISTORICAL_RESET })\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      {!loadingConfiguracionHistoricalList && (\r\n        <>\r\n          <HistoricalTable data={infodata} />\r\n        </>\r\n      )}{' '}\r\n      <Button color='primary' onClick={closeViewActivityInfoModal} style={{ marginLeft: '10px' }}>\r\n        Volver\r\n      </Button>\r\n      {alert}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ViewHistorical\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}