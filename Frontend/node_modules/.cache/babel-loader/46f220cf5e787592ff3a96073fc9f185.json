{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _excluded=[\"title\"];import{useState}from'react';import{PieChart}from'react-minimal-pie-chart';import styles from'../styles/graficoSectorStyles';import{makeStyles}from'@material-ui/core';import ReactTooltip from'react-tooltip';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var GraficoSector=function GraficoSector(_ref){var datosSector=_ref.datosSector;var classes=useStyles();var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),hovered=_useState4[0],setHovered=_useState4[1];var data=datosSector.map(function(_ref2,i){var title=_ref2.title,entry=_objectWithoutProperties(_ref2,_excluded);if(hovered===i){return _objectSpread(_objectSpread({},entry),{},{tooltip:title,color:'grey'});}return entry;});var makeTooltipContent=function makeTooltipContent(entry){return\"\".concat(entry.tooltip,\": \").concat(entry.value);};var lineWidth=100;var margen=6;return/*#__PURE__*/_jsxs(\"div\",{\"data-tip\":\"\",\"data-for\":\"chart\",children:[/*#__PURE__*/_jsx(PieChart,{className:classes.estiloGrafico,data:data,radius:PieChart.defaultProps.radius-margen,lineWidth:lineWidth,ssegmentsStyle:{transition:'stroke .3s',cursor:'pointer'},segmentsShift:function segmentsShift(index){return index===selected?margen:1;},animate:true,label:function label(_ref3){var dataEntry=_ref3.dataEntry;return Math.round(dataEntry.percentage)+'%';},labelPosition:100-lineWidth/2,labelStyle:{fill:'#fff',opacity:0.75,pointerEvents:'none'},onClick:function onClick(_,index){setSelected(index===selected?undefined:index);},onMouseOver:function onMouseOver(_,index){setHovered(index);},onMouseOut:function onMouseOut(){setHovered(undefined);}}),/*#__PURE__*/_jsx(ReactTooltip,{id:\"chart\",getContent:function getContent(){return hovered>=0?makeTooltipContent(data[hovered]):null;}})]});};export default GraficoSector;","map":{"version":3,"names":["useState","PieChart","styles","makeStyles","ReactTooltip","jsx","_jsx","jsxs","_jsxs","useStyles","GraficoSector","_ref","datosSector","classes","_useState","undefined","_useState2","_slicedToArray","selected","setSelected","_useState3","_useState4","hovered","setHovered","data","map","_ref2","i","title","entry","_objectWithoutProperties","_excluded","_objectSpread","tooltip","color","makeTooltipContent","concat","value","lineWidth","margen","children","className","estiloGrafico","radius","defaultProps","ssegmentsStyle","transition","cursor","segmentsShift","index","animate","label","_ref3","dataEntry","Math","round","percentage","labelPosition","labelStyle","fill","opacity","pointerEvents","onClick","_","onMouseOver","onMouseOut","id","getContent"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/DashboardScreen/components/GraficoSector.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { PieChart } from 'react-minimal-pie-chart';\r\nimport styles from '../styles/graficoSectorStyles'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport ReactTooltip from 'react-tooltip'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst GraficoSector = ({ datosSector }) => {\r\n  const classes = useStyles()\r\n\r\n  const [selected, setSelected] = useState(undefined);\r\n  const [hovered, setHovered] = useState(undefined);\r\n\r\n  const data = datosSector.map(({title, ...entry}, i) => {\r\n    if (hovered === i) {\r\n      return {\r\n        ...entry,\r\n        tooltip: title,\r\n        color: 'grey',\r\n      };\r\n    }\r\n    return entry;\r\n  });\r\n\r\n  const makeTooltipContent = (entry) => {\r\n    return `${entry.tooltip}: ${entry.value}`;\r\n  }\r\n\r\n  const lineWidth = 100;\r\n  const margen = 6;\r\n\r\n  return (\r\n    <div data-tip=\"\" data-for=\"chart\">\r\n      <PieChart\r\n        className={classes.estiloGrafico}\r\n        data={data}\r\n        radius={PieChart.defaultProps.radius - margen}\r\n        lineWidth={lineWidth}\r\n        ssegmentsStyle={{ transition: 'stroke .3s', cursor: 'pointer' }}\r\n        segmentsShift={(index) => (index === selected ? margen : 1)}\r\n        animate\r\n        label={({ dataEntry }) => Math.round(dataEntry.percentage) + '%'}\r\n        labelPosition={100 - lineWidth / 2}\r\n        labelStyle={{\r\n          fill: '#fff',\r\n          opacity: 0.75,\r\n          pointerEvents: 'none',\r\n        }}\r\n        onClick={(_, index) => {\r\n          setSelected(index === selected ? undefined : index);\r\n        }}\r\n        onMouseOver={(_, index) => {\r\n          setHovered(index);\r\n        }}\r\n        onMouseOut={() => {\r\n          setHovered(undefined);\r\n        }}\r\n      />\r\n      <ReactTooltip\r\n        id=\"chart\"\r\n        getContent={() =>\r\n          hovered >= 0 ? makeTooltipContent(data[hovered]) : null\r\n        }\r\n      />\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default GraficoSector;"],"mappings":"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"},"metadata":{},"sourceType":"module"}