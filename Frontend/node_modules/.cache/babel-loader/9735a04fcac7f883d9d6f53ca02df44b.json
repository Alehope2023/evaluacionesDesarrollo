{"ast":null,"code":"import _slicedToArray from \"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\trabajo\\\\Alehope\\\\actividadesPreBuild\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\RegisterUserScreen\\\\components\\\\ResponsibleMultiSelect.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport roles from 'config/roles/roles';\nimport GridItem from 'components/Grid/GridItem';\nimport MultiSelectJobPosition from 'components/MultiSelectJobPosition/MultiSelectJobPosition';\nimport { USER_RESPONSIBLES_LIST_RESET } from 'redux/constants/userConstants';\nimport { getUsersResponsibles } from 'redux/actions/userActions';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ResponsibleMultiSelect = function ResponsibleMultiSelect(_ref) {\n  _s();\n  var responsibles = _ref.responsibles,\n    setResponsibles = _ref.setResponsibles;\n  var dispatch = useDispatch();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useSelector = useSelector(function (state) {\n      return state.userListResponsibles;\n    }),\n    successUserResponsiblesList = _useSelector.successUserResponsiblesList,\n    loadingUserResponsiblesList = _useSelector.loadingUserResponsiblesList,\n    userResponsiblesListData = _useSelector.userResponsiblesListData;\n  useEffect(function () {\n    return function () {\n      return dispatch({\n        type: USER_RESPONSIBLES_LIST_RESET\n      });\n    };\n  }, [dispatch]);\n  useEffect(function () {\n    if (!successUserResponsiblesList) {\n      dispatch(getUsersResponsibles(roles.RESPONSABLE_ROLE));\n    } else {\n      var filteredProfiles = userResponsiblesListData.filter(function (p) {\n        return p.activo === 'SI';\n      });\n      setData(filteredProfiles);\n    }\n  }, [successUserResponsiblesList]);\n  var handleChangeMultiData = function handleChangeMultiData(event) {\n    var value = event.target.value;\n    if (responsibles.map(function (responsible) {\n      return responsible.id_puesto;\n    }).indexOf(value[value.length - 1].id_puesto) === -1) {\n      setResponsibles(value);\n    } else {\n      setResponsibles(responsibles.filter(function (responsible) {\n        var _value;\n        return responsible.id_puesto !== ((_value = value[value.length - 1]) === null || _value === void 0 ? void 0 : _value.id_puesto);\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GridItem, {\n    xs: 12,\n    children: loadingUserResponsiblesList ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"Cargando Responsables\"\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(MultiSelectJobPosition, {\n      label: 'Responsables',\n      data: data,\n      multiData: responsibles,\n      handleChangeMultiData: handleChangeMultiData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, _this);\n};\n_s(ResponsibleMultiSelect, \"lZYUhkVfGWETTqIrFOFaoDCtipA=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = ResponsibleMultiSelect;\nexport default ResponsibleMultiSelect;\nvar _c;\n$RefreshReg$(_c, \"ResponsibleMultiSelect\");","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","roles","GridItem","MultiSelectJobPosition","USER_RESPONSIBLES_LIST_RESET","getUsersResponsibles","Fragment","_Fragment","jsxDEV","_jsxDEV","ResponsibleMultiSelect","_ref","_s","responsibles","setResponsibles","dispatch","_useState","_useState2","_slicedToArray","data","setData","_useSelector","state","userListResponsibles","successUserResponsiblesList","loadingUserResponsiblesList","userResponsiblesListData","type","RESPONSABLE_ROLE","filteredProfiles","filter","p","activo","handleChangeMultiData","event","value","target","map","responsible","id_puesto","indexOf","length","_value","xs","children","label","multiData","fileName","_jsxFileName","lineNumber","columnNumber","_this","_c","$RefreshReg$"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/RegisterUserScreen/components/ResponsibleMultiSelect.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport roles from 'config/roles/roles'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport MultiSelectJobPosition from 'components/MultiSelectJobPosition/MultiSelectJobPosition'\r\nimport { USER_RESPONSIBLES_LIST_RESET } from 'redux/constants/userConstants'\r\nimport { getUsersResponsibles } from 'redux/actions/userActions'\r\n\r\nconst ResponsibleMultiSelect = ({ responsibles, setResponsibles }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const [data, setData] = useState([])\r\n\r\n  const { successUserResponsiblesList, loadingUserResponsiblesList, userResponsiblesListData } = useSelector(\r\n    (state) => state.userListResponsibles\r\n  )\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: USER_RESPONSIBLES_LIST_RESET })\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (!successUserResponsiblesList) {\r\n      dispatch(getUsersResponsibles(roles.RESPONSABLE_ROLE))\r\n    } else {\r\n      const filteredProfiles = userResponsiblesListData.filter((p) => p.activo === 'SI')\r\n      setData(filteredProfiles)\r\n    }\r\n  }, [successUserResponsiblesList])\r\n\r\n  const handleChangeMultiData = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    if (responsibles.map((responsible) => responsible.id_puesto).indexOf(value[value.length - 1].id_puesto) === -1) {\r\n      setResponsibles(value)\r\n    } else {\r\n      setResponsibles(\r\n        responsibles.filter((responsible) => responsible.id_puesto !== value[value.length - 1]?.id_puesto)\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <GridItem xs={12}>\r\n      {loadingUserResponsiblesList ? (\r\n        <>Cargando Responsables</>\r\n      ) : (\r\n        <MultiSelectJobPosition\r\n          label={'Responsables'}\r\n          data={data}\r\n          multiData={responsibles}\r\n          handleChangeMultiData={handleChangeMultiData}\r\n        />\r\n      )}\r\n    </GridItem>\r\n  )\r\n}\r\n\r\nexport default ResponsibleMultiSelect\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}