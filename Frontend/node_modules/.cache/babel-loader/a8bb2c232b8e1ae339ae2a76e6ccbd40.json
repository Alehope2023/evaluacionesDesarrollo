{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import SweetAlert from'react-bootstrap-sweetalert';import{Dialog,FormControl,FormControlLabel,InputLabel,makeStyles,MenuItem,Radio,RadioGroup,Select as Selectable}from'@material-ui/core';import Card from'components/Card/Card';import CardBody from'components/Card/CardBody';import Button from'components/CustomButtons/Button';import GridContainer from'components/Grid/GridContainer';import CustomInput from'components/CustomInput/CustomInput';import GridItem from'components/Grid/GridItem';import SnackbarContent from'components/Snackbar/SnackbarContent';import{sharedUpdateInfo}from'redux/actions/sharedActions';import{SHARED_UPDATE_RESET}from'redux/constants/sharedConstants';import styles from'../styles/updateSharedModalStyles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var UpdateSharedModal=function UpdateSharedModal(_ref){var handleCloseModal=_ref.handleCloseModal,updateSharedModal=_ref.updateSharedModal,showUpdateShared=_ref.showUpdateShared;var dispatch=useDispatch();var classes=useStyles();var _useState=useState(showUpdateShared),_useState2=_slicedToArray(_useState,2),sharedInfo=_useState2[0],setSharedInfo=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var _useSelector=useSelector(function(state){return state.sharedUpdate;}),loadingSharedUpdate=_useSelector.loadingSharedUpdate,errorSharedUpdate=_useSelector.errorSharedUpdate,successSharedUpdate=_useSelector.successSharedUpdate;useEffect(function(){if(successSharedUpdate){setAlert(/*#__PURE__*/_jsx(SweetAlert,{success:true,style:{display:'block',marginTop:'-100px'},title:\"HECHO!\",onConfirm:function onConfirm(){return confirmSuccess();},onCancel:function onCancel(){return setAlert(null);},confirmBtnCssClass:classes.confirmBtnCssClass,children:\"Tarea compartida actualizada correctamente\"}));}},[successSharedUpdate]);var handleUpdate=function handleUpdate(e){e.preventDefault();dispatch(sharedUpdateInfo(sharedInfo));};useEffect(function(){return function(){return dispatch({type:SHARED_UPDATE_RESET});};},[dispatch]);var confirmSuccess=function confirmSuccess(){dispatch({type:SHARED_UPDATE_RESET});handleCloseModal();setAlert(null);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Dialog,{open:updateSharedModal,keepMounted:true,onClose:handleCloseModal,\"aria-labelledby\":\"notice-modal-slide-title\",\"aria-describedby\":\"notice-modal-slide-description\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleUpdate,children:/*#__PURE__*/_jsxs(GridContainer,{children:[/*#__PURE__*/_jsx(GridItem,{xs:12,md:12,children:/*#__PURE__*/_jsx(CustomInput,{labelText:'Tarea',id:\"tarea\",formControlProps:{fullWidth:true},inputProps:{value:sharedInfo.descripcion_tarea,type:'text',disabled:true}})}),/*#__PURE__*/_jsx(GridItem,{xs:12,md:12,children:/*#__PURE__*/_jsx(CustomInput,{labelText:'Puesto',id:\"puesto\",formControlProps:{fullWidth:true},inputProps:{value:\"\".concat(sharedInfo.nombre,\" \").concat(sharedInfo.apellido1,\" \").concat((sharedInfo===null||sharedInfo===void 0?void 0:sharedInfo.apellido2)||''),type:'text',disabled:true}})}),/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsx(CustomInput,{labelText:'Porcentaje de responsabilidad',id:\"porcentaje\",formControlProps:{fullWidth:true},inputProps:{value:sharedInfo===null||sharedInfo===void 0?void 0:sharedInfo.porcentaje_responsabilidad,onChange:function onChange(e){return setSharedInfo(_objectSpread(_objectSpread({},sharedInfo),{},{porcentaje_responsabilidad:e.target.value}));},type:'number',required:true}})}),/*#__PURE__*/_jsxs(GridItem,{xs:12,style:{margin:'20px 0 0',display:'flex',justifyContent:'space-around'},children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:handleCloseModal,children:\"Cerrar\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",children:loadingSharedUpdate?'Actualizando...':'Actualizar tarea compartida'})]}),errorSharedUpdate&&/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(SnackbarContent,{message:errorSharedUpdate,color:\"danger\"})})]})})})})}),alert]});};export default UpdateSharedModal;","map":{"version":3,"names":["useState","useEffect","useSelector","useDispatch","SweetAlert","Dialog","FormControl","FormControlLabel","InputLabel","makeStyles","MenuItem","Radio","RadioGroup","Select","Selectable","Card","CardBody","Button","GridContainer","CustomInput","GridItem","SnackbarContent","sharedUpdateInfo","SHARED_UPDATE_RESET","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useStyles","UpdateSharedModal","_ref","handleCloseModal","updateSharedModal","showUpdateShared","dispatch","classes","_useState","_useState2","_slicedToArray","sharedInfo","setSharedInfo","_useState3","_useState4","alert","setAlert","_useSelector","state","sharedUpdate","loadingSharedUpdate","errorSharedUpdate","successSharedUpdate","success","style","display","marginTop","title","onConfirm","confirmSuccess","onCancel","confirmBtnCssClass","children","handleUpdate","e","preventDefault","type","open","keepMounted","onClose","onSubmit","xs","md","labelText","id","formControlProps","fullWidth","inputProps","value","descripcion_tarea","disabled","concat","nombre","apellido1","apellido2","porcentaje_responsabilidad","onChange","_objectSpread","target","required","margin","justifyContent","color","onClick","message"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/TaskShared/TaskSharedListScreen/components/UpdateSharedModal.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport SweetAlert from 'react-bootstrap-sweetalert'\r\nimport {\r\n  Dialog,\r\n  FormControl,\r\n  FormControlLabel,\r\n  InputLabel,\r\n  makeStyles,\r\n  MenuItem,\r\n  Radio,\r\n  RadioGroup,\r\n  Select as Selectable,\r\n} from '@material-ui/core'\r\nimport Card from 'components/Card/Card'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport CustomInput from 'components/CustomInput/CustomInput'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport SnackbarContent from 'components/Snackbar/SnackbarContent'\r\nimport { sharedUpdateInfo } from 'redux/actions/sharedActions'\r\nimport { SHARED_UPDATE_RESET } from 'redux/constants/sharedConstants'\r\nimport styles from '../styles/updateSharedModalStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst UpdateSharedModal = ({ handleCloseModal, updateSharedModal, showUpdateShared }) => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n  const [sharedInfo, setSharedInfo] = useState(showUpdateShared)\r\n\r\n  const [alert, setAlert] = useState(null)\r\n  const { loadingSharedUpdate, errorSharedUpdate, successSharedUpdate } = useSelector((state) => state.sharedUpdate)\r\n\r\n  useEffect(() => {\r\n    if (successSharedUpdate) {\r\n      setAlert(\r\n        <SweetAlert\r\n          success\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='HECHO!'\r\n          onConfirm={() => confirmSuccess()}\r\n          onCancel={() => setAlert(null)}\r\n          confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        >\r\n          Tarea compartida actualizada correctamente\r\n        </SweetAlert>\r\n      )\r\n    }\r\n  }, [successSharedUpdate])\r\n\r\n  const handleUpdate = (e) => {\r\n    e.preventDefault()\r\n    dispatch(sharedUpdateInfo(sharedInfo))\r\n  }\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: SHARED_UPDATE_RESET })\r\n  }, [dispatch])\r\n\r\n  const confirmSuccess = () => {\r\n    dispatch({ type: SHARED_UPDATE_RESET })\r\n    handleCloseModal()\r\n    setAlert(null)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Dialog\r\n        open={updateSharedModal}\r\n        keepMounted\r\n        onClose={handleCloseModal}\r\n        aria-labelledby='notice-modal-slide-title'\r\n        aria-describedby='notice-modal-slide-description'\r\n      >\r\n        <Card>\r\n          <CardBody>\r\n            <form onSubmit={handleUpdate}>\r\n              <GridContainer>\r\n              <GridItem xs={12} md={12}>\r\n                  <CustomInput\r\n                    labelText={'Tarea'}\r\n                    id='tarea'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      value: sharedInfo.descripcion_tarea,\r\n                      type: 'text',\r\n                      disabled: true,\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem xs={12} md={12}>\r\n                  <CustomInput\r\n                    labelText={'Puesto'}\r\n                    id='puesto'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      value: `${sharedInfo.nombre} ${sharedInfo.apellido1} ${sharedInfo?.apellido2 || ''}`,\r\n                      type: 'text',\r\n                      disabled: true,\r\n                    }}\r\n                  />\r\n                </GridItem>\r\n                <GridItem xs={12} md={6}>\r\n                  <CustomInput\r\n                    labelText={'Porcentaje de responsabilidad'}\r\n                    id='porcentaje'\r\n                    formControlProps={{\r\n                      fullWidth: true,\r\n                    }}\r\n                    inputProps={{\r\n                      value: sharedInfo?.porcentaje_responsabilidad,\r\n                      onChange: (e) => setSharedInfo({ ...sharedInfo, porcentaje_responsabilidad: e.target.value }),\r\n                      type: 'number',\r\n                      required: true,\r\n                    }}\r\n                  />\r\n                </GridItem>                \r\n                <GridItem xs={12} style={{ margin: '20px 0 0', display: 'flex', justifyContent: 'space-around' }}>\r\n                  <Button color='secondary' onClick={handleCloseModal}>\r\n                    Cerrar\r\n                  </Button>\r\n                  <Button type='submit' color='primary'>\r\n                    {loadingSharedUpdate ? 'Actualizando...' : 'Actualizar tarea compartida'}\r\n                  </Button>\r\n                </GridItem>\r\n                {errorSharedUpdate && (\r\n                  <GridItem xs={12}>\r\n                    <SnackbarContent message={errorSharedUpdate} color='danger' />\r\n                  </GridItem>\r\n                )}\r\n              </GridContainer>\r\n            </form>\r\n          </CardBody>\r\n        </Card>\r\n      </Dialog>\r\n      {alert}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UpdateSharedModal\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}