{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Card,makeStyles,Tooltip}from'@material-ui/core';import{Visibility,Delete}from'@material-ui/icons';import CardBody from'components/Card/CardBody';import GridContainer from'components/Grid/GridContainer';import GridItem from'components/Grid/GridItem';import ReactTable from'components/ReactTable/ReactTable';import Button from'components/CustomButtons/Button';import SnackbarContent from'components/Snackbar/SnackbarContent';import UpdatePermissionModal from'./components/UpdatePermissionModal';import DeletePermissionModal from'./components/DeletePermissionModal';import{getPermissions}from'redux/actions/permissionActions';import styles from'./styles/permissionListScreenStyles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var PermissionListScreen=function PermissionListScreen(){var dispatch=useDispatch();var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),showUpdatePermission=_useState4[0],setShowUpdatePermission=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),showDeletePermission=_useState6[0],setShowDeletePermission=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),updatePermissionModal=_useState8[0],setUpdatePermissionModal=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),deletePermissionModal=_useState10[0],setDeletePermissionModal=_useState10[1];var _useSelector=useSelector(function(state){return state.permissionList;}),loadingPermissionList=_useSelector.loadingPermissionList,permissions=_useSelector.permissions,successPermissionList=_useSelector.successPermissionList,errorPermissionList=_useSelector.errorPermissionList;useEffect(function(){if(successPermissionList){var list=permissions.map(function(item){return _objectSpread(_objectSpread({},item),{},{actions:/*#__PURE__*/_jsx(\"div\",{className:\"actions-right\",children:/*#__PURE__*/_jsx(Button,{justIcon:true,round:true,simple:true,onClick:function onClick(){return showDeletePermissionHandler(item.id_permiso);},color:\"danger\",className:\"delete\",children:/*#__PURE__*/_jsx(Tooltip,{title:\"Borrar\",children:/*#__PURE__*/_jsx(Delete,{})})})})});});setData(list);}},[successPermissionList]);useEffect(function(){dispatch(getPermissions());},[dispatch]);var showUpdatePermissionHandler=function showUpdatePermissionHandler(id){var permission=permissions.find(function(permission){return permission.id_permiso===id;});setShowUpdatePermission(permission);setUpdatePermissionModal(true);};var handleCloseModal=function handleCloseModal(){setUpdatePermissionModal(false);setShowUpdatePermission({});};var showDeletePermissionHandler=function showDeletePermissionHandler(id){var permission=permissions.find(function(permission){return permission.id_permiso===id;});setShowDeletePermission(permission);setDeletePermissionModal(true);};var closeDeletePermissionModal=function closeDeletePermissionModal(){setDeletePermissionModal(false);setShowDeletePermission({});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GridContainer,{children:/*#__PURE__*/_jsx(GridItem,{xs:12,className:classes.rootItem,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardBody,{children:loadingPermissionList?'Cargando Permisos...':/*#__PURE__*/_jsx(ReactTable,{columns:[{Header:'ID PERMISO',accessor:'id_permiso'},{Header:'DESCRIPCION',accessor:'permiso'},{Header:'ACCIONES',accessor:'actions'}],data:data})}),errorPermissionList&&/*#__PURE__*/_jsx(GridContainer,{children:/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(SnackbarContent,{message:errorPermissionList,color:\"danger\"})})})]})})}),updatePermissionModal&&/*#__PURE__*/_jsx(UpdatePermissionModal,{handleCloseModal:handleCloseModal,updatePermissionModal:updatePermissionModal,showUpdatePermission:showUpdatePermission}),deletePermissionModal&&/*#__PURE__*/_jsx(DeletePermissionModal,{deletePermissionModal:deletePermissionModal,handleCloseDeletePermissionModal:closeDeletePermissionModal,showDeletePermissionInfo:showDeletePermission})]});};export default PermissionListScreen;","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","Card","makeStyles","Tooltip","Visibility","Delete","CardBody","GridContainer","GridItem","ReactTable","Button","SnackbarContent","UpdatePermissionModal","DeletePermissionModal","getPermissions","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useStyles","PermissionListScreen","dispatch","classes","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","showUpdatePermission","setShowUpdatePermission","_useState5","_useState6","showDeletePermission","setShowDeletePermission","_useState7","_useState8","updatePermissionModal","setUpdatePermissionModal","_useState9","_useState10","deletePermissionModal","setDeletePermissionModal","_useSelector","state","permissionList","loadingPermissionList","permissions","successPermissionList","errorPermissionList","list","map","item","_objectSpread","actions","className","children","justIcon","round","simple","onClick","showDeletePermissionHandler","id_permiso","color","title","showUpdatePermissionHandler","id","permission","find","handleCloseModal","closeDeletePermissionModal","xs","rootItem","columns","Header","accessor","message","handleCloseDeletePermissionModal","showDeletePermissionInfo"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/PermissionScreen/PermissionListScreen/PermissionListScreen.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Card, makeStyles, Tooltip } from '@material-ui/core'\r\nimport { Visibility, Delete } from '@material-ui/icons'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport ReactTable from 'components/ReactTable/ReactTable'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport SnackbarContent from 'components/Snackbar/SnackbarContent'\r\nimport UpdatePermissionModal from './components/UpdatePermissionModal'\r\nimport DeletePermissionModal from './components/DeletePermissionModal'\r\nimport { getPermissions } from 'redux/actions/permissionActions'\r\nimport styles from './styles/permissionListScreenStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst PermissionListScreen = () => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n\r\n  const [data, setData] = useState([])\r\n  const [showUpdatePermission, setShowUpdatePermission] = useState({})\r\n  const [showDeletePermission, setShowDeletePermission] = useState({})\r\n  const [updatePermissionModal, setUpdatePermissionModal] = useState(false)\r\n  const [deletePermissionModal, setDeletePermissionModal] = useState(false)\r\n\r\n  const { loadingPermissionList, permissions, successPermissionList, errorPermissionList } = useSelector(\r\n    (state) => state.permissionList\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (successPermissionList) {\r\n      const list = permissions.map((item) => {\r\n        return {\r\n          ...item,\r\n          actions: (\r\n            <div className='actions-right'>\r\n              <Button\r\n                justIcon\r\n                round\r\n                simple\r\n                onClick={() => showDeletePermissionHandler(item.id_permiso)}\r\n                color='danger'\r\n                className='delete'\r\n              >\r\n                <Tooltip title='Borrar'>\r\n                  <Delete />\r\n                </Tooltip>\r\n              </Button>\r\n            </div>\r\n          ),\r\n        }\r\n      })\r\n      setData(list)\r\n    }\r\n  }, [successPermissionList])\r\n\r\n  useEffect(() => {\r\n    dispatch(getPermissions())\r\n  }, [dispatch])\r\n\r\n  const showUpdatePermissionHandler = (id) => {\r\n    const permission = permissions.find((permission) => permission.id_permiso === id)\r\n    setShowUpdatePermission(permission)\r\n    setUpdatePermissionModal(true)\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setUpdatePermissionModal(false)\r\n    setShowUpdatePermission({})\r\n  }\r\n\r\n  const showDeletePermissionHandler = (id) => {\r\n    const permission = permissions.find((permission) => permission.id_permiso === id)\r\n    setShowDeletePermission(permission)\r\n    setDeletePermissionModal(true)\r\n  }\r\n\r\n  const closeDeletePermissionModal = () => {\r\n    setDeletePermissionModal(false)\r\n    setShowDeletePermission({})\r\n  }\r\n  return (\r\n    <>\r\n      <GridContainer>\r\n        <GridItem xs={12} className={classes.rootItem}>\r\n          <Card>\r\n            <CardBody>\r\n              {loadingPermissionList ? (\r\n                'Cargando Permisos...'\r\n              ) : (\r\n                <ReactTable\r\n                  columns={[\r\n                    {\r\n                      Header: 'ID PERMISO',\r\n                      accessor: 'id_permiso',\r\n                    },\r\n                    {\r\n                      Header: 'DESCRIPCION',\r\n                      accessor: 'permiso',\r\n                    },\r\n                    {\r\n                      Header: 'ACCIONES',\r\n                      accessor: 'actions',\r\n                    },\r\n                  ]}\r\n                  data={data}\r\n                />\r\n              )}\r\n            </CardBody>\r\n            {errorPermissionList && (\r\n              <GridContainer>\r\n                <GridItem xs={12}>\r\n                  <SnackbarContent message={errorPermissionList} color='danger' />\r\n                </GridItem>\r\n              </GridContainer>\r\n            )}\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n      {updatePermissionModal && (\r\n        <UpdatePermissionModal\r\n          handleCloseModal={handleCloseModal}\r\n          updatePermissionModal={updatePermissionModal}\r\n          showUpdatePermission={showUpdatePermission}\r\n        />\r\n      )}\r\n      {deletePermissionModal && (\r\n        <DeletePermissionModal\r\n          deletePermissionModal={deletePermissionModal}\r\n          handleCloseDeletePermissionModal={closeDeletePermissionModal}\r\n          showDeletePermissionInfo={showDeletePermission}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PermissionListScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}