{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{FormControl,InputLabel,ListItemText,MenuItem,Select}from'@material-ui/core';import{Typography}from'@material-ui/core';import GridContainer from'components/Grid/GridContainer';import GridItem from'components/Grid/GridItem';import UpdateActionModal from'components/ReactTableActions/Update/UpdateActionModal';import CustomInput from'components/CustomInput/CustomInput';import{updateEntries}from'redux/actions/entriesActions';import{ENTRIES_UPDATE_RESET,ENTRIES_LIST_RESET}from'redux/constants/entriesConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateEntryModal=function UpdateEntryModal(_ref){var updateEntryModal=_ref.updateEntryModal,closeUpdateEntryModal=_ref.closeUpdateEntryModal,info=_ref.info;var classes={};var dispatch=useDispatch();var _useState=useState(_objectSpread(_objectSpread({},info),{},{id_entrada:info.id_entrada,entrada:(info===null||info===void 0?void 0:info.entrada)||'0',tipo:info.tipo,descripcion_tarea:info.descripcion_tarea,puesto:\"\".concat(info.nombre,\" \").concat(info.apellido1,\" \").concat((info===null||info===void 0?void 0:info.apellido2)||'-'),anio:info.anio,mes:info.mes,codigo_perfil:info.codigo_perfil})),_useState2=_slicedToArray(_useState,2),updateInfo=_useState2[0],setUpdateInfo=_useState2[1];var _useSelector=useSelector(function(state){return state.entriesUpdate;}),loadingEntriesUpdate=_useSelector.loadingEntriesUpdate,successEntriesUpdate=_useSelector.successEntriesUpdate,errorEntriesUpdate=_useSelector.errorEntriesUpdate;useEffect(function(){if(successEntriesUpdate){dispatch({type:ENTRIES_LIST_RESET});dispatch({type:ENTRIES_UPDATE_RESET});closeUpdateEntryModal();}},[successEntriesUpdate]);useEffect(function(){return function(){return dispatch({type:ENTRIES_UPDATE_RESET});};},[dispatch]);var handleUpdate=function handleUpdate(e){e.preventDefault();dispatch(updateEntries(_objectSpread(_objectSpread({},updateInfo),{},{entrada:updateInfo.entrada,tipo:updateInfo.tipo})));};return/*#__PURE__*/_jsx(UpdateActionModal,{open:updateEntryModal,handleCloseModal:closeUpdateEntryModal,errorUpdate:errorEntriesUpdate,succesUpdate:successEntriesUpdate,loadingUpdate:loadingEntriesUpdate,modalTitle:\"Editar de Entrada\",handleSubmit:handleUpdate,children:/*#__PURE__*/_jsxs(GridContainer,{children:[/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",gutterBottom:true,children:[\"Tarea: \",/*#__PURE__*/_jsx(\"strong\",{children:updateInfo.descripcion_tarea})]})}),/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",gutterBottom:true,children:[\"Perfiles: \",/*#__PURE__*/_jsx(\"strong\",{children:updateInfo.codigo_perfil})]})}),/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",gutterBottom:true,children:[\"A\\xF1o: \",/*#__PURE__*/_jsx(\"strong\",{children:updateInfo.anio})]})}),/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",gutterBottom:true,children:[\"Mes: \",/*#__PURE__*/_jsx(\"strong\",{children:updateInfo.mes})]})}),/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",gutterBottom:true,children:[\"Puesto: \",/*#__PURE__*/_jsx(\"strong\",{children:updateInfo.puesto})]})}),/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(CustomInput,{labelText:'Entrada',id:\"entrada\",formControlProps:{fullWidth:true},inputProps:{value:updateInfo.entrada,onChange:function onChange(e){return setUpdateInfo(_objectSpread(_objectSpread({},updateInfo),{},{entrada:e.target.value}));},maxLength:3,type:'number',required:'true'}})})]})});};export default UpdateEntryModal;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","FormControl","InputLabel","ListItemText","MenuItem","Select","Typography","GridContainer","GridItem","UpdateActionModal","CustomInput","updateEntries","ENTRIES_UPDATE_RESET","ENTRIES_LIST_RESET","jsx","_jsx","jsxs","_jsxs","UpdateEntryModal","_ref","updateEntryModal","closeUpdateEntryModal","info","classes","dispatch","_useState","_objectSpread","id_entrada","entrada","tipo","descripcion_tarea","puesto","concat","nombre","apellido1","apellido2","anio","mes","codigo_perfil","_useState2","_slicedToArray","updateInfo","setUpdateInfo","_useSelector","state","entriesUpdate","loadingEntriesUpdate","successEntriesUpdate","errorEntriesUpdate","type","handleUpdate","e","preventDefault","open","handleCloseModal","errorUpdate","succesUpdate","loadingUpdate","modalTitle","handleSubmit","children","xs","md","variant","gutterBottom","labelText","id","formControlProps","fullWidth","inputProps","value","onChange","target","maxLength","required"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/AsignEntriesScreen/AsignEntriesList/components/UpdateEntryModal.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { FormControl, InputLabel, ListItemText, MenuItem, Select } from '@material-ui/core'\r\nimport { Typography } from '@material-ui/core'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport UpdateActionModal from 'components/ReactTableActions/Update/UpdateActionModal'\r\nimport CustomInput from 'components/CustomInput/CustomInput'\r\nimport { updateEntries } from 'redux/actions/entriesActions'\r\nimport { ENTRIES_UPDATE_RESET, ENTRIES_LIST_RESET } from 'redux/constants/entriesConstants'\r\n\r\nconst UpdateEntryModal = ({ updateEntryModal, closeUpdateEntryModal, info }) => {\r\n  const classes = {}\r\n  const dispatch = useDispatch()\r\n  const [updateInfo, setUpdateInfo] = useState({\r\n    ...info,\r\n    id_entrada: info.id_entrada,\r\n    entrada: info?.entrada || '0',\r\n    tipo: info.tipo,\r\n    descripcion_tarea: info.descripcion_tarea,\r\n    puesto: `${info.nombre} ${info.apellido1} ${info?.apellido2 || '-'}`,\r\n    anio: info.anio,\r\n    mes: info.mes,\r\n    codigo_perfil: info.codigo_perfil,\r\n  })\r\n  \r\n  const { loadingEntriesUpdate, successEntriesUpdate, errorEntriesUpdate } = useSelector(\r\n    (state) => state.entriesUpdate\r\n  )\r\n  useEffect(() => {\r\n    if (successEntriesUpdate) {\r\n      dispatch({ type: ENTRIES_LIST_RESET })\r\n      dispatch({ type: ENTRIES_UPDATE_RESET })\r\n      closeUpdateEntryModal()\r\n    }\r\n  }, [successEntriesUpdate])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: ENTRIES_UPDATE_RESET })\r\n  }, [dispatch])\r\n\r\n  const handleUpdate = (e) => {\r\n    e.preventDefault()\r\n    dispatch(updateEntries({ ...updateInfo, entrada: updateInfo.entrada, tipo: updateInfo.tipo }))\r\n  }\r\n\r\n  return (\r\n    <UpdateActionModal\r\n      open={updateEntryModal}\r\n      handleCloseModal={closeUpdateEntryModal}\r\n      errorUpdate={errorEntriesUpdate}\r\n      succesUpdate={successEntriesUpdate}\r\n      loadingUpdate={loadingEntriesUpdate}\r\n      modalTitle={`Editar de Entrada`}\r\n      handleSubmit={handleUpdate}\r\n      children={\r\n        <GridContainer>\r\n          <GridItem xs={12} md={6}>\r\n          <Typography variant='body1' gutterBottom>\r\n            Tarea: <strong>{updateInfo.descripcion_tarea}</strong>\r\n          </Typography>\r\n          </GridItem>\r\n          <GridItem xs={12} md={6}>\r\n          <Typography variant='body1' gutterBottom>\r\n            Perfiles: <strong>{updateInfo.codigo_perfil}</strong>\r\n          </Typography>\r\n          </GridItem>          \r\n          <GridItem xs={12} md={6}>\r\n          <Typography variant='body1' gutterBottom>\r\n            AÃ±o: <strong>{updateInfo.anio}</strong>\r\n          </Typography>\r\n          </GridItem>\r\n          <GridItem xs={12} md={6}>\r\n          <Typography variant='body1' gutterBottom>\r\n            Mes: <strong>{updateInfo.mes}</strong>\r\n          </Typography>\r\n          </GridItem>\r\n          <GridItem xs={12} md={6}>\r\n          <Typography variant='body1' gutterBottom>\r\n            Puesto: <strong>{updateInfo.puesto}</strong>\r\n          </Typography>\r\n          </GridItem>\r\n          <GridItem xs={12}>\r\n            <CustomInput\r\n              labelText={'Entrada'}\r\n              id='entrada'\r\n              formControlProps={{\r\n                fullWidth: true,\r\n              }}\r\n              inputProps={{\r\n                value: updateInfo.entrada,\r\n                onChange: (e) => setUpdateInfo({ ...updateInfo, entrada: e.target.value }),\r\n                maxLength: 3,\r\n                type: 'number',\r\n                required: 'true',\r\n              }}\r\n            />\r\n          </GridItem>\r\n        </GridContainer>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default UpdateEntryModal\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}