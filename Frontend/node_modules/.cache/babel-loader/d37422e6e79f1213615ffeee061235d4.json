{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{format}from'date-fns';import ActiveAndDesactiveActionModal from'components/ReactTableActions/ActiveAndDesactive/ActiveAndDesactiveActionModal';import{profileUpdateInfo}from'redux/actions/profileActions';import{PROFILE_LIST_RESET}from'redux/constants/profileConstants';import{PROFILE_UPDATE_RESET}from'redux/constants/profileConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ActiveAndDesactiveProfileModal=function ActiveAndDesactiveProfileModal(_ref){var activeModal=_ref.activeModal,closeActiveModal=_ref.closeActiveModal,info=_ref.info,active=_ref.active;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.profileUpdate;}),loadingProfileUpdate=_useSelector.loadingProfileUpdate,errorProfileUpdate=_useSelector.errorProfileUpdate,successProfileUpdate=_useSelector.successProfileUpdate;useEffect(function(){if(successProfileUpdate){dispatch({type:PROFILE_LIST_RESET});setTimeout(function(){dispatch({type:PROFILE_UPDATE_RESET});closeActiveModal();},1000);}},[successProfileUpdate]);var activeOrDesactive=function activeOrDesactive(e){e.preventDefault();if(active){dispatch(profileUpdateInfo(_objectSpread(_objectSpread({},info),{},{activo:'SI'})));return;}dispatch(profileUpdateInfo(_objectSpread(_objectSpread({},info),{},{activo:'NO',fecha_baja:format(new Date(),'yyyy-MM-dd')})));};return/*#__PURE__*/_jsx(ActiveAndDesactiveActionModal,{open:activeModal,handleCloseModal:closeActiveModal,handleSubmit:activeOrDesactive,message:/*#__PURE__*/_jsxs(_Fragment,{children:[\"Va a \",active?'activar':'desactivar',\" el Perfil \",/*#__PURE__*/_jsx(\"strong\",{children:info.codigo_perfil})]}),modalTitle:\"\".concat(active?'Activar':'Desactivar',\" Perfil\"),error:errorProfileUpdate,success:successProfileUpdate,loading:loadingProfileUpdate,loadingMessageButton:active?'Activando...':'Desactivando',succesMessageButton:active?'Activar':'Desactivar'});};export default ActiveAndDesactiveProfileModal;","map":{"version":3,"names":["useEffect","useSelector","useDispatch","format","ActiveAndDesactiveActionModal","profileUpdateInfo","PROFILE_LIST_RESET","PROFILE_UPDATE_RESET","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ActiveAndDesactiveProfileModal","_ref","activeModal","closeActiveModal","info","active","dispatch","_useSelector","state","profileUpdate","loadingProfileUpdate","errorProfileUpdate","successProfileUpdate","type","setTimeout","activeOrDesactive","e","preventDefault","_objectSpread","activo","fecha_baja","Date","open","handleCloseModal","handleSubmit","message","children","codigo_perfil","modalTitle","concat","error","success","loading","loadingMessageButton","succesMessageButton"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/Profile/ProfileListScreen/components/ActiveAndDesactiveModal/ActiveAndDesactiveProfileModal.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { format } from 'date-fns'\r\nimport ActiveAndDesactiveActionModal from 'components/ReactTableActions/ActiveAndDesactive/ActiveAndDesactiveActionModal'\r\nimport { profileUpdateInfo } from 'redux/actions/profileActions'\r\nimport { PROFILE_LIST_RESET } from 'redux/constants/profileConstants'\r\nimport { PROFILE_UPDATE_RESET } from 'redux/constants/profileConstants'\r\n\r\nconst ActiveAndDesactiveProfileModal = ({ activeModal, closeActiveModal, info, active }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const { loadingProfileUpdate, errorProfileUpdate, successProfileUpdate } = useSelector((state) => state.profileUpdate)\r\n\r\n  useEffect(() => {\r\n    if (successProfileUpdate) {\r\n      dispatch({ type: PROFILE_LIST_RESET })\r\n      setTimeout(() => {\r\n        dispatch({ type: PROFILE_UPDATE_RESET })\r\n        closeActiveModal()\r\n      }, 1000)\r\n    }\r\n  }, [successProfileUpdate])\r\n  const activeOrDesactive = (e) => {\r\n    e.preventDefault()\r\n    if (active) {\r\n      dispatch(profileUpdateInfo({ ...info, activo: 'SI' }))\r\n      return\r\n    }\r\n    dispatch(profileUpdateInfo({ ...info, activo: 'NO', fecha_baja: format(new Date(), 'yyyy-MM-dd') }))\r\n  }\r\n  return (\r\n    <ActiveAndDesactiveActionModal\r\n      open={activeModal}\r\n      handleCloseModal={closeActiveModal}\r\n      handleSubmit={activeOrDesactive}\r\n      message={\r\n        <>\r\n          Va a {active ? 'activar' : 'desactivar'} el Perfil <strong>{info.codigo_perfil}</strong>\r\n        </>\r\n      }\r\n      modalTitle={`${active ? 'Activar' : 'Desactivar'} Perfil`}\r\n      error={errorProfileUpdate}\r\n      success={successProfileUpdate}\r\n      loading={loadingProfileUpdate}\r\n      loadingMessageButton={active ? 'Activando...' : 'Desactivando'}\r\n      succesMessageButton={active ? 'Activar' : 'Desactivar'}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ActiveAndDesactiveProfileModal\r\n"],"mappings":"oIAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,KAAQ,UAAU,CACjC,MAAO,CAAAC,6BAA6B,KAAM,+EAA+E,CACzH,OAASC,iBAAiB,KAAQ,8BAA8B,CAChE,OAASC,kBAAkB,KAAQ,kCAAkC,CACrE,OAASC,oBAAoB,KAAQ,kCAAkC,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,GAAM,CAAAC,8BAA8B,CAAG,QAAjC,CAAAA,8BAA8BA,CAAAC,IAAA,CAAwD,IAAlD,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CAAEC,gBAAgB,CAAAF,IAAA,CAAhBE,gBAAgB,CAAEC,IAAI,CAAAH,IAAA,CAAJG,IAAI,CAAEC,MAAM,CAAAJ,IAAA,CAANI,MAAM,CACnF,GAAM,CAAAC,QAAQ,CAAGlB,WAAW,EAAE,CAE9B,IAAAmB,YAAA,CAA2EpB,WAAW,CAAC,SAACqB,KAAK,QAAK,CAAAA,KAAK,CAACC,aAAa,GAAC,CAA9GC,oBAAoB,CAAAH,YAAA,CAApBG,oBAAoB,CAAEC,kBAAkB,CAAAJ,YAAA,CAAlBI,kBAAkB,CAAEC,oBAAoB,CAAAL,YAAA,CAApBK,oBAAoB,CAEtE1B,SAAS,CAAC,UAAM,CACd,GAAI0B,oBAAoB,CAAE,CACxBN,QAAQ,CAAC,CAAEO,IAAI,CAAErB,kBAAmB,CAAC,CAAC,CACtCsB,UAAU,CAAC,UAAM,CACfR,QAAQ,CAAC,CAAEO,IAAI,CAAEpB,oBAAqB,CAAC,CAAC,CACxCU,gBAAgB,EAAE,CACpB,CAAC,CAAE,IAAI,CAAC,CACV,CACF,CAAC,CAAE,CAACS,oBAAoB,CAAC,CAAC,CAC1B,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,CAAC,CAAK,CAC/BA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAIZ,MAAM,CAAE,CACVC,QAAQ,CAACf,iBAAiB,CAAA2B,aAAA,CAAAA,aAAA,IAAMd,IAAI,MAAEe,MAAM,CAAE,IAAI,GAAG,CAAC,CACtD,OACF,CACAb,QAAQ,CAACf,iBAAiB,CAAA2B,aAAA,CAAAA,aAAA,IAAMd,IAAI,MAAEe,MAAM,CAAE,IAAI,CAAEC,UAAU,CAAE/B,MAAM,CAAC,GAAI,CAAAgC,IAAI,EAAE,CAAE,YAAY,CAAC,GAAG,CAAC,CACtG,CAAC,CACD,mBACE1B,IAAA,CAACL,6BAA6B,EAC5BgC,IAAI,CAAEpB,WAAY,CAClBqB,gBAAgB,CAAEpB,gBAAiB,CACnCqB,YAAY,CAAET,iBAAkB,CAChCU,OAAO,cACL1B,KAAA,CAAAF,SAAA,EAAA6B,QAAA,EAAE,OACK,CAACrB,MAAM,CAAG,SAAS,CAAG,YAAY,CAAC,aAAW,cAAAV,IAAA,WAAA+B,QAAA,CAAStB,IAAI,CAACuB,aAAa,EAAU,GAE3F,CACDC,UAAU,IAAAC,MAAA,CAAKxB,MAAM,CAAG,SAAS,CAAG,YAAY,WAAU,CAC1DyB,KAAK,CAAEnB,kBAAmB,CAC1BoB,OAAO,CAAEnB,oBAAqB,CAC9BoB,OAAO,CAAEtB,oBAAqB,CAC9BuB,oBAAoB,CAAE5B,MAAM,CAAG,cAAc,CAAG,cAAe,CAC/D6B,mBAAmB,CAAE7B,MAAM,CAAG,SAAS,CAAG,YAAa,EACvD,CAEN,CAAC,CAED,cAAe,CAAAL,8BAA8B"},"metadata":{},"sourceType":"module"}