{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{makeStyles}from'@material-ui/core';import{format}from'date-fns';import Button from'components/CustomButtons/Button';import ObjectivesHistoricalTable from'components/ReactTable/ObjectivesTable/ObjectivesHistoricalTable';import{getObjetivesHistorical}from'redux/actions/objetivesOrdExtOtherAction';import{OBJETIVES_HISTORICAL_RESET}from'redux/constants/objetivesOrdExtOtherConstants';import styles from'../styles/ObjectiveModalStyle';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var ViewHistorical=function ViewHistorical(_ref){var closeViewActivityInfoModal=_ref.closeViewActivityInfoModal,info=_ref.info,label=_ref.label;var classes=useStyles();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.objetiveHistoricalList;}),loadingObjetiveHistoricalList=_useSelector.loadingObjetiveHistoricalList,objetiveHistoricalListData=_useSelector.objetiveHistoricalListData,successObjetiveHistoricalList=_useSelector.successObjetiveHistoricalList;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),infodata=_useState2[0],setData=_useState2[1];useEffect(function(){if(successObjetiveHistoricalList){var objetives=objetiveHistoricalListData.objetives.map(function(item){return _objectSpread(_objectSpread({},item),{},{fecha_modificacion:format(new Date(item.fecha_modificacion),'dd-MM-yyyy'),fullModificador:\"\".concat((item===null||item===void 0?void 0:item.nombreModificador)||'',\" \").concat((item===null||item===void 0?void 0:item.apellido1Modificador)||'',\" \").concat((item===null||item===void 0?void 0:item.apellido2Modificador)||'',\"  \"),fullname:\"\".concat((item===null||item===void 0?void 0:item.nombre)||'',\" \").concat((item===null||item===void 0?void 0:item.apellido1)||'',\" \").concat((item===null||item===void 0?void 0:item.apellido2)||'',\"  \"),fullUnidadesAnterior:\"\".concat((item===null||item===void 0?void 0:item.unidades_minimo_anterior)||'-',\" / \").concat((item===null||item===void 0?void 0:item.unidades_medio_anterior)||'-',\" / \").concat((item===null||item===void 0?void 0:item.unidades_maximo_anterior)||'-',\"  \"),fullEntradaAnterior:\"\".concat((item===null||item===void 0?void 0:item.porcentaje_entrada_minimo_anterior)||'-',\" / \").concat(item.porcentaje_entrada_medio_anterior||'-',\" / \").concat(item.porcentaje_entrada_maximo_anterior||'-',\" \"),fullTiempoAnterior:\"\".concat((item===null||item===void 0?void 0:item.tiempo_minimo_anterior)||'-',\" / \").concat((item===null||item===void 0?void 0:item.tiempo_medio_anterior)||'-',\" / \").concat((item===null||item===void 0?void 0:item.tiempo_maximo_anterior)||'-',\"  \"),fullJornadaAnterior:\"\".concat((item===null||item===void 0?void 0:item.porcentaje_jornada_minimo_anterior)||'-',\" / \").concat(item.porcentaje_jornada_medio_anterior||'-',\" / \").concat(item.porcentaje_jornada_maximo_anterior||'-',\" \"),fullUnidadesNueva:\"\".concat((item===null||item===void 0?void 0:item.unidades_minimo_nueva)||'-',\" / \").concat((item===null||item===void 0?void 0:item.unidades_medio_nueva)||'-',\" / \").concat((item===null||item===void 0?void 0:item.unidades_maximo_nueva)||'-',\"  \"),fullEntradaNueva:\"\".concat((item===null||item===void 0?void 0:item.porcentaje_entrada_minimo_nueva)||'-',\" / \").concat(item.porcentaje_entrada_medio_nueva||'-',\" / \").concat(item.porcentaje_entrada_maximo_nueva||'-',\" \"),fullTiempoNueva:\"\".concat((item===null||item===void 0?void 0:item.tiempo_minimo_nueva)||'-',\" / \").concat((item===null||item===void 0?void 0:item.tiempo_medio_nueva)||'-',\" / \").concat((item===null||item===void 0?void 0:item.tiempo_maximo_nueva)||'-',\"  \"),fullJornadaNueva:\"\".concat((item===null||item===void 0?void 0:item.porcentaje_jornada_minimo_nueva)||'-',\" / \").concat(item.porcentaje_jornada_medio_nueva||'-',\" / \").concat(item.porcentaje_jornada_maximo_nueva||'-',\" \")});});setData(objetives);}else{dispatch(getObjetivesHistorical(info));}},[dispatch,successObjetiveHistoricalList]);useEffect(function(){return function(){return dispatch({type:OBJETIVES_HISTORICAL_RESET});};},[dispatch]);return/*#__PURE__*/_jsxs(_Fragment,{children:[!loadingObjetiveHistoricalList&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ObjectivesHistoricalTable,{data:infodata,label:label})}),' ',/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:closeViewActivityInfoModal,style:{marginLeft:'10px'},children:\"Volver\"}),alert]});};export default ViewHistorical;","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","makeStyles","format","Button","ObjectivesHistoricalTable","getObjetivesHistorical","OBJETIVES_HISTORICAL_RESET","styles","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","useStyles","ViewHistorical","_ref","closeViewActivityInfoModal","info","label","classes","dispatch","_useSelector","state","objetiveHistoricalList","loadingObjetiveHistoricalList","objetiveHistoricalListData","successObjetiveHistoricalList","_useState","_useState2","_slicedToArray","infodata","setData","objetives","map","item","_objectSpread","fecha_modificacion","Date","fullModificador","concat","nombreModificador","apellido1Modificador","apellido2Modificador","fullname","nombre","apellido1","apellido2","fullUnidadesAnterior","unidades_minimo_anterior","unidades_medio_anterior","unidades_maximo_anterior","fullEntradaAnterior","porcentaje_entrada_minimo_anterior","porcentaje_entrada_medio_anterior","porcentaje_entrada_maximo_anterior","fullTiempoAnterior","tiempo_minimo_anterior","tiempo_medio_anterior","tiempo_maximo_anterior","fullJornadaAnterior","porcentaje_jornada_minimo_anterior","porcentaje_jornada_medio_anterior","porcentaje_jornada_maximo_anterior","fullUnidadesNueva","unidades_minimo_nueva","unidades_medio_nueva","unidades_maximo_nueva","fullEntradaNueva","porcentaje_entrada_minimo_nueva","porcentaje_entrada_medio_nueva","porcentaje_entrada_maximo_nueva","fullTiempoNueva","tiempo_minimo_nueva","tiempo_medio_nueva","tiempo_maximo_nueva","fullJornadaNueva","porcentaje_jornada_minimo_nueva","porcentaje_jornada_medio_nueva","porcentaje_jornada_maximo_nueva","type","children","data","color","onClick","style","marginLeft","alert"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/components/Modal/ObjectivesModals/ViewHistoricalModal.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { format } from 'date-fns'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport ObjectivesHistoricalTable from 'components/ReactTable/ObjectivesTable/ObjectivesHistoricalTable'\r\nimport { getObjetivesHistorical } from 'redux/actions/objetivesOrdExtOtherAction'\r\nimport { OBJETIVES_HISTORICAL_RESET } from 'redux/constants/objetivesOrdExtOtherConstants'\r\n\r\nimport styles from '../styles/ObjectiveModalStyle'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst ViewHistorical = ({ closeViewActivityInfoModal, info, label }) => {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  \r\n  const { loadingObjetiveHistoricalList, objetiveHistoricalListData, successObjetiveHistoricalList } = useSelector(\r\n    (state) => state.objetiveHistoricalList\r\n  )\r\n\r\n  const [infodata, setData] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (successObjetiveHistoricalList) {\r\n      const objetives = objetiveHistoricalListData.objetives.map((item) => {\r\n        return {\r\n          ...item,\r\n          fecha_modificacion: format(new Date(item.fecha_modificacion), 'dd-MM-yyyy'),\r\n          fullModificador: `${item?.nombreModificador || ''} ${item?.apellido1Modificador || ''} ${item?.apellido2Modificador || ''}  `,\r\n          fullname: `${item?.nombre || ''} ${item?.apellido1 || ''} ${item?.apellido2 || ''}  `,\r\n          fullUnidadesAnterior: `${item?.unidades_minimo_anterior || '-'} / ${item?.unidades_medio_anterior || '-'} / ${item?.unidades_maximo_anterior || '-'}  `,\r\n          fullEntradaAnterior: `${item?.porcentaje_entrada_minimo_anterior || '-'} / ${item.porcentaje_entrada_medio_anterior || '-'} / ${item.porcentaje_entrada_maximo_anterior || '-'} `,\r\n          fullTiempoAnterior: `${item?.tiempo_minimo_anterior || '-'} / ${item?.tiempo_medio_anterior || '-'} / ${item?.tiempo_maximo_anterior || '-'}  `,\r\n          fullJornadaAnterior: `${item?.porcentaje_jornada_minimo_anterior || '-'} / ${item.porcentaje_jornada_medio_anterior || '-'} / ${item.porcentaje_jornada_maximo_anterior || '-'} `,\r\n          fullUnidadesNueva: `${item?.unidades_minimo_nueva || '-'} / ${item?.unidades_medio_nueva || '-'} / ${item?.unidades_maximo_nueva || '-'}  `,\r\n          fullEntradaNueva: `${item?.porcentaje_entrada_minimo_nueva || '-'} / ${item.porcentaje_entrada_medio_nueva || '-'} / ${item.porcentaje_entrada_maximo_nueva || '-'} `,\r\n          fullTiempoNueva: `${item?.tiempo_minimo_nueva || '-'} / ${item?.tiempo_medio_nueva || '-'} / ${item?.tiempo_maximo_nueva || '-'}  `,\r\n          fullJornadaNueva: `${item?.porcentaje_jornada_minimo_nueva || '-'} / ${item.porcentaje_jornada_medio_nueva || '-'} / ${item.porcentaje_jornada_maximo_nueva || '-'} `,\r\n        }\r\n      })\r\n      setData(objetives)\r\n    } else {\r\n        dispatch(getObjetivesHistorical(info))\r\n    }\r\n  }, [dispatch, successObjetiveHistoricalList])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: OBJETIVES_HISTORICAL_RESET })\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      {!loadingObjetiveHistoricalList && (\r\n        <>\r\n          <ObjectivesHistoricalTable data={infodata} label={label} />\r\n        </>\r\n      )}{' '}\r\n      <Button color='primary' onClick={closeViewActivityInfoModal} style={{ marginLeft: '10px' }}>\r\n        Volver\r\n      </Button>\r\n      {alert}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ViewHistorical\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}