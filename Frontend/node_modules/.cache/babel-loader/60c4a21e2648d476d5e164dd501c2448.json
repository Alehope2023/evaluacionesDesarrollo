{"ast":null,"code":"import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{makeStyles}from'@material-ui/core';import GridItem from'components/Grid/GridItem';import MultiSelectPuesto from'components/MultiSelectPuestos/MultiSelectPuestos';import{TEAM_WORK_LIST_RESET}from'redux/constants/teamWorkConstants';import{getTeamWorks}from'redux/actions/teamWorkActions';import styles from'../styles/multiSelectStyles';import{jsx as _jsx}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var PuestosMultiSelect=function PuestosMultiSelect(_ref){var puestosData=_ref.puestosData,setPuestosData=_ref.setPuestosData;var classes=useStyles();var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useSelector=useSelector(function(state){return state.teamWorkList;}),loadingTeamWorkList=_useSelector.loadingTeamWorkList,successTeamWorkList=_useSelector.successTeamWorkList,teamWorkListData=_useSelector.teamWorkListData,errorTeamWorkList=_useSelector.errorTeamWorkList;useEffect(function(){return function(){return dispatch({type:TEAM_WORK_LIST_RESET});};},[dispatch]);useEffect(function(){if(!successTeamWorkList){dispatch(getTeamWorks());}else{setData(teamWorkListData);}},[successTeamWorkList]);var handleChangeMultiData=function handleChangeMultiData(event){var value=event.target.value;if(puestosData.map(function(puesto){return puesto.id_puesto;}).indexOf(value[value.length-1].id_puesto)===-1){setPuestosData(value);}else{setPuestosData(puestosData.filter(function(puesto){var _value;return puesto.id_puesto!==((_value=value[value.length-1])===null||_value===void 0?void 0:_value.id_puesto);}));}};return/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(MultiSelectPuesto,{label:'Puestos de trabajo',data:data,multiData:puestosData,handleChangeMultiData:handleChangeMultiData})});};export default PuestosMultiSelect;","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","makeStyles","GridItem","MultiSelectPuesto","TEAM_WORK_LIST_RESET","getTeamWorks","styles","jsx","_jsx","useStyles","PuestosMultiSelect","_ref","puestosData","setPuestosData","classes","dispatch","_useState","_useState2","_slicedToArray","data","setData","_useSelector","state","teamWorkList","loadingTeamWorkList","successTeamWorkList","teamWorkListData","errorTeamWorkList","type","handleChangeMultiData","event","value","target","map","puesto","id_puesto","indexOf","length","filter","_value","xs","children","label","multiData"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/InformesScreen/InformeAgregadoScreen/components/PuestosMultiSelect.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport MultiSelectPuesto from 'components/MultiSelectPuestos/MultiSelectPuestos'\r\nimport { TEAM_WORK_LIST_RESET } from 'redux/constants/teamWorkConstants'\r\nimport { getTeamWorks } from 'redux/actions/teamWorkActions'\r\nimport styles from '../styles/multiSelectStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst PuestosMultiSelect = ({ puestosData, setPuestosData }) => {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const [data, setData] = useState([])\r\n\r\n  const { loadingTeamWorkList, successTeamWorkList, teamWorkListData, errorTeamWorkList } = useSelector(\r\n    (state) => state.teamWorkList\r\n  )\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: TEAM_WORK_LIST_RESET })\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (!successTeamWorkList) {\r\n      dispatch(getTeamWorks())\r\n    } else {\r\n      setData(teamWorkListData)\r\n    }\r\n  }, [successTeamWorkList])\r\n\r\n  const handleChangeMultiData = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    if (puestosData.map((puesto) => puesto.id_puesto).indexOf(value[value.length - 1].id_puesto) === -1) {\r\n      setPuestosData(value)\r\n    } else {\r\n      setPuestosData(puestosData.filter((puesto) => puesto.id_puesto !== value[value.length - 1]?.id_puesto))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <GridItem xs={12}>\r\n      <MultiSelectPuesto\r\n        label={'Puestos de trabajo'}\r\n        data={data}\r\n        multiData={puestosData}\r\n        handleChangeMultiData={handleChangeMultiData}\r\n      />\r\n    </GridItem>\r\n  )\r\n}\r\n\r\nexport default PuestosMultiSelect\r\n"],"mappings":"qIAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,UAAU,KAAQ,mBAAmB,CAC9C,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAC/C,MAAO,CAAAC,iBAAiB,KAAM,kDAAkD,CAChF,OAASC,oBAAoB,KAAQ,mCAAmC,CACxE,OAASC,YAAY,KAAQ,+BAA+B,CAC5D,MAAO,CAAAC,MAAM,KAAM,6BAA6B,QAAAC,GAAA,IAAAC,IAAA,yBAEhD,GAAM,CAAAC,SAAS,CAAGR,UAAU,CAACK,MAAM,CAAC,CAEpC,GAAM,CAAAI,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAAC,IAAA,CAAwC,IAAlC,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CAAEC,cAAc,CAAAF,IAAA,CAAdE,cAAc,CACvD,GAAM,CAAAC,OAAO,CAAGL,SAAS,EAAE,CAC3B,GAAM,CAAAM,QAAQ,CAAGhB,WAAW,EAAE,CAC9B,IAAAiB,SAAA,CAAwBnB,QAAQ,CAAC,EAAE,CAAC,CAAAoB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAEpB,IAAAI,YAAA,CAA0FrB,WAAW,CACnG,SAACsB,KAAK,QAAK,CAAAA,KAAK,CAACC,YAAY,GAC9B,CAFOC,mBAAmB,CAAAH,YAAA,CAAnBG,mBAAmB,CAAEC,mBAAmB,CAAAJ,YAAA,CAAnBI,mBAAmB,CAAEC,gBAAgB,CAAAL,YAAA,CAAhBK,gBAAgB,CAAEC,iBAAiB,CAAAN,YAAA,CAAjBM,iBAAiB,CAIrF7B,SAAS,CAAC,UAAM,CACd,MAAO,kBAAM,CAAAiB,QAAQ,CAAC,CAAEa,IAAI,CAAExB,oBAAqB,CAAC,CAAC,GACvD,CAAC,CAAE,CAACW,QAAQ,CAAC,CAAC,CAEdjB,SAAS,CAAC,UAAM,CACd,GAAI,CAAC2B,mBAAmB,CAAE,CACxBV,QAAQ,CAACV,YAAY,EAAE,CAAC,CAC1B,CAAC,IAAM,CACLe,OAAO,CAACM,gBAAgB,CAAC,CAC3B,CACF,CAAC,CAAE,CAACD,mBAAmB,CAAC,CAAC,CAEzB,GAAM,CAAAI,qBAAqB,CAAG,QAAxB,CAAAA,qBAAqBA,CAAIC,KAAK,CAAK,CACvC,GACY,CAAAC,KAAK,CACbD,KAAK,CADPE,MAAM,CAAID,KAAK,CAEjB,GAAInB,WAAW,CAACqB,GAAG,CAAC,SAACC,MAAM,QAAK,CAAAA,MAAM,CAACC,SAAS,GAAC,CAACC,OAAO,CAACL,KAAK,CAACA,KAAK,CAACM,MAAM,CAAG,CAAC,CAAC,CAACF,SAAS,CAAC,GAAK,CAAC,CAAC,CAAE,CACnGtB,cAAc,CAACkB,KAAK,CAAC,CACvB,CAAC,IAAM,CACLlB,cAAc,CAACD,WAAW,CAAC0B,MAAM,CAAC,SAACJ,MAAM,MAAAK,MAAA,OAAK,CAAAL,MAAM,CAACC,SAAS,KAAAI,MAAA,CAAKR,KAAK,CAACA,KAAK,CAACM,MAAM,CAAG,CAAC,CAAC,UAAAE,MAAA,iBAAvBA,MAAA,CAAyBJ,SAAS,IAAC,CAAC,CACzG,CACF,CAAC,CAED,mBACE3B,IAAA,CAACN,QAAQ,EAACsC,EAAE,CAAE,EAAG,CAAAC,QAAA,cACfjC,IAAA,CAACL,iBAAiB,EAChBuC,KAAK,CAAE,oBAAqB,CAC5BvB,IAAI,CAAEA,IAAK,CACXwB,SAAS,CAAE/B,WAAY,CACvBiB,qBAAqB,CAAEA,qBAAsB,EAC7C,EACO,CAEf,CAAC,CAED,cAAe,CAAAnB,kBAAkB"},"metadata":{},"sourceType":"module"}