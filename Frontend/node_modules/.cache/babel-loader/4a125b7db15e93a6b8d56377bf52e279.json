{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{format}from'date-fns';import ActiveAndDesactiveActionModal from'components/ReactTableActions/ActiveAndDesactive/ActiveAndDesactiveActionModal';import{taskOtherUpdateInfo}from'redux/actions/taskOtherActions';import{TASK_OTHER_LIST_RESET}from'redux/constants/taskOtherConstants';import{TASK_OTHER_UPDATE_RESET}from'redux/constants/taskOtherConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ActiveAndDesactiveTaskModal=function ActiveAndDesactiveTaskModal(_ref){var activeModal=_ref.activeModal,closeActiveModal=_ref.closeActiveModal,info=_ref.info,active=_ref.active;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.taskOtherUpdate;}),loadingTaskOtherUpdate=_useSelector.loadingTaskOtherUpdate,errorTaskOtherUpdate=_useSelector.errorTaskOtherUpdate,successTaskOtherUpdate=_useSelector.successTaskOtherUpdate;useEffect(function(){if(successTaskOtherUpdate){dispatch({type:TASK_OTHER_LIST_RESET});setTimeout(function(){dispatch({type:TASK_OTHER_UPDATE_RESET});closeActiveModal();},1000);}},[successTaskOtherUpdate]);var activeOrDesactive=function activeOrDesactive(e){e.preventDefault();if(active){dispatch(taskOtherUpdateInfo(_objectSpread(_objectSpread({},info),{},{activo:'SI'})));return;}dispatch(taskOtherUpdateInfo(_objectSpread(_objectSpread({},info),{},{activo:'NO',fecha_baja:format(new Date(),'yyyy-MM-dd')})));};return/*#__PURE__*/_jsx(ActiveAndDesactiveActionModal,{open:activeModal,handleCloseModal:closeActiveModal,handleSubmit:activeOrDesactive,message:/*#__PURE__*/_jsxs(_Fragment,{children:[\"Va a \",active?'activar':'desactivar',\" la tarea \",/*#__PURE__*/_jsx(\"strong\",{children:info.descripcion_tarea})]}),modalTitle:\"\".concat(active?'Activar':'Desactivar',\" Tarea\"),error:errorTaskOtherUpdate,success:successTaskOtherUpdate,loading:loadingTaskOtherUpdate,loadingMessageButton:active?'Activando...':'Desactivando',succesMessageButton:active?'Activar':'Desactivar'});};export default ActiveAndDesactiveTaskModal;","map":{"version":3,"names":["useEffect","useSelector","useDispatch","format","ActiveAndDesactiveActionModal","taskOtherUpdateInfo","TASK_OTHER_LIST_RESET","TASK_OTHER_UPDATE_RESET","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ActiveAndDesactiveTaskModal","_ref","activeModal","closeActiveModal","info","active","dispatch","_useSelector","state","taskOtherUpdate","loadingTaskOtherUpdate","errorTaskOtherUpdate","successTaskOtherUpdate","type","setTimeout","activeOrDesactive","e","preventDefault","_objectSpread","activo","fecha_baja","Date","open","handleCloseModal","handleSubmit","message","children","descripcion_tarea","modalTitle","concat","error","success","loading","loadingMessageButton","succesMessageButton"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/TaskOther/TaskOtherListScreen/components/ActiveAndDesactiveTaskOtherModal.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { format } from 'date-fns'\r\nimport ActiveAndDesactiveActionModal from 'components/ReactTableActions/ActiveAndDesactive/ActiveAndDesactiveActionModal'\r\nimport { taskOtherUpdateInfo } from 'redux/actions/taskOtherActions'\r\nimport { TASK_OTHER_LIST_RESET } from 'redux/constants/taskOtherConstants'\r\nimport { TASK_OTHER_UPDATE_RESET } from 'redux/constants/taskOtherConstants'\r\n\r\nconst ActiveAndDesactiveTaskModal = ({ activeModal, closeActiveModal, info, active }) => { \r\n  const dispatch = useDispatch()\r\n\r\n  const { loadingTaskOtherUpdate, errorTaskOtherUpdate, successTaskOtherUpdate } = useSelector((state) => state.taskOtherUpdate)\r\n\r\n  useEffect(() => {\r\n    if (successTaskOtherUpdate) {\r\n      dispatch({ type: TASK_OTHER_LIST_RESET })\r\n      setTimeout(() => {\r\n        dispatch({ type: TASK_OTHER_UPDATE_RESET })\r\n        closeActiveModal()\r\n      }, 1000)\r\n    }\r\n  }, [successTaskOtherUpdate])\r\n  const activeOrDesactive = (e) => {\r\n    e.preventDefault()\r\n    if (active) {\r\n      dispatch(taskOtherUpdateInfo({ ...info, activo: 'SI' }))\r\n      return\r\n    }\r\n    dispatch(taskOtherUpdateInfo({ ...info, activo: 'NO', fecha_baja: format(new Date(), 'yyyy-MM-dd') }))\r\n  }\r\n  return (\r\n    <ActiveAndDesactiveActionModal\r\n      open={activeModal}\r\n      handleCloseModal={closeActiveModal}\r\n      handleSubmit={activeOrDesactive}\r\n      message={\r\n        <>\r\n          Va a {active ? 'activar' : 'desactivar'} la tarea <strong>{info.descripcion_tarea}</strong>\r\n        </>\r\n      }\r\n      modalTitle={`${active ? 'Activar' : 'Desactivar'} Tarea`}\r\n      error={errorTaskOtherUpdate}\r\n      success={successTaskOtherUpdate}\r\n      loading={loadingTaskOtherUpdate}\r\n      loadingMessageButton={active ? 'Activando...' : 'Desactivando'}\r\n      succesMessageButton={active ? 'Activar' : 'Desactivar'}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ActiveAndDesactiveTaskModal\r\n"],"mappings":"oIAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,KAAQ,UAAU,CACjC,MAAO,CAAAC,6BAA6B,KAAM,+EAA+E,CACzH,OAASC,mBAAmB,KAAQ,gCAAgC,CACpE,OAASC,qBAAqB,KAAQ,oCAAoC,CAC1E,OAASC,uBAAuB,KAAQ,oCAAoC,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5E,GAAM,CAAAC,2BAA2B,CAAG,QAA9B,CAAAA,2BAA2BA,CAAAC,IAAA,CAAwD,IAAlD,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CAAEC,gBAAgB,CAAAF,IAAA,CAAhBE,gBAAgB,CAAEC,IAAI,CAAAH,IAAA,CAAJG,IAAI,CAAEC,MAAM,CAAAJ,IAAA,CAANI,MAAM,CAChF,GAAM,CAAAC,QAAQ,CAAGlB,WAAW,EAAE,CAE9B,IAAAmB,YAAA,CAAiFpB,WAAW,CAAC,SAACqB,KAAK,QAAK,CAAAA,KAAK,CAACC,eAAe,GAAC,CAAtHC,sBAAsB,CAAAH,YAAA,CAAtBG,sBAAsB,CAAEC,oBAAoB,CAAAJ,YAAA,CAApBI,oBAAoB,CAAEC,sBAAsB,CAAAL,YAAA,CAAtBK,sBAAsB,CAE5E1B,SAAS,CAAC,UAAM,CACd,GAAI0B,sBAAsB,CAAE,CAC1BN,QAAQ,CAAC,CAAEO,IAAI,CAAErB,qBAAsB,CAAC,CAAC,CACzCsB,UAAU,CAAC,UAAM,CACfR,QAAQ,CAAC,CAAEO,IAAI,CAAEpB,uBAAwB,CAAC,CAAC,CAC3CU,gBAAgB,EAAE,CACpB,CAAC,CAAE,IAAI,CAAC,CACV,CACF,CAAC,CAAE,CAACS,sBAAsB,CAAC,CAAC,CAC5B,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,CAAC,CAAK,CAC/BA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAIZ,MAAM,CAAE,CACVC,QAAQ,CAACf,mBAAmB,CAAA2B,aAAA,CAAAA,aAAA,IAAMd,IAAI,MAAEe,MAAM,CAAE,IAAI,GAAG,CAAC,CACxD,OACF,CACAb,QAAQ,CAACf,mBAAmB,CAAA2B,aAAA,CAAAA,aAAA,IAAMd,IAAI,MAAEe,MAAM,CAAE,IAAI,CAAEC,UAAU,CAAE/B,MAAM,CAAC,GAAI,CAAAgC,IAAI,EAAE,CAAE,YAAY,CAAC,GAAG,CAAC,CACxG,CAAC,CACD,mBACE1B,IAAA,CAACL,6BAA6B,EAC5BgC,IAAI,CAAEpB,WAAY,CAClBqB,gBAAgB,CAAEpB,gBAAiB,CACnCqB,YAAY,CAAET,iBAAkB,CAChCU,OAAO,cACL1B,KAAA,CAAAF,SAAA,EAAA6B,QAAA,EAAE,OACK,CAACrB,MAAM,CAAG,SAAS,CAAG,YAAY,CAAC,YAAU,cAAAV,IAAA,WAAA+B,QAAA,CAAStB,IAAI,CAACuB,iBAAiB,EAAU,GAE9F,CACDC,UAAU,IAAAC,MAAA,CAAKxB,MAAM,CAAG,SAAS,CAAG,YAAY,UAAS,CACzDyB,KAAK,CAAEnB,oBAAqB,CAC5BoB,OAAO,CAAEnB,sBAAuB,CAChCoB,OAAO,CAAEtB,sBAAuB,CAChCuB,oBAAoB,CAAE5B,MAAM,CAAG,cAAc,CAAG,cAAe,CAC/D6B,mBAAmB,CAAE7B,MAAM,CAAG,SAAS,CAAG,YAAa,EACvD,CAEN,CAAC,CAED,cAAe,CAAAL,2BAA2B"},"metadata":{},"sourceType":"module"}