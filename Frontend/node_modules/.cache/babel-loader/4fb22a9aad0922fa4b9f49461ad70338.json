{"ast":null,"code":"import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{FormControl,InputLabel,MenuItem,Select}from'@material-ui/core';import{NavLink}from'react-router-dom';import GridItem from'components/Grid/GridItem';import Button from'components/CustomButtons/Button';import DuplicateTaskExtOrdOtherList from'./DuplicateTaskExtOrdOtherList';import{PROFILE_LIST_RESET}from'redux/constants/profileConstants';import{getProfiles}from'redux/actions/profileActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DuplicateTaskExtOrdOther=function DuplicateTaskExtOrdOther(_ref){var taskType=_ref.taskType,setTaskType=_ref.setTaskType;var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),profileIdToClone=_useState2[0],setProfileIdToClone=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useSelector=useSelector(function(state){return state.profileList;}),successProfileList=_useSelector.successProfileList,loadingProfileList=_useSelector.loadingProfileList,profiles=_useSelector.profiles;useEffect(function(){return function(){return dispatch({type:PROFILE_LIST_RESET});};},[dispatch]);useEffect(function(){if(!successProfileList){dispatch(getProfiles());}},[successProfileList]);return/*#__PURE__*/_jsx(_Fragment,{children:loadingProfileList?'Cargando Perfiles':profiles?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,style:{display:'flex',alignItems:'center'},children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"task-duplicate-type\",children:\"Perfil a Duplicar\"}),/*#__PURE__*/_jsx(Select,{labelId:\"task-duplicate-type\",id:\"task-duplicate-type\",value:profileIdToClone,label:\"task-duplicate-type\",disabled:search,onChange:function onChange(e){return setProfileIdToClone(e.target.value);},children:profiles.map(function(profile){return/*#__PURE__*/_jsx(MenuItem,{value:profile.id_perfil,children:profile.codigo_perfil},profile.id_perfil);})})]})}),/*#__PURE__*/_jsx(GridItem,{xs:12,sm:6,style:{margin:'20px 0 0',display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",disabled:profileIdToClone=='',block:true,onClick:function onClick(){return setSearch(true);},children:'Buscar asignaciones'})}),search&&/*#__PURE__*/_jsx(DuplicateTaskExtOrdOtherList,{id:profileIdToClone,taskType:taskType,setTaskType:setTaskType})]}):/*#__PURE__*/_jsx(_Fragment,{})});};export default DuplicateTaskExtOrdOther;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","FormControl","InputLabel","MenuItem","Select","NavLink","GridItem","Button","DuplicateTaskExtOrdOtherList","PROFILE_LIST_RESET","getProfiles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DuplicateTaskExtOrdOther","_ref","taskType","setTaskType","dispatch","_useState","_useState2","_slicedToArray","profileIdToClone","setProfileIdToClone","_useState3","_useState4","search","setSearch","_useSelector","state","profileList","successProfileList","loadingProfileList","profiles","type","children","xs","sm","style","display","alignItems","fullWidth","id","labelId","value","label","disabled","onChange","e","target","map","profile","id_perfil","codigo_perfil","margin","justifyContent","color","block","onClick"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/TaskOther/RegisterTaskOtherScreen/components/DuplicateTaskExtOrdOther.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { FormControl, InputLabel, MenuItem, Select } from '@material-ui/core'\r\nimport { NavLink } from 'react-router-dom'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport DuplicateTaskExtOrdOtherList from './DuplicateTaskExtOrdOtherList'\r\nimport { PROFILE_LIST_RESET } from 'redux/constants/profileConstants'\r\nimport { getProfiles } from 'redux/actions/profileActions'\r\n\r\nconst DuplicateTaskExtOrdOther = ({ taskType, setTaskType }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const [profileIdToClone, setProfileIdToClone] = useState('')\r\n  const [search, setSearch] = useState(false)\r\n\r\n  const { successProfileList, loadingProfileList, profiles } = useSelector((state) => state.profileList)\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: PROFILE_LIST_RESET })\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (!successProfileList) {\r\n      dispatch(getProfiles())\r\n    }\r\n  }, [successProfileList])\r\n\r\n  return (\r\n    <>\r\n      {loadingProfileList ? (\r\n        'Cargando Perfiles'\r\n      ) : profiles ? (\r\n        <>\r\n          <GridItem xs={12} sm={6} style={{ display: 'flex', alignItems: 'center' }}>\r\n            <FormControl fullWidth>\r\n              <InputLabel id='task-duplicate-type'>Perfil a Duplicar</InputLabel>\r\n              <Select\r\n                labelId='task-duplicate-type'\r\n                id='task-duplicate-type'\r\n                value={profileIdToClone}\r\n                label='task-duplicate-type'\r\n                disabled={search}\r\n                onChange={(e) => setProfileIdToClone(e.target.value)}\r\n              >\r\n                {profiles.map((profile) => (\r\n                  <MenuItem key={profile.id_perfil} value={profile.id_perfil}>\r\n                    {profile.codigo_perfil}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </GridItem>\r\n          <GridItem xs={12} sm={6} style={{ margin: '20px 0 0', display: 'flex', justifyContent: 'flex-end' }}>\r\n            <Button type='submit' color='primary' disabled={profileIdToClone==''} block onClick={() => setSearch(true)} >\r\n              {'Buscar asignaciones'}\r\n            </Button>\r\n          </GridItem>\r\n          {search && (\r\n            <DuplicateTaskExtOrdOtherList id={profileIdToClone} taskType={taskType} setTaskType={setTaskType} />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DuplicateTaskExtOrdOther\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}