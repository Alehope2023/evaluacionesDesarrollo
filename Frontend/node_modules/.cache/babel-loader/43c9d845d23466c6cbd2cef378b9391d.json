{"ast":null,"code":"import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{FormControl,InputLabel,makeStyles,MenuItem,Select as Selectable}from'@material-ui/core';import GridItem from'components/Grid/GridItem';import{USER_LIST_RESET}from'redux/constants/userConstants';import{getUsersValidacion}from'redux/actions/userActions';import styles from'../styles/selectTrabajadorFilterStyles';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var SelectTrabajadorFilter=function SelectTrabajadorFilter(_ref){var setSelectTrabajadorId=_ref.setSelectTrabajadorId,selectTrabajadorId=_ref.selectTrabajadorId,smes=_ref.smes,sanyo=_ref.sanyo;var dispatch=useDispatch();var classes=useStyles();var _useSelector=useSelector(function(state){return state.userList;}),successUserList=_useSelector.successUserList,loadingUserList=_useSelector.loadingUserList,users=_useSelector.users,errorUserList=_useSelector.errorUserList;useEffect(function(){if(!successUserList&&!errorUserList){var filter={mes:smes,anyo:sanyo};dispatch(getUsersValidacion(filter));}},[successUserList,errorUserList]);useEffect(function(){return dispatch({type:USER_LIST_RESET});},[dispatch]);return/*#__PURE__*/_jsx(_Fragment,{children:loadingUserList?/*#__PURE__*/_jsx(_Fragment,{children:\"Cargando\"}):users&&/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"select-trabajador\",children:\"Trabajador *\"}),/*#__PURE__*/_jsxs(Selectable,{MenuProps:{className:classes.selectMenu},className:classes.select,value:selectTrabajadorId,onChange:function onChange(e){setSelectTrabajadorId(e.target.value);},inputProps:{name:'select-trabajador',id:'select-trabajador',required:true},children:[/*#__PURE__*/_jsx(MenuItem,{disabled:true,classes:{root:classes.selectMenuItem},children:\"Selecciona uno\"}),users.map(function(trabajador,index){return/*#__PURE__*/_jsx(MenuItem,{value:trabajador.id_puesto,classes:{root:classes.selectMenuItem,selected:classes.selectMenuItemSelected},children:\"\".concat(trabajador.nombre,\" \").concat(trabajador===null||trabajador===void 0?void 0:trabajador.apellido1,\" \").concat(trabajador===null||trabajador===void 0?void 0:trabajador.apellido2)},index);})]})]})})});};export default SelectTrabajadorFilter;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","FormControl","InputLabel","makeStyles","MenuItem","Select","Selectable","GridItem","USER_LIST_RESET","getUsersValidacion","styles","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","useStyles","SelectTrabajadorFilter","_ref","setSelectTrabajadorId","selectTrabajadorId","smes","sanyo","dispatch","classes","_useSelector","state","userList","successUserList","loadingUserList","users","errorUserList","filter","mes","anyo","type","children","xs","md","fullWidth","htmlFor","MenuProps","className","selectMenu","select","value","onChange","e","target","inputProps","name","id","required","disabled","root","selectMenuItem","map","trabajador","index","id_puesto","selected","selectMenuItemSelected","concat","nombre","apellido1","apellido2"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/ValidacionScreen/ValidacionScreen/components/SelectTrabajadorFilter.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { FormControl, InputLabel, makeStyles, MenuItem, Select as Selectable } from '@material-ui/core'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport { USER_LIST_RESET } from 'redux/constants/userConstants'\r\nimport { getUsersValidacion } from 'redux/actions/userActions'\r\nimport styles from '../styles/selectTrabajadorFilterStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst SelectTrabajadorFilter = ({ setSelectTrabajadorId, selectTrabajadorId, smes, sanyo }) => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n  \r\n  const {\r\n    successUserList,\r\n    loadingUserList,\r\n    users,\r\n    errorUserList,\r\n  } = useSelector((state) => state.userList)\r\n\r\n  useEffect(() => {\r\n    if (!successUserList && !errorUserList) {\r\n      const filter = {\r\n        mes: smes,\r\n        anyo: sanyo,\r\n      }\r\n      dispatch(getUsersValidacion(filter))\r\n    }\r\n  }, [successUserList, errorUserList])\r\n\r\n  useEffect(() => {\r\n    return dispatch({ type: USER_LIST_RESET })\r\n  }, [dispatch])\r\n\r\n  return (\r\n      <>\r\n        {loadingUserList ? (\r\n          <>Cargando</>\r\n        ) : (\r\n          users && (\r\n            <GridItem xs={12} md={6}>\r\n              <FormControl fullWidth>\r\n                <InputLabel htmlFor='select-trabajador'>Trabajador *</InputLabel>\r\n                <Selectable\r\n                  MenuProps={{\r\n                    className: classes.selectMenu,\r\n                  }}\r\n                  className={classes.select}\r\n                  value={selectTrabajadorId}\r\n                  onChange={(e) => {                    \r\n                    setSelectTrabajadorId(e.target.value)\r\n                  }}\r\n                  inputProps={{\r\n                    name: 'select-trabajador',\r\n                    id: 'select-trabajador',\r\n                    required: true,\r\n                  }}\r\n                >\r\n                  <MenuItem\r\n                    disabled\r\n                    classes={{\r\n                      root: classes.selectMenuItem,\r\n                    }}\r\n                  >\r\n                    Selecciona uno\r\n                  </MenuItem>\r\n                  {users.map((trabajador, index) => (\r\n                    <MenuItem\r\n                      value={trabajador.id_puesto}\r\n                      key={index}\r\n                      classes={{ root: classes.selectMenuItem, selected: classes.selectMenuItemSelected }}\r\n                    >\r\n                      {`${trabajador.nombre} ${trabajador?.apellido1} ${trabajador?.apellido2}`}\r\n                    </MenuItem>\r\n                  ))}\r\n                </Selectable>\r\n              </FormControl>\r\n            </GridItem>\r\n          )\r\n        )}\r\n      </>\r\n\r\n  )\r\n}\r\n\r\nexport default SelectTrabajadorFilter\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}