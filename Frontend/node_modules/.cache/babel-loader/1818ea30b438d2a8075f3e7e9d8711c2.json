{"ast":null,"code":"import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{FormControl,InputLabel,makeStyles,MenuItem,Select as Selectable}from'@material-ui/core';import GridItem from'components/Grid/GridItem';import roles from'config/roles/roles';import{USER_LIST_BY_ROLE_NAME_RESET}from'redux/constants/userConstants';import{getUsersByRoleName}from'redux/actions/userActions';import styles from'../styles/managerDataSelectStyles';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var ManagerDataSelect=function ManagerDataSelect(_ref){var setCurrentJobPositionId=_ref.setCurrentJobPositionId,currentJobPositionId=_ref.currentJobPositionId,disabled=_ref.disabled;var dispatch=useDispatch();var classes=useStyles();var _useSelector=useSelector(function(state){return state.userListByRoleName;}),successUserListByRoleName=_useSelector.successUserListByRoleName,loadingUserListByRoleName=_useSelector.loadingUserListByRoleName,userListByRoleNameData=_useSelector.userListByRoleNameData,errorUserListByRoleName=_useSelector.errorUserListByRoleName;useEffect(function(){if(!successUserListByRoleName&&!errorUserListByRoleName){dispatch(getUsersByRoleName(roles.GESTOR_DE_DATOS_ROLE));}},[successUserListByRoleName,errorUserListByRoleName]);useEffect(function(){return function(){return dispatch({type:USER_LIST_BY_ROLE_NAME_RESET});};},[dispatch]);return/*#__PURE__*/_jsx(_Fragment,{children:loadingUserListByRoleName?/*#__PURE__*/_jsx(_Fragment,{children:\"Cargando\"}):/*#__PURE__*/_jsx(GridItem,{xs:12,md:4,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"asign-role\",children:\"Gestor de Datos*\"}),/*#__PURE__*/_jsxs(Selectable,{disabled:disabled,MenuProps:{className:classes.selectMenu},className:classes.select,value:currentJobPositionId,onChange:function onChange(e){setCurrentJobPositionId(e.target.value);},inputProps:{name:'asign-role',id:'asign-role'},children:[(userListByRoleNameData===null||userListByRoleNameData===void 0?void 0:userListByRoleNameData.length)>0?/*#__PURE__*/_jsx(MenuItem,{disabled:true,classes:{root:classes.selectMenuItem},children:\"Selecciona uno\"}):/*#__PURE__*/_jsx(MenuItem,{disabled:true,classes:{root:classes.selectMenuItem},children:\"No existen gestores de datos\"}),(userListByRoleNameData===null||userListByRoleNameData===void 0?void 0:userListByRoleNameData.length)>0&&userListByRoleNameData.map(function(positionJob,index){return/*#__PURE__*/_jsx(MenuItem,{value:positionJob.id_puesto,classes:{root:classes.selectMenuItem,selected:classes.selectMenuItemSelected},children:\"\".concat(positionJob.nombre,\" \").concat(positionJob===null||positionJob===void 0?void 0:positionJob.apellido1,\" \").concat(positionJob===null||positionJob===void 0?void 0:positionJob.apellido2)},index);})]})]})})});};export default ManagerDataSelect;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","FormControl","InputLabel","makeStyles","MenuItem","Select","Selectable","GridItem","roles","USER_LIST_BY_ROLE_NAME_RESET","getUsersByRoleName","styles","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","useStyles","ManagerDataSelect","_ref","setCurrentJobPositionId","currentJobPositionId","disabled","dispatch","classes","_useSelector","state","userListByRoleName","successUserListByRoleName","loadingUserListByRoleName","userListByRoleNameData","errorUserListByRoleName","GESTOR_DE_DATOS_ROLE","type","children","xs","md","fullWidth","htmlFor","MenuProps","className","selectMenu","select","value","onChange","e","target","inputProps","name","id","length","root","selectMenuItem","map","positionJob","index","id_puesto","selected","selectMenuItemSelected","concat","nombre","apellido1","apellido2"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/EntryManager/RegisterEntryManager/components/ManagerDataSelect.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { FormControl, InputLabel, makeStyles, MenuItem, Select as Selectable } from '@material-ui/core'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport roles from 'config/roles/roles'\r\nimport { USER_LIST_BY_ROLE_NAME_RESET } from 'redux/constants/userConstants'\r\nimport { getUsersByRoleName } from 'redux/actions/userActions'\r\nimport styles from '../styles/managerDataSelectStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst ManagerDataSelect = ({ setCurrentJobPositionId, currentJobPositionId, disabled }) => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n\r\n  const {\r\n    successUserListByRoleName,\r\n    loadingUserListByRoleName,\r\n    userListByRoleNameData,\r\n    errorUserListByRoleName,\r\n  } = useSelector((state) => state.userListByRoleName)\r\n\r\n  useEffect(() => {\r\n    if (!successUserListByRoleName && !errorUserListByRoleName) {\r\n      dispatch(getUsersByRoleName(roles.GESTOR_DE_DATOS_ROLE))\r\n    }\r\n  }, [successUserListByRoleName, errorUserListByRoleName])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: USER_LIST_BY_ROLE_NAME_RESET })\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      {loadingUserListByRoleName ? (\r\n        <>Cargando</>\r\n      ) : (\r\n        <GridItem xs={12} md={4}>\r\n          <FormControl fullWidth>\r\n            <InputLabel htmlFor='asign-role'>Gestor de Datos*</InputLabel>\r\n            <Selectable\r\n              disabled={disabled}\r\n              MenuProps={{\r\n                className: classes.selectMenu,\r\n              }}\r\n              className={classes.select}\r\n              value={currentJobPositionId}\r\n              onChange={(e) => {\r\n                setCurrentJobPositionId(e.target.value)\r\n              }}\r\n              inputProps={{\r\n                name: 'asign-role',\r\n                id: 'asign-role',\r\n              }}\r\n            >\r\n              {userListByRoleNameData?.length > 0 ? (\r\n                <MenuItem\r\n                  disabled\r\n                  classes={{\r\n                    root: classes.selectMenuItem,\r\n                  }}\r\n                >\r\n                  Selecciona uno\r\n                </MenuItem>\r\n              ) : (\r\n                <MenuItem\r\n                  disabled\r\n                  classes={{\r\n                    root: classes.selectMenuItem,\r\n                  }}\r\n                >\r\n                  No existen gestores de datos\r\n                </MenuItem>\r\n              )}\r\n              {userListByRoleNameData?.length > 0 &&\r\n                userListByRoleNameData.map((positionJob, index) => (\r\n                  <MenuItem\r\n                    value={positionJob.id_puesto}\r\n                    key={index}\r\n                    classes={{ root: classes.selectMenuItem, selected: classes.selectMenuItemSelected }}\r\n                  >\r\n                    {`${positionJob.nombre} ${positionJob?.apellido1} ${positionJob?.apellido2}`}\r\n                  </MenuItem>\r\n                ))}\r\n            </Selectable>\r\n          </FormControl>\r\n        </GridItem>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ManagerDataSelect\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}