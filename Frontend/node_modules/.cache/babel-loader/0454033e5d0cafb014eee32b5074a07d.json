{"ast":null,"code":"import _objectSpread from \"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\trabajo\\\\Alehope\\\\actividadesPreBuild\\\\Frontend\\\\src\\\\components\\\\Modal\\\\ObjectivesModals\\\\ViewHistoricalModal.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core';\nimport { format } from 'date-fns';\nimport Button from 'components/CustomButtons/Button';\nimport ObjectivesHistoricalTable from 'components/ReactTable/ObjectivesTable/ObjectivesHistoricalTable';\nimport { getObjetivesHistorical } from 'redux/actions/objetivesOrdExtOtherAction';\nimport { OBJETIVES_HISTORICAL_RESET } from 'redux/constants/objetivesOrdExtOtherConstants';\nimport styles from '../styles/ObjectiveModalStyle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\nvar ViewHistorical = function ViewHistorical(_ref) {\n  _s();\n  var closeViewActivityInfoModal = _ref.closeViewActivityInfoModal,\n    info = _ref.info,\n    label = _ref.label;\n  var classes = useStyles();\n  var dispatch = useDispatch();\n  var _useSelector = useSelector(function (state) {\n      return state.objetiveHistoricalList;\n    }),\n    loadingObjetiveHistoricalList = _useSelector.loadingObjetiveHistoricalList,\n    objetiveHistoricalListData = _useSelector.objetiveHistoricalListData,\n    successObjetiveHistoricalList = _useSelector.successObjetiveHistoricalList;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    infodata = _useState2[0],\n    setData = _useState2[1];\n  useEffect(function () {\n    if (successObjetiveHistoricalList) {\n      var objetives = objetiveHistoricalListData.objetives.map(function (item) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          fecha_modificacion: format(new Date(item.fecha_modificacion), 'dd-MM-yyyy'),\n          fullModificador: \"\".concat((item === null || item === void 0 ? void 0 : item.nombreModificador) || '', \" \").concat((item === null || item === void 0 ? void 0 : item.apellido1Modificador) || '', \" \").concat((item === null || item === void 0 ? void 0 : item.apellido2Modificador) || '', \"  \"),\n          fullname: \"\".concat((item === null || item === void 0 ? void 0 : item.nombre) || '', \" \").concat((item === null || item === void 0 ? void 0 : item.apellido1) || '', \" \").concat((item === null || item === void 0 ? void 0 : item.apellido2) || '', \"  \"),\n          fullUnidadesAnterior: \"\".concat((item === null || item === void 0 ? void 0 : item.unidades_minimo_anterior) || '-', \" / \").concat((item === null || item === void 0 ? void 0 : item.unidades_medio_anterior) || '-', \" / \").concat((item === null || item === void 0 ? void 0 : item.unidades_maximo_anterior) || '-', \"  \"),\n          fullEntradaAnterior: \"\".concat((item === null || item === void 0 ? void 0 : item.porcentaje_entrada_minimo_anterior) || '-', \" / \").concat(item.porcentaje_entrada_medio_anterior || '-', \" / \").concat(item.porcentaje_entrada_maximo_anterior || '-', \" \"),\n          fullTiempoAnterior: \"\".concat((item === null || item === void 0 ? void 0 : item.tiempo_minimo_anterior) || '-', \" / \").concat((item === null || item === void 0 ? void 0 : item.tiempo_medio_anterior) || '-', \" / \").concat((item === null || item === void 0 ? void 0 : item.tiempo_maximo_anterior) || '-', \"  \"),\n          fullJornadaAnterior: \"\".concat((item === null || item === void 0 ? void 0 : item.porcentaje_jornada_minimo_anterior) || '-', \" / \").concat(item.porcentaje_jornada_medio_anterior || '-', \" / \").concat(item.porcentaje_jornada_maximo_anterior || '-', \" \"),\n          fullUnidadesNueva: \"\".concat((item === null || item === void 0 ? void 0 : item.unidades_minimo_nueva) || '-', \" / \").concat((item === null || item === void 0 ? void 0 : item.unidades_medio_nueva) || '-', \" / \").concat((item === null || item === void 0 ? void 0 : item.unidades_maximo_nueva) || '-', \"  \"),\n          fullEntradaNueva: \"\".concat((item === null || item === void 0 ? void 0 : item.porcentaje_entrada_minimo_nueva) || '-', \" / \").concat(item.porcentaje_entrada_medio_nueva || '-', \" / \").concat(item.porcentaje_entrada_maximo_nueva || '-', \" \"),\n          fullTiempoNueva: \"\".concat((item === null || item === void 0 ? void 0 : item.tiempo_minimo_nueva) || '-', \" / \").concat((item === null || item === void 0 ? void 0 : item.tiempo_medio_nueva) || '-', \" / \").concat((item === null || item === void 0 ? void 0 : item.tiempo_maximo_nueva) || '-', \"  \"),\n          fullJornadaNueva: \"\".concat((item === null || item === void 0 ? void 0 : item.porcentaje_jornada_minimo_nueva) || '-', \" / \").concat(item.porcentaje_jornada_medio_nueva || '-', \" / \").concat(item.porcentaje_jornada_maximo_nueva || '-', \" \")\n        });\n      });\n      setData(objetives);\n    } else {\n      dispatch(getObjetivesHistorical(info));\n    }\n  }, [dispatch, successObjetiveHistoricalList]);\n  useEffect(function () {\n    return function () {\n      return dispatch({\n        type: OBJETIVES_HISTORICAL_RESET\n      });\n    };\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!loadingObjetiveHistoricalList && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(ObjectivesHistoricalTable, {\n        data: infodata,\n        label: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false), ' ', /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      onClick: closeViewActivityInfoModal,\n      style: {\n        marginLeft: '10px'\n      },\n      children: \"Volver\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, _this), alert]\n  }, void 0, true);\n};\n_s(ViewHistorical, \"Qc5Ic1tu8ixxb8c+3NgR1N7Mups=\", false, function () {\n  return [useStyles, useDispatch, useSelector];\n});\n_c = ViewHistorical;\nexport default ViewHistorical;\nvar _c;\n$RefreshReg$(_c, \"ViewHistorical\");","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","makeStyles","format","Button","ObjectivesHistoricalTable","getObjetivesHistorical","OBJETIVES_HISTORICAL_RESET","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","useStyles","ViewHistorical","_ref","_s","closeViewActivityInfoModal","info","label","classes","dispatch","_useSelector","state","objetiveHistoricalList","loadingObjetiveHistoricalList","objetiveHistoricalListData","successObjetiveHistoricalList","_useState","_useState2","_slicedToArray","infodata","setData","objetives","map","item","_objectSpread","fecha_modificacion","Date","fullModificador","concat","nombreModificador","apellido1Modificador","apellido2Modificador","fullname","nombre","apellido1","apellido2","fullUnidadesAnterior","unidades_minimo_anterior","unidades_medio_anterior","unidades_maximo_anterior","fullEntradaAnterior","porcentaje_entrada_minimo_anterior","porcentaje_entrada_medio_anterior","porcentaje_entrada_maximo_anterior","fullTiempoAnterior","tiempo_minimo_anterior","tiempo_medio_anterior","tiempo_maximo_anterior","fullJornadaAnterior","porcentaje_jornada_minimo_anterior","porcentaje_jornada_medio_anterior","porcentaje_jornada_maximo_anterior","fullUnidadesNueva","unidades_minimo_nueva","unidades_medio_nueva","unidades_maximo_nueva","fullEntradaNueva","porcentaje_entrada_minimo_nueva","porcentaje_entrada_medio_nueva","porcentaje_entrada_maximo_nueva","fullTiempoNueva","tiempo_minimo_nueva","tiempo_medio_nueva","tiempo_maximo_nueva","fullJornadaNueva","porcentaje_jornada_minimo_nueva","porcentaje_jornada_medio_nueva","porcentaje_jornada_maximo_nueva","type","children","data","fileName","_jsxFileName","lineNumber","columnNumber","_this","color","onClick","style","marginLeft","alert","_c","$RefreshReg$"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/components/Modal/ObjectivesModals/ViewHistoricalModal.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { format } from 'date-fns'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport ObjectivesHistoricalTable from 'components/ReactTable/ObjectivesTable/ObjectivesHistoricalTable'\r\nimport { getObjetivesHistorical } from 'redux/actions/objetivesOrdExtOtherAction'\r\nimport { OBJETIVES_HISTORICAL_RESET } from 'redux/constants/objetivesOrdExtOtherConstants'\r\n\r\nimport styles from '../styles/ObjectiveModalStyle'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst ViewHistorical = ({ closeViewActivityInfoModal, info, label }) => {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  \r\n  const { loadingObjetiveHistoricalList, objetiveHistoricalListData, successObjetiveHistoricalList } = useSelector(\r\n    (state) => state.objetiveHistoricalList\r\n  )\r\n\r\n  const [infodata, setData] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (successObjetiveHistoricalList) {\r\n      const objetives = objetiveHistoricalListData.objetives.map((item) => {\r\n        return {\r\n          ...item,\r\n          fecha_modificacion: format(new Date(item.fecha_modificacion), 'dd-MM-yyyy'),\r\n          fullModificador: `${item?.nombreModificador || ''} ${item?.apellido1Modificador || ''} ${item?.apellido2Modificador || ''}  `,\r\n          fullname: `${item?.nombre || ''} ${item?.apellido1 || ''} ${item?.apellido2 || ''}  `,\r\n          fullUnidadesAnterior: `${item?.unidades_minimo_anterior || '-'} / ${item?.unidades_medio_anterior || '-'} / ${item?.unidades_maximo_anterior || '-'}  `,\r\n          fullEntradaAnterior: `${item?.porcentaje_entrada_minimo_anterior || '-'} / ${item.porcentaje_entrada_medio_anterior || '-'} / ${item.porcentaje_entrada_maximo_anterior || '-'} `,\r\n          fullTiempoAnterior: `${item?.tiempo_minimo_anterior || '-'} / ${item?.tiempo_medio_anterior || '-'} / ${item?.tiempo_maximo_anterior || '-'}  `,\r\n          fullJornadaAnterior: `${item?.porcentaje_jornada_minimo_anterior || '-'} / ${item.porcentaje_jornada_medio_anterior || '-'} / ${item.porcentaje_jornada_maximo_anterior || '-'} `,\r\n          fullUnidadesNueva: `${item?.unidades_minimo_nueva || '-'} / ${item?.unidades_medio_nueva || '-'} / ${item?.unidades_maximo_nueva || '-'}  `,\r\n          fullEntradaNueva: `${item?.porcentaje_entrada_minimo_nueva || '-'} / ${item.porcentaje_entrada_medio_nueva || '-'} / ${item.porcentaje_entrada_maximo_nueva || '-'} `,\r\n          fullTiempoNueva: `${item?.tiempo_minimo_nueva || '-'} / ${item?.tiempo_medio_nueva || '-'} / ${item?.tiempo_maximo_nueva || '-'}  `,\r\n          fullJornadaNueva: `${item?.porcentaje_jornada_minimo_nueva || '-'} / ${item.porcentaje_jornada_medio_nueva || '-'} / ${item.porcentaje_jornada_maximo_nueva || '-'} `,\r\n        }\r\n      })\r\n      setData(objetives)\r\n    } else {\r\n        dispatch(getObjetivesHistorical(info))\r\n    }\r\n  }, [dispatch, successObjetiveHistoricalList])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: OBJETIVES_HISTORICAL_RESET })\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      {!loadingObjetiveHistoricalList && (\r\n        <>\r\n          <ObjectivesHistoricalTable data={infodata} label={label} />\r\n        </>\r\n      )}{' '}\r\n      <Button color='primary' onClick={closeViewActivityInfoModal} style={{ marginLeft: '10px' }}>\r\n        Volver\r\n      </Button>\r\n      {alert}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ViewHistorical\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}