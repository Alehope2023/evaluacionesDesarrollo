{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import ReactExport from'react-data-export';import jsPDF from'jspdf';import'jspdf-autotable';import DownloadConfirmModal from'components/DownloadConfirmModal/DownloadConfirmModal';import{FormControl,InputLabel,ListItemText,makeStyles,MenuItem,Select}from'@material-ui/core';import{LocalHospital,LibraryAddCheck,Check,Clear,HealthAndSafety,Delete,Calculate}from'@mui/icons-material';import Card from'components/Card/Card';import{Tooltip}from'@material-ui/core';import Button from'components/CustomButtons/Button';import CardBody from'components/Card/CardBody';import ReactTable from'components/ReactTable/ReactTable';import GridContainer from'components/Grid/GridContainer';import GridItem from'components/Grid/GridItem';import SnackbarContent from'components/Snackbar/SnackbarContent';import SweetAlert from'react-bootstrap-sweetalert';import styles from'./styles/supervisionScreenStyles';import DateFnsUtils from'@date-io/date-fns';import esLocale from\"date-fns/locale/es\";import{MuiPickersUtilsProvider,KeyboardDatePicker}from\"@material-ui/pickers\";import SelectTrabajadorFilter from'./components/SelectTrabajadorFilter';import ViewResumenHorasModal from'../../InformesScreen/InformeIndividualScreen/components/ResumenHorasModal/ViewResumenHorasModal';import UpdateCorreccionNivelModal from'./components/CorreccionNivelModal/UpdateCorreccionNivelModal';import UpdateCorreccionNivelGlobalModal from'./components/CorreccionNivelModal/UpdateCorreccionNivelGlobalModal';import{supervisionUpdateInfo,getEvaluacion,correccionDeleteInfo,correccionGlobalDeleteInfo,supervisionMasiva,getResumen,finalizarSupervision}from'redux/actions/evaluacionActions';import{getConfiguracions}from'redux/actions/configuracionActions';import ViewCalculoModal from'../../InformesScreen/InformeIndividualScreen/components/CalculosModal/ViewCalculoModal';import{EVALUACION_SUPERVISION_UPDATE_RESET,EVALUACION_CORRECCION_DELETE_RESET,EVALUACION_CORRECCION_GLOBAL_DELETE_RESET,EVALUACION_SUPERVISION_MASIVA_RESET}from'redux/constants/evaluacionConstants';import{EVALUACION_INFO_RESET,EVALUACION_RESUMEN_RESET,EVALUACION_FINALIZAR_SUPERVISION_RESET}from'redux/constants/evaluacionConstants';import{USER_LIST_RESET}from'redux/constants/userConstants';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var SupervisionScreen=function SupervisionScreen(){var ExcelFile=ReactExport.ExcelFile;var dispatch=useDispatch();var classes=useStyles();var initialState={fecha_seleccionada:new Date(),mes:new Date().getMonth()+1,anyo:new Date().getFullYear()};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),downloadExcel=_useState2[0],setDownloadExcel=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),downloadPdf=_useState4[0],setDownloadPdf=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),excel=_useState6[0],setExcel=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),pdf=_useState8[0],setPdf=_useState8[1];var _useState9=useState(initialState),_useState10=_slicedToArray(_useState9,2),consultaInfo=_useState10[0],setConsultaInfo=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),successSupervisionConsulta=_useState12[0],setSuccessSupervisionConsulta=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),selectTrabajadorId=_useState14[0],setselectTrabajadorId=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),alert=_useState16[0],setAlert=_useState16[1];var _useSelector=useSelector(function(state){return state.evaluacionSupervisionUpdate;}),errorSupervisionUpdate=_useSelector.errorSupervisionUpdate,successSupervisionUpdate=_useSelector.successSupervisionUpdate,supervisionUpdated=_useSelector.supervisionUpdated;var _useSelector2=useSelector(function(state){return state.evaluacionCorreccionDelete;}),loadingCorreccionDelete=_useSelector2.loadingCorreccionDelete,errorCorreccionDelete=_useSelector2.errorCorreccionDelete,successCorreccionDelete=_useSelector2.successCorreccionDelete,correccionDeleted=_useSelector2.correccionDeleted;var _useSelector3=useSelector(function(state){return state.evaluacionCorreccionGlobalDelete;}),loadingCorreccionGlobalDelete=_useSelector3.loadingCorreccionGlobalDelete,errorCorreccionGlobalDelete=_useSelector3.errorCorreccionGlobalDelete,successCorreccionGlobalDelete=_useSelector3.successCorreccionGlobalDelete,correccionGlobalDeleted=_useSelector3.correccionGlobalDeleted;var _useSelector4=useSelector(function(state){return state.evaluacionSupervisionMasiva;}),loadingSupervisionMasiva=_useSelector4.loadingSupervisionMasiva,errorSupervisionMasiva=_useSelector4.errorSupervisionMasiva,successSupervisionMasiva=_useSelector4.successSupervisionMasiva;var _useSelector5=useSelector(function(state){return state.evaluacionFinalizarSupervision;}),loadingFinalizarSupervision=_useSelector5.loadingFinalizarSupervision,errorFinalizarSupervision=_useSelector5.errorFinalizarSupervision,successFinalizarSupervision=_useSelector5.successFinalizarSupervision;var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),limiteFechas=_useState18[0],setLimiteFechas=_useState18[1];var _useSelector6=useSelector(function(state){return state.configuracionList;}),configuracions=_useSelector6.configuracions,successConfiguracionList=_useSelector6.successConfiguracionList;var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),viewCalculoModal=_useState20[0],setViewCalculoModal=_useState20[1];var _useState21=useState({}),_useState22=_slicedToArray(_useState21,2),dataCalculoModal=_useState22[0],setDataCalculoModal=_useState22[1];var _useSelector7=useSelector(function(state){return state.evaluacionInfo;}),successEvaluacionInfo=_useSelector7.successEvaluacionInfo,loadingEvaluacionInfo=_useSelector7.loadingEvaluacionInfo,evaluacionInfoData=_useSelector7.evaluacionInfoData,errorEvaluacionInfo=_useSelector7.errorEvaluacionInfo;var _useSelector8=useSelector(function(state){return state.evaluacionResumen;}),successEvaluacionResumen=_useSelector8.successEvaluacionResumen,loadingEvaluacionResumen=_useSelector8.loadingEvaluacionResumen,evaluacionResumenData=_useSelector8.evaluacionResumenData,errorEvaluacionResumen=_useSelector8.errorEvaluacionResumen;var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),viewCorreccionModal=_useState24[0],setViewCorreccionModal=_useState24[1];var _useState25=useState({}),_useState26=_slicedToArray(_useState25,2),dataCorreccionModal=_useState26[0],setDataCorreccionModal=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),viewCorreccionGlobalModal=_useState28[0],setViewCorreccionGlobalModal=_useState28[1];var _useState29=useState({}),_useState30=_slicedToArray(_useState29,2),dataCorreccionGlobalModal=_useState30[0],setDataCorreccionGlobalModal=_useState30[1];useEffect(function(){if(pdf){exportPDF();}},[pdf]);var exportPDF=function exportPDF(){var doc=new jsPDF(\"p\",\"mm\",\"a2\");doc.text('Informe Supervisión',20,10);doc.autoTable({body:evaluacionInfoData.detalles,columns:[{header:'TIPO',dataKey:'tipo_tarea'},{header:'TAREA',dataKey:'descripcion_tarea'},{header:'DIF.',dataKey:'nivel_dificultad'},{header:'H.',dataKey:'horas'},{header:'UDS.',dataKey:'unidades'},{header:'D. UDS',dataKey:'nivel_unidades'},{header:'D. CORR. UDS',dataKey:'nivel_unidades_corregido'},{header:'D. TIEMPO',dataKey:'nivel_tiempo'},{header:'D. CORR. TIEMPO',dataKey:'nivel_tiempo_corregido'},{header:'D. % ENTRADA',dataKey:'nivel_porcentaje_entrada'},{header:'D. CORR. % ENTRADA',dataKey:'nivel_porcentaje_entrada_corregido'},{header:'D. % JORNADA',dataKey:'nivel_porcentaje_jornada'},{header:'D. CORR. % JORNADA',dataKey:'nivel_porcentaje_jornada_corregido'},{header:'SUPERVISIÓN',dataKey:'supervision'}]});doc.save('supervision.pdf');};useEffect(function(){if(!successSupervisionConsulta){dispatch({type:EVALUACION_INFO_RESET});dispatch({type:EVALUACION_RESUMEN_RESET});setViewCalculoModal(false);setDataCalculoModal({});setViewCorreccionModal(false);setDataCorreccionModal({});setViewCorreccionGlobalModal(false);setDataCorreccionGlobalModal({});}},[successSupervisionConsulta]);var handleRealizarConsulta=function handleRealizarConsulta(e){e.preventDefault();var filter={mes:consultaInfo.fecha_seleccionada.getMonth()+1,anyo:consultaInfo.fecha_seleccionada.getFullYear(),trabajador_id:selectTrabajadorId,es_para_validar:true};dispatch(getEvaluacion(filter));};var handleLimpiarConsulta=function handleLimpiarConsulta(e){e.preventDefault();setSuccessSupervisionConsulta(false);setConsultaInfo(initialState);setselectTrabajadorId('');dispatch({type:EVALUACION_INFO_RESET});dispatch({type:EVALUACION_RESUMEN_RESET});setViewCorreccionModal(false);setDataCorreccionModal({});setViewCorreccionGlobalModal(false);setDataCorreccionGlobalModal({});};var closeViewResumenModal=function closeViewResumenModal(){dispatch({type:EVALUACION_RESUMEN_RESET});};var handleResumenHoras=function handleResumenHoras(e){e.preventDefault();var filter={mes:consultaInfo.fecha_seleccionada.getMonth()+1,anyo:consultaInfo.fecha_seleccionada.getFullYear(),trabajador_id:selectTrabajadorId};dispatch(getResumen(filter));};var closeViewCorreccionModal=function closeViewCorreccionModal(){setViewCorreccionModal(false);setDataCorreccionModal({});};var closeViewCorreccionGlobalModal=function closeViewCorreccionGlobalModal(){setViewCorreccionGlobalModal(false);setDataCorreccionGlobalModal({});};var updateViewCorreccionModal=function updateViewCorreccionModal(datos_modificados){var evalucionModificada=evaluacionInfoData.detalles.find(function(item){return item.id_detalle_evaluacion===datos_modificados.id_detalle_evaluacion;});evaluacionInfoData.nivel_global_corregido=datos_modificados.nivel_global_corregido;evalucionModificada.nivel_unidades_corregido=datos_modificados.nivel_unidades_corregido;evalucionModificada.nivel_tiempo_corregido=datos_modificados.nivel_tiempo_corregido;evalucionModificada.nivel_porcentaje_jornada_corregido=datos_modificados.nivel_porcentaje_jornada_corregido;evalucionModificada.nivel_porcentaje_entrada_corregido=datos_modificados.nivel_porcentaje_entrada_corregido;evalucionModificada.observaciones=datos_modificados.observaciones;evalucionModificada.supervision='CORREGIDO';};var updateViewCorreccionGlobalModal=function updateViewCorreccionGlobalModal(datos_modificados){var evalucionModificada=evaluacionInfoData;evaluacionInfoData.nivel_global_corregido=datos_modificados.nivel_global_corregido;};var handleVerCorreccion=function handleVerCorreccion(id_detalle){setViewCorreccionModal(true);var datosCorregidos=evaluacionInfoData.detalles.find(function(item){return item.id_detalle_evaluacion===id_detalle;});setDataCorreccionModal(datosCorregidos);};var handleVerCorreccionGlobal=function handleVerCorreccionGlobal(){setViewCorreccionGlobalModal(true);var datosCorregidos=evaluacionInfoData;setDataCorreccionGlobalModal(datosCorregidos);};useEffect(function(){if(successSupervisionUpdate){setAlert(/*#__PURE__*/_jsxs(SweetAlert,{success:true,style:{display:'block',marginTop:'-100px'},title:\"HECHO!\",onConfirm:function onConfirm(){return confirmSupervision();},onCancel:function onCancel(){return confirmSupervision();},confirmBtnCssClass:classes.confirmBtnCssClass,children:[\"Se ha \",supervisionUpdated.supervision=='SI'?'supervisado':'des supervisado',\" correctamente.\"]}));}else if(errorSupervisionUpdate){setAlert(/*#__PURE__*/_jsx(SweetAlert,{error:true,style:{display:'block',marginTop:'-100px'},title:\"ERROR!\",onConfirm:function onConfirm(){return closeSupervision();},onCancel:function onCancel(){return closeSupervision();},confirmBtnCssClass:classes.errorBtnCssClass,children:\"Error en la actualizaci\\xF3n de la supervisi\\xF3n. Intentelo m\\xE1s tarde.\"}));}},[successSupervisionUpdate,errorSupervisionUpdate]);var closeSupervision=function closeSupervision(){dispatch({type:EVALUACION_SUPERVISION_UPDATE_RESET});setAlert(null);};var confirmSupervision=function confirmSupervision(){var detalle_seleccionado=evaluacionInfoData.detalles.find(function(item){return item.id_detalle_evaluacion===supervisionUpdated.id_detalle_evaluacion;});detalle_seleccionado.supervision=supervisionUpdated.supervision;dispatch({type:EVALUACION_SUPERVISION_UPDATE_RESET});setAlert(null);};var handleSupervision=function handleSupervision(id_detalle){var detalle_seleccionado=evaluacionInfoData.detalles.find(function(item){return item.id_detalle_evaluacion===id_detalle;});if(detalle_seleccionado.supervision==='CORREGIDO'){setAlert(/*#__PURE__*/_jsx(SweetAlert,{warning:true,style:{display:'block',marginTop:'-100px'},title:\"Aviso!\",onConfirm:function onConfirm(){return closeSupervision();},onCancel:function onCancel(){return closeSupervision();},confirmBtnCssClass:classes.warningBtnCssClass,children:\"No es necesario supervisar, porque esta corregido.\"}));}else{var valor='SI';if(detalle_seleccionado.supervision==='SI'){valor='NO';}var data={id_detalle_evaluacion:detalle_seleccionado.id_detalle_evaluacion,supervision:valor};dispatch(supervisionUpdateInfo(data));}};useEffect(function(){if(successCorreccionDelete){setAlert(/*#__PURE__*/_jsx(SweetAlert,{success:true,style:{display:'block',marginTop:'-100px'},title:\"HECHO!\",onConfirm:function onConfirm(){return confirmBorrado();},onCancel:function onCancel(){return confirmBorrado();},confirmBtnCssClass:classes.confirmBtnCssClass,children:\"Correcci\\xF3n borrada correctamente.\"}));}else if(errorCorreccionDelete){setAlert(/*#__PURE__*/_jsx(SweetAlert,{error:true,style:{display:'block',marginTop:'-100px'},title:\"ERROR!\",onConfirm:function onConfirm(){return closeBorrado();},onCancel:function onCancel(){return closeBorrado();},confirmBtnCssClass:classes.errorBtnCssClass,children:\"Error en la actualizaci\\xF3n de la correcci\\xF3n. Intentelo m\\xE1s tarde.\"}));}},[successCorreccionDelete,errorCorreccionDelete]);useEffect(function(){if(successCorreccionGlobalDelete){setAlert(/*#__PURE__*/_jsx(SweetAlert,{success:true,style:{display:'block',marginTop:'-100px'},title:\"HECHO!\",onConfirm:function onConfirm(){return confirmBorradoGlobal();},onCancel:function onCancel(){return confirmBorradoGlobal();},confirmBtnCssClass:classes.confirmBtnCssClass,children:\"Correcci\\xF3n global borrada correctamente.\"}));}else if(errorCorreccionGlobalDelete){setAlert(/*#__PURE__*/_jsx(SweetAlert,{error:true,style:{display:'block',marginTop:'-100px'},title:\"ERROR!\",onConfirm:function onConfirm(){return closeBorradoGlobal();},onCancel:function onCancel(){return closeBorradoGlobal();},confirmBtnCssClass:classes.errorBtnCssClass,children:\"Error en la actualizaci\\xF3n de la correcci\\xF3n global. Intentelo m\\xE1s tarde.\"}));}},[successCorreccionGlobalDelete,errorCorreccionGlobalDelete]);useEffect(function(){if(successConfiguracionList){var currentDate=new Date();var rangoFechas={fecha_minima:new Date('12/01/2021'),fecha_maxima:currentDate};var parametro_seleccionado=configuracions.filter(function(configuracion){return configuracion.parametro=='registro_actividad';})[0];if(rangoFechas.fecha_maxima.getDate()>parametro_seleccionado.valor){//Es el mes anterior\nrangoFechas.fecha_maxima=new Date(currentDate.getFullYear(),currentDate.getMonth()-1,28);setConsultaInfo(_objectSpread(_objectSpread({},consultaInfo),{},{fecha_seleccionada:rangoFechas.fecha_maxima}));}else{//Es dos meses antes\nrangoFechas.fecha_maxima=new Date(currentDate.getFullYear(),currentDate.getMonth()-2,28);setConsultaInfo(_objectSpread(_objectSpread({},consultaInfo),{},{fecha_seleccionada:rangoFechas.fecha_maxima}));}setLimiteFechas(rangoFechas);}else{dispatch(getConfiguracions());}},[successConfiguracionList]);useEffect(function(){if(successSupervisionMasiva){setAlert(/*#__PURE__*/_jsx(SweetAlert,{success:true,style:{display:'block',marginTop:'-100px'},title:\"HECHO!\",onConfirm:function onConfirm(){return confirmSupervisionMasiva();},onCancel:function onCancel(){return confirmSupervisionMasiva();},confirmBtnCssClass:classes.confirmBtnCssClass,children:\"Supervisi\\xF3n masiva realizada correctamente.\"}));}else if(errorSupervisionMasiva){setAlert(/*#__PURE__*/_jsx(SweetAlert,{error:true,style:{display:'block',marginTop:'-100px'},title:\"ERROR!\",onConfirm:function onConfirm(){return closeSupervisionMasiva();},onCancel:function onCancel(){return closeSupervisionMasiva();},confirmBtnCssClass:classes.errorBtnCssClass,children:\"Error en la actualizaci\\xF3n de la supervisi\\xF3n. Intentelo m\\xE1s tarde.\"}));}},[successSupervisionMasiva,errorSupervisionMasiva]);useEffect(function(){if(successFinalizarSupervision){setAlert(/*#__PURE__*/_jsx(SweetAlert,{success:true,style:{display:'block',marginTop:'-100px'},title:\"HECHO!\",onConfirm:function onConfirm(){return confirmFinalizarSupervision();},onCancel:function onCancel(){return confirmFinalizarSupervision();},confirmBtnCssClass:classes.confirmBtnCssClass,children:\"Finalizaci\\xF3n de supervisi\\xF3n realizada correctamente.\"}));}else if(errorFinalizarSupervision){setAlert(/*#__PURE__*/_jsx(SweetAlert,{error:true,style:{display:'block',marginTop:'-100px'},title:\"ERROR!\",onConfirm:function onConfirm(){return closeFinalizarSupervision();},onCancel:function onCancel(){return closeFinalizarSupervision();},confirmBtnCssClass:classes.errorBtnCssClass,children:\"Error en la finalizaci\\xF3n de la supervisi\\xF3n. Intentelo m\\xE1s tarde.\"}));}},[successFinalizarSupervision,errorFinalizarSupervision]);var closeBorrado=function closeBorrado(){dispatch({type:EVALUACION_CORRECCION_DELETE_RESET});setAlert(null);};var confirmBorrado=function confirmBorrado(){var detalle_seleccionado=evaluacionInfoData.detalles.find(function(item){return item.id_detalle_evaluacion===correccionDeleted.detalle.id_detalle_evaluacion;});evaluacionInfoData.nivel_global_corregido=correccionDeleted.nivel_global_corregido;detalle_seleccionado.supervision=correccionDeleted.detalle.supervision;detalle_seleccionado.evaluacion=correccionDeleted.detalle.evaluacion;detalle_seleccionado.nivel_unidades_corregido=null;detalle_seleccionado.nivel_tiempo_corregido=null;detalle_seleccionado.nivel_porcentaje_jornada_corregido=null;detalle_seleccionado.nivel_porcentaje_entrada_corregido=null;detalle_seleccionado.observaciones=null;dispatch({type:EVALUACION_CORRECCION_DELETE_RESET});setAlert(null);};var handleBorrarCorreccion=function handleBorrarCorreccion(id_detalle){setAlert(/*#__PURE__*/_jsx(SweetAlert,{warning:true,style:{display:'block',marginTop:'-100px'},title:\"Confirmar\",onConfirm:function onConfirm(){return dispatch(correccionDeleteInfo({id_detalle_evaluacion:id_detalle}));},onCancel:function onCancel(){return setAlert(null);},confirmBtnCssClass:classes.confirmBtnCssClass,cancelBtnCssClass:classes.errorBtnCssClass,confirmBtnText:loadingCorreccionDelete?'Borrando...':'Si',cancelBtnText:\"No\",showCancel:true,children:\"\\xBFEstas seguro de borrar la correcci\\xF3n guardada para esta evaluaci\\xF3n?\"}));};var closeBorradoGlobal=function closeBorradoGlobal(){dispatch({type:EVALUACION_CORRECCION_GLOBAL_DELETE_RESET});setAlert(null);};var confirmBorradoGlobal=function confirmBorradoGlobal(){var detalle_seleccionado=evaluacionInfoData;evaluacionInfoData.nivel_global_corregido=correccionGlobalDeleted.nivel_global_corregido;dispatch({type:EVALUACION_CORRECCION_GLOBAL_DELETE_RESET});setAlert(null);};var handleBorrarCorreccionGlobal=function handleBorrarCorreccionGlobal(){setAlert(/*#__PURE__*/_jsx(SweetAlert,{warning:true,style:{display:'block',marginTop:'-100px'},title:\"Confirmar\",onConfirm:function onConfirm(){return dispatch(correccionGlobalDeleteInfo(evaluacionInfoData));},onCancel:function onCancel(){return setAlert(null);},confirmBtnCssClass:classes.confirmBtnCssClass,cancelBtnCssClass:classes.errorBtnCssClass,confirmBtnText:loadingCorreccionGlobalDelete?'Borrando...':'Si',cancelBtnText:\"No\",showCancel:true,children:\"\\xBFEstas seguro de borrar la correcci\\xF3n global guardada para esta evaluaci\\xF3n?\"}));};var handleSupervisionMasiva=function handleSupervisionMasiva(){//debugger\nsetAlert(/*#__PURE__*/_jsx(SweetAlert,{warning:true,style:{display:'block',marginTop:'-100px'},title:\"Confirmar\",onConfirm:function onConfirm(){return dispatch(supervisionMasiva(evaluacionInfoData));},onCancel:function onCancel(){return setAlert(null);},confirmBtnCssClass:classes.confirmBtnCssClass,cancelBtnCssClass:classes.errorBtnCssClass,confirmBtnText:loadingSupervisionMasiva?'Supervisando...':'Si',cancelBtnText:\"No\",showCancel:true,children:\"\\xBFEstas seguro de supervisar todo salvo las tareas con niveles insatisfactorios?\"}));};var closeSupervisionMasiva=function closeSupervisionMasiva(){dispatch({type:EVALUACION_INFO_RESET});dispatch({type:EVALUACION_SUPERVISION_MASIVA_RESET});setAlert(null);var filter={mes:consultaInfo.fecha_seleccionada.getMonth()+1,anyo:consultaInfo.fecha_seleccionada.getFullYear(),trabajador_id:selectTrabajadorId,es_para_validar:true};dispatch(getEvaluacion(filter));};var confirmSupervisionMasiva=function confirmSupervisionMasiva(){dispatch({type:EVALUACION_INFO_RESET});dispatch({type:EVALUACION_SUPERVISION_MASIVA_RESET});setAlert(null);var filter={mes:consultaInfo.fecha_seleccionada.getMonth()+1,anyo:consultaInfo.fecha_seleccionada.getFullYear(),trabajador_id:selectTrabajadorId,es_para_validar:true};dispatch(getEvaluacion(filter));};var handleFinalizarSupervision=function handleFinalizarSupervision(){//debugger\nsetAlert(/*#__PURE__*/_jsx(SweetAlert,{warning:true,style:{display:'block',marginTop:'-100px'},title:\"Confirmar\",onConfirm:function onConfirm(){return dispatch(finalizarSupervision(evaluacionInfoData));},onCancel:function onCancel(){return setAlert(null);},confirmBtnCssClass:classes.confirmBtnCssClass,cancelBtnCssClass:classes.errorBtnCssClass,confirmBtnText:loadingFinalizarSupervision?'Finalizadno supervisión...':'Si',cancelBtnText:\"No\",showCancel:true,children:\"Esto finalizar\\xE1 la supervisi\\xF3n y no podr\\xE1 supervisar ni corregir los desempe\\xF1os de las tareas. Ni el trabajador podr\\xE1 a\\xF1adir o modificar m\\xE1s tareas este mes. \\xBFEstas seguro de continuar?\"}));};var closeFinalizarSupervision=function closeFinalizarSupervision(){dispatch({type:EVALUACION_INFO_RESET});dispatch({type:EVALUACION_FINALIZAR_SUPERVISION_RESET});setAlert(null);var filter={mes:consultaInfo.fecha_seleccionada.getMonth()+1,anyo:consultaInfo.fecha_seleccionada.getFullYear(),trabajador_id:selectTrabajadorId,es_para_validar:true};dispatch(getEvaluacion(filter));};var confirmFinalizarSupervision=function confirmFinalizarSupervision(){dispatch({type:EVALUACION_INFO_RESET});dispatch({type:EVALUACION_FINALIZAR_SUPERVISION_RESET});setAlert(null);var filter={mes:consultaInfo.fecha_seleccionada.getMonth()+1,anyo:consultaInfo.fecha_seleccionada.getFullYear(),trabajador_id:selectTrabajadorId,es_para_validar:true};dispatch(getEvaluacion(filter));};var closeViewCalculoModal=function closeViewCalculoModal(){setViewCalculoModal(false);setDataCalculoModal({});};var handleVerCalculo=function handleVerCalculo(id_detalle){setViewCalculoModal(true);var datosEvaluacion=evaluacionInfoData.detalles.find(function(item){return item.id_detalle_evaluacion===id_detalle;});setDataCalculoModal([datosEvaluacion]);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(GridContainer,{children:[/*#__PURE__*/_jsx(GridItem,{xs:12,className:classes.rootItem,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRealizarConsulta,children:[/*#__PURE__*/_jsxs(GridContainer,{children:[/*#__PURE__*/_jsx(MuiPickersUtilsProvider,{locale:esLocale,utils:DateFnsUtils,children:/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsx(KeyboardDatePicker,{disableToolbar:true,format:\"MM/yyyy\",views:[\"year\",\"month\"],margin:\"normal\",id:\"date-picker-inline\",label:\"Mes y A\\xF1o *\",minDate:limiteFechas.fecha_minima,maxDate:limiteFechas.fecha_maxima,value:consultaInfo.fecha_seleccionada,onChange:function onChange(e){setConsultaInfo(_objectSpread(_objectSpread({},consultaInfo),{},{fecha_seleccionada:e,mes:e.getMonth()+1,anyo:e.getFullYear()}));dispatch({type:USER_LIST_RESET});},KeyboardButtonProps:{\"aria-label\":\"change date\"}})})}),/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(GridContainer,{children:/*#__PURE__*/_jsx(SelectTrabajadorFilter,{selectTrabajadorId:selectTrabajadorId,setSelectTrabajadorId:setselectTrabajadorId,smes:consultaInfo.mes,sanyo:consultaInfo.anyo})})})]}),errorEvaluacionInfo&&/*#__PURE__*/_jsx(GridContainer,{children:/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(SnackbarContent,{message:errorEvaluacionInfo,color:\"danger\"})})}),errorEvaluacionResumen&&/*#__PURE__*/_jsx(GridContainer,{children:/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(SnackbarContent,{message:errorEvaluacionResumen,color:\"danger\"})})}),successEvaluacionInfo&&/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",className:classes.informeResumenButton,onClick:handleResumenHoras,children:loadingEvaluacionResumen?'Mostrando resumen...':'Resumen Horas Laborables'}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",className:classes.informeButton,onClick:handleLimpiarConsulta,children:\"Limpiar\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",className:classes.informeButton,children:loadingEvaluacionInfo?'Realizando consulta...':'Filtrar'})]})})})}),successEvaluacionInfo?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(GridItem,{xs:12,className:classes.rootItem,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(GridContainer,{children:[/*#__PURE__*/_jsxs(GridItem,{xs:12,md:6,children:[/*#__PURE__*/_jsx(\"span\",{className:classes.informacion_evaluacion,children:\"Nivel desempe\\xF1o Global:  \"}),evaluacionInfoData.nivel_global_corregido?/*#__PURE__*/_jsx(\"span\",{className:evaluacionInfoData.nivel_global_corregido=='EXCELENTE'?classes.evaluacion_excelente:evaluacionInfoData.nivel_global_corregido=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:evaluacionInfoData.nivel_global_corregido=='SATISFACTORIO'?classes.evaluacion_satisfactorio:classes.evaluacion_alto,children:evaluacionInfoData.nivel_global_corregido}):/*#__PURE__*/_jsx(\"span\",{className:evaluacionInfoData.nivel_global=='EXCELENTE'?classes.evaluacion_excelente:evaluacionInfoData.nivel_global=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:evaluacionInfoData.nivel_global=='SATISFACTORIO'?classes.evaluacion_satisfactorio:classes.evaluacion_alto,children:evaluacionInfoData.nivel_global}),evaluacionInfoData.supervisada!=='SI'?evaluacionInfoData.nivel_global_corregido?/*#__PURE__*/_jsx(Button,{justIcon:true,round:true,simple:true,color:\"primary\",onClick:function onClick(){return handleBorrarCorreccionGlobal();},children:/*#__PURE__*/_jsx(Tooltip,{title:\"Borrar correcci\\xF3n\",children:/*#__PURE__*/_jsx(Delete,{})})}):/*#__PURE__*/_jsx(Button,{justIcon:true,round:true,simple:true,color:\"primary\",onClick:function onClick(){return handleVerCorreccionGlobal();},children:/*#__PURE__*/_jsx(Tooltip,{title:\"Corregir\",children:/*#__PURE__*/_jsx(LocalHospital,{})})}):/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(\"span\",{className:classes.evaluacion_sindatos,style:{float:'right'},children:\"SUPERVISI\\xD3N FINALIZADA\"})})]}),/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsxs(\"div\",{style:{float:'right'},children:[/*#__PURE__*/_jsx(\"span\",{className:classes.informacion_evaluacion,children:\"% Carga de Trabajo:  \"}),/*#__PURE__*/_jsxs(\"span\",{className:evaluacionInfoData.nivel_carga=='EXCELENTE'?classes.evaluacion_excelente:evaluacionInfoData.nivel_carga=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:evaluacionInfoData.nivel_carga=='SATISFACTORIO'?classes.evaluacion_satisfactorio:evaluacionInfoData.nivel_carga=='ALTO'?classes.evaluacion_alto:classes.informacion_evaluacion,children:[evaluacionInfoData.porcentaje_carga?\"\".concat(evaluacionInfoData.porcentaje_carga,\" %\"):'',\" \",evaluacionInfoData.nivel_carga?evaluacionInfoData.nivel_carga:'']})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(ReactTable,{columns:[{Header:'TAREA',accessor:'descripcion_tarea',Cell:function Cell(_ref){var value=_ref.value;return/*#__PURE__*/_jsx(Tooltip,{title:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"16px\"},children:value}),placement:\"bottom\",children:/*#__PURE__*/_jsx(\"span\",{children:value})});}},{Header:'DIFICULTAD',accessor:'nivel_dificultad',Cell:function Cell(_ref2){var value=_ref2.value,row=_ref2.row;return/*#__PURE__*/_jsx(\"span\",{children:row.original.dificultad=='SI'?value:'MEDIA'});}},{Header:'HORAS',accessor:'horas'},{Header:'TOTAL UDS',accessor:'unidades'},{Header:'D. UNIDADES',accessor:'nivel_unidades',Cell:function Cell(_ref3){var value=_ref3.value,row=_ref3.row;return/*#__PURE__*/_jsxs(\"div\",{children:[\" \",row.original.nivel_unidades_corregido=='EXCELENTE'||row.original.nivel_unidades_corregido=='SATISFACTORIO'||row.original.nivel_unidades_corregido=='ALTO'||row.original.nivel_unidades_corregido=='INSATISFACTORIO'?/*#__PURE__*/_jsx(\"span\",{className:row.original.nivel_unidades_corregido=='EXCELENTE'?classes.evaluacion_excelente:row.original.nivel_unidades_corregido=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:row.original.nivel_unidades_corregido=='SATISFACTORIO'?classes.evaluacion_satisfactorio:classes.evaluacion_alto,children:row.original.nivel_unidades_corregido}):/*#__PURE__*/_jsx(\"span\",{className:value=='EXCELENTE'?classes.evaluacion_excelente:value=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:value=='SATISFACTORIO'?classes.evaluacion_satisfactorio:value=='ALTO'?classes.evaluacion_alto:value=='SIN DATOS'?classes.evaluacion_sindatos:classes.evaluacion_na,children:value}),\" \"]});}},{Header:'D. TIEMPO',accessor:'nivel_tiempo',Cell:function Cell(_ref4){var value=_ref4.value,row=_ref4.row;return/*#__PURE__*/_jsxs(\"div\",{children:[\" \",row.original.nivel_tiempo_corregido=='EXCELENTE'||row.original.nivel_tiempo_corregido=='SATISFACTORIO'||row.original.nivel_tiempo_corregido=='ALTO'||row.original.nivel_tiempo_corregido=='INSATISFACTORIO'?/*#__PURE__*/_jsx(\"span\",{className:row.original.nivel_tiempo_corregido=='EXCELENTE'?classes.evaluacion_excelente:row.original.nivel_tiempo_corregido=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:row.original.nivel_tiempo_corregido=='SATISFACTORIO'?classes.evaluacion_satisfactorio:classes.evaluacion_alto,children:row.original.nivel_tiempo_corregido}):/*#__PURE__*/_jsx(\"span\",{className:value=='EXCELENTE'?classes.evaluacion_excelente:value=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:value=='SATISFACTORIO'?classes.evaluacion_satisfactorio:value=='ALTO'?classes.evaluacion_alto:value=='SIN DATOS'?classes.evaluacion_sindatos:classes.evaluacion_na,children:value}),\" \"]});}},{Header:'D. % ENTRADA',accessor:'nivel_porcentaje_entrada',Cell:function Cell(_ref5){var value=_ref5.value,row=_ref5.row;return/*#__PURE__*/_jsxs(\"div\",{children:[\" \",row.original.nivel_porcentaje_entrada_corregido=='EXCELENTE'||row.original.nivel_porcentaje_entrada_corregido=='SATISFACTORIO'||row.original.nivel_porcentaje_entrada_corregido=='ALTO'||row.original.nivel_porcentaje_entrada_corregido=='INSATISFACTORIO'?/*#__PURE__*/_jsx(\"span\",{className:row.original.nivel_porcentaje_entrada_corregido=='EXCELENTE'?classes.evaluacion_excelente:row.original.nivel_porcentaje_entrada_corregido=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:row.original.nivel_porcentaje_entrada_corregido=='SATISFACTORIO'?classes.evaluacion_satisfactorio:classes.evaluacion_alto,children:row.original.nivel_porcentaje_entrada_corregido}):/*#__PURE__*/_jsx(\"span\",{className:value=='EXCELENTE'?classes.evaluacion_excelente:value=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:value=='SATISFACTORIO'?classes.evaluacion_satisfactorio:value=='ALTO'?classes.evaluacion_alto:value=='SIN DATOS'?classes.evaluacion_sindatos:classes.evaluacion_na,children:value}),\" \"]});}},{Header:'D. % JORNADA',accessor:'nivel_porcentaje_jornada',Cell:function Cell(_ref6){var value=_ref6.value,row=_ref6.row;return/*#__PURE__*/_jsxs(\"div\",{children:[\" \",row.original.nivel_porcentaje_jornada_corregido=='EXCELENTE'||row.original.nivel_porcentaje_jornada_corregido=='SATISFACTORIO'||row.original.nivel_porcentaje_jornada_corregido=='ALTO'||row.original.nivel_porcentaje_jornada_corregido=='INSATISFACTORIO'?/*#__PURE__*/_jsx(\"span\",{className:row.original.nivel_porcentaje_jornada_corregido=='EXCELENTE'?classes.evaluacion_excelente:row.original.nivel_porcentaje_jornada_corregido=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:row.original.nivel_porcentaje_jornada_corregido=='SATISFACTORIO'?classes.evaluacion_satisfactorio:classes.evaluacion_alto,children:row.original.nivel_porcentaje_jornada_corregido}):/*#__PURE__*/_jsx(\"span\",{className:value=='EXCELENTE'?classes.evaluacion_excelente:value=='INSATISFACTORIO'?classes.evaluacion_insatisfactorio:value=='SATISFACTORIO'?classes.evaluacion_satisfactorio:value=='ALTO'?classes.evaluacion_alto:value=='SIN DATOS'?classes.evaluacion_sindatos:classes.evaluacion_na,children:value}),\" \"]});}},{Header:'SUPERVISIÓN',accessor:'supervision',Cell:function Cell(_ref7){var value=_ref7.value;return/*#__PURE__*/_jsx(Button,{justIcon:true,round:true,simple:true,color:\"primary\",children:/*#__PURE__*/_jsx(Tooltip,{title:value=='SI'?'Si':value=='CORREGIDO'?'Corregido':'No',children:value=='SI'?/*#__PURE__*/_jsx(Check,{}):value=='CORREGIDO'?/*#__PURE__*/_jsx(HealthAndSafety,{}):/*#__PURE__*/_jsx(Clear,{})})});}},{Header:'ACCIONES',accessor:'id_detalle_evaluacion',Cell:function Cell(_ref8){var value=_ref8.value,row=_ref8.row;return/*#__PURE__*/_jsxs(\"div\",{className:\"actions-right\",children:[(row.original.evaluacion=='NO'||row.original.evaluacion==null)&&row.original.supervision!='CORREGIDO'&&evaluacionInfoData.supervisada!=='SI'?/*#__PURE__*/_jsx(Button,{justIcon:true,round:true,simple:true,color:\"primary\",onClick:function onClick(){return handleSupervision(value);},children:/*#__PURE__*/_jsx(Tooltip,{title:\"Supervisar/No supervisar\",children:/*#__PURE__*/_jsx(LibraryAddCheck,{})})}):/*#__PURE__*/_jsx(_Fragment,{}),(row.original.evaluacion=='NO'||row.original.evaluacion==null)&&evaluacionInfoData.supervisada!=='SI'?/*#__PURE__*/_jsx(Button,{justIcon:true,round:true,simple:true,color:\"primary\",onClick:function onClick(){return handleVerCorreccion(value);},children:/*#__PURE__*/_jsx(Tooltip,{title:\"Corregir\",children:/*#__PURE__*/_jsx(LocalHospital,{})})}):/*#__PURE__*/_jsx(_Fragment,{}),(row.original.evaluacion=='NO'||row.original.evaluacion==null)&&row.original.supervision==='CORREGIDO'&&evaluacionInfoData.supervisada!=='SI'?/*#__PURE__*/_jsx(Button,{justIcon:true,round:true,simple:true,color:\"primary\",onClick:function onClick(){return handleBorrarCorreccion(value);},children:/*#__PURE__*/_jsx(Tooltip,{title:\"Borrar correcci\\xF3n\",children:/*#__PURE__*/_jsx(Delete,{})})}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(Button,{justIcon:true,round:true,simple:true,color:\"primary\",onClick:function onClick(){return handleVerCalculo(value);},children:/*#__PURE__*/_jsx(Tooltip,{title:\"Ver Detalle C\\xE1lculo\",children:/*#__PURE__*/_jsx(Calculate,{})})})]});}}],data:evaluacionInfoData.detalles,numFilas:20})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'flex-end',marginTop:'20px'},children:[excel&&/*#__PURE__*/_jsx(ExcelFile,{element:/*#__PURE__*/_jsx(Button,{color:\"primary\",children:\"Exportar Excel\"}),filename:\"informeSupervisi\\xF3n\",hideElement:true,children:/*#__PURE__*/_jsxs(ExcelFile.ExcelSheet,{data:evaluacionInfoData.detalles,name:\"Informe Supervisi\\xF3n\",children:[/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"TIPO TAREA\",value:\"tipo_tarea\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"TAREA\",value:\"descripcion_tarea\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"DIFICULTAD\",value:\"dificultad\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"TOTAL HORAS\",value:\"horas\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"TOTAL UNIDADES\",value:\"unidades\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"DESEMPE\\xD1O UNIDADES\",value:\"nivel_unidades\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"DESEMPE\\xD1O CORREGIDO UNIDADES\",value:\"nivel_unidades_corregido\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"DESEMPE\\xD1O TIEMPO\",value:\"nivel_tiempo\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"DESEMPE\\xD1O CORREGIDO TIEMPO\",value:\"nivel_tiempo_corregido\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"DESEMPE\\xD1O % ENTRADA\",value:\"nivel_porcentaje_entrada\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"DESEMPE\\xD1O CORREGIDO % ENTRADA\",value:\"nivel_porcentaje_entrada_corregido\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"DESEMPE\\xD1O % JORNADA\",value:\"nivel_porcentaje_jornada\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"DESEMPE\\xD1O CORREGIDO % JORNADA\",value:\"nivel_porcentaje_jornada_corregido\"}),/*#__PURE__*/_jsx(ExcelFile.ExcelColumn,{label:\"SUPERVISION\",value:\"supervision\"})]})}),evaluacionInfoData.supervisada!=='SI'&&/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){return handleFinalizarSupervision();},style:{marginLeft:'10px'},children:\"Finalizar supervisi\\xF3n\"}),evaluacionInfoData.supervisada!=='SI'&&/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){return handleSupervisionMasiva();},style:{marginLeft:'10px'},children:\"Supervisar todo (excepto insatisfactorios)\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){return setDownloadExcel(true);},style:{marginLeft:'10px'},children:\"Exportar EXCEL\"}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:function onClick(){return setDownloadPdf(true);},style:{marginLeft:'10px'},children:\"Exportar PDF\"})]})]})})})}):/*#__PURE__*/_jsx(_Fragment,{})]}),successEvaluacionResumen&&/*#__PURE__*/_jsx(ViewResumenHorasModal,{viewInfo:successEvaluacionResumen,closeViewInfoModal:closeViewResumenModal,info:evaluacionResumenData}),viewCorreccionModal&&/*#__PURE__*/_jsx(UpdateCorreccionNivelModal,{updateInfoModal:viewCorreccionModal,handleUpdateModal:updateViewCorreccionModal,handleCloseModal:closeViewCorreccionModal,info:dataCorreccionModal}),viewCorreccionGlobalModal&&/*#__PURE__*/_jsx(UpdateCorreccionNivelGlobalModal,{updateInfoModal:viewCorreccionGlobalModal,handleUpdateModal:updateViewCorreccionGlobalModal,handleCloseModal:closeViewCorreccionGlobalModal,info:dataCorreccionGlobalModal}),downloadExcel&&/*#__PURE__*/_jsx(DownloadConfirmModal,{downloadFile:downloadExcel,setDownloadFile:setDownloadExcel,setFile:setExcel,tableName:\"Informe supervisi\\xF3n\",FileExtension:\"Excel\"}),downloadPdf&&/*#__PURE__*/_jsx(DownloadConfirmModal,{downloadFile:downloadPdf,setDownloadFile:setDownloadPdf,setFile:setPdf,tableName:\"Informe supervisi\\xF3n\",FileExtension:\"PDF\"}),viewCalculoModal&&/*#__PURE__*/_jsx(ViewCalculoModal,{viewInfo:viewCalculoModal,closeViewInfoModal:closeViewCalculoModal,info:dataCalculoModal}),alert]});};export default SupervisionScreen;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","ReactExport","jsPDF","DownloadConfirmModal","FormControl","InputLabel","ListItemText","makeStyles","MenuItem","Select","LocalHospital","LibraryAddCheck","Check","Clear","HealthAndSafety","Delete","Calculate","Card","Tooltip","Button","CardBody","ReactTable","GridContainer","GridItem","SnackbarContent","SweetAlert","styles","DateFnsUtils","esLocale","MuiPickersUtilsProvider","KeyboardDatePicker","SelectTrabajadorFilter","ViewResumenHorasModal","UpdateCorreccionNivelModal","UpdateCorreccionNivelGlobalModal","supervisionUpdateInfo","getEvaluacion","correccionDeleteInfo","correccionGlobalDeleteInfo","supervisionMasiva","getResumen","finalizarSupervision","getConfiguracions","ViewCalculoModal","EVALUACION_SUPERVISION_UPDATE_RESET","EVALUACION_CORRECCION_DELETE_RESET","EVALUACION_CORRECCION_GLOBAL_DELETE_RESET","EVALUACION_SUPERVISION_MASIVA_RESET","EVALUACION_INFO_RESET","EVALUACION_RESUMEN_RESET","EVALUACION_FINALIZAR_SUPERVISION_RESET","USER_LIST_RESET","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","useStyles","SupervisionScreen","ExcelFile","dispatch","classes","initialState","fecha_seleccionada","Date","mes","getMonth","anyo","getFullYear","_useState","_useState2","_slicedToArray","downloadExcel","setDownloadExcel","_useState3","_useState4","downloadPdf","setDownloadPdf","_useState5","_useState6","excel","setExcel","_useState7","_useState8","pdf","setPdf","_useState9","_useState10","consultaInfo","setConsultaInfo","_useState11","_useState12","successSupervisionConsulta","setSuccessSupervisionConsulta","_useState13","_useState14","selectTrabajadorId","setselectTrabajadorId","_useState15","_useState16","alert","setAlert","_useSelector","state","evaluacionSupervisionUpdate","errorSupervisionUpdate","successSupervisionUpdate","supervisionUpdated","_useSelector2","evaluacionCorreccionDelete","loadingCorreccionDelete","errorCorreccionDelete","successCorreccionDelete","correccionDeleted","_useSelector3","evaluacionCorreccionGlobalDelete","loadingCorreccionGlobalDelete","errorCorreccionGlobalDelete","successCorreccionGlobalDelete","correccionGlobalDeleted","_useSelector4","evaluacionSupervisionMasiva","loadingSupervisionMasiva","errorSupervisionMasiva","successSupervisionMasiva","_useSelector5","evaluacionFinalizarSupervision","loadingFinalizarSupervision","errorFinalizarSupervision","successFinalizarSupervision","_useState17","_useState18","limiteFechas","setLimiteFechas","_useSelector6","configuracionList","configuracions","successConfiguracionList","_useState19","_useState20","viewCalculoModal","setViewCalculoModal","_useState21","_useState22","dataCalculoModal","setDataCalculoModal","_useSelector7","evaluacionInfo","successEvaluacionInfo","loadingEvaluacionInfo","evaluacionInfoData","errorEvaluacionInfo","_useSelector8","evaluacionResumen","successEvaluacionResumen","loadingEvaluacionResumen","evaluacionResumenData","errorEvaluacionResumen","_useState23","_useState24","viewCorreccionModal","setViewCorreccionModal","_useState25","_useState26","dataCorreccionModal","setDataCorreccionModal","_useState27","_useState28","viewCorreccionGlobalModal","setViewCorreccionGlobalModal","_useState29","_useState30","dataCorreccionGlobalModal","setDataCorreccionGlobalModal","exportPDF","doc","text","autoTable","body","detalles","columns","header","dataKey","save","type","handleRealizarConsulta","e","preventDefault","filter","trabajador_id","es_para_validar","handleLimpiarConsulta","closeViewResumenModal","handleResumenHoras","closeViewCorreccionModal","closeViewCorreccionGlobalModal","updateViewCorreccionModal","datos_modificados","evalucionModificada","find","item","id_detalle_evaluacion","nivel_global_corregido","nivel_unidades_corregido","nivel_tiempo_corregido","nivel_porcentaje_jornada_corregido","nivel_porcentaje_entrada_corregido","observaciones","supervision","updateViewCorreccionGlobalModal","handleVerCorreccion","id_detalle","datosCorregidos","handleVerCorreccionGlobal","success","style","display","marginTop","title","onConfirm","confirmSupervision","onCancel","confirmBtnCssClass","children","error","closeSupervision","errorBtnCssClass","detalle_seleccionado","handleSupervision","warning","warningBtnCssClass","valor","data","confirmBorrado","closeBorrado","confirmBorradoGlobal","closeBorradoGlobal","currentDate","rangoFechas","fecha_minima","fecha_maxima","parametro_seleccionado","configuracion","parametro","getDate","_objectSpread","confirmSupervisionMasiva","closeSupervisionMasiva","confirmFinalizarSupervision","closeFinalizarSupervision","detalle","evaluacion","handleBorrarCorreccion","cancelBtnCssClass","confirmBtnText","cancelBtnText","showCancel","handleBorrarCorreccionGlobal","handleSupervisionMasiva","handleFinalizarSupervision","closeViewCalculoModal","handleVerCalculo","datosEvaluacion","xs","className","rootItem","onSubmit","locale","utils","md","disableToolbar","format","views","margin","id","label","minDate","maxDate","value","onChange","KeyboardButtonProps","setSelectTrabajadorId","smes","sanyo","message","color","informeResumenButton","onClick","informeButton","informacion_evaluacion","evaluacion_excelente","evaluacion_insatisfactorio","evaluacion_satisfactorio","evaluacion_alto","nivel_global","supervisada","justIcon","round","simple","evaluacion_sindatos","float","nivel_carga","porcentaje_carga","concat","Header","accessor","Cell","_ref","fontSize","placement","_ref2","row","original","dificultad","_ref3","evaluacion_na","_ref4","_ref5","_ref6","_ref7","_ref8","numFilas","justifyContent","element","filename","hideElement","ExcelSheet","name","ExcelColumn","marginLeft","viewInfo","closeViewInfoModal","info","updateInfoModal","handleUpdateModal","handleCloseModal","downloadFile","setDownloadFile","setFile","tableName","FileExtension"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/ValidacionScreen/SupervisionScreen/SupervisionScreen.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport ReactExport from 'react-data-export'\r\nimport jsPDF from 'jspdf'\r\nimport 'jspdf-autotable'\r\nimport DownloadConfirmModal from 'components/DownloadConfirmModal/DownloadConfirmModal'\r\nimport { FormControl, InputLabel, ListItemText, makeStyles, MenuItem, Select } from '@material-ui/core'\r\nimport { LocalHospital, LibraryAddCheck, Check, Clear, HealthAndSafety, Delete, Calculate } from '@mui/icons-material'\r\nimport Card from 'components/Card/Card'\r\nimport { Tooltip } from '@material-ui/core'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport ReactTable from 'components/ReactTable/ReactTable'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport SnackbarContent from 'components/Snackbar/SnackbarContent'\r\nimport SweetAlert from 'react-bootstrap-sweetalert'\r\nimport styles from './styles/supervisionScreenStyles'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport esLocale from \"date-fns/locale/es\";\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\r\nimport SelectTrabajadorFilter from './components/SelectTrabajadorFilter'\r\nimport ViewResumenHorasModal from '../../InformesScreen/InformeIndividualScreen/components/ResumenHorasModal/ViewResumenHorasModal'\r\nimport UpdateCorreccionNivelModal from './components/CorreccionNivelModal/UpdateCorreccionNivelModal'\r\nimport UpdateCorreccionNivelGlobalModal from './components/CorreccionNivelModal/UpdateCorreccionNivelGlobalModal'\r\nimport { supervisionUpdateInfo, getEvaluacion, correccionDeleteInfo, correccionGlobalDeleteInfo, supervisionMasiva, getResumen, finalizarSupervision } from 'redux/actions/evaluacionActions'\r\nimport { getConfiguracions } from 'redux/actions/configuracionActions'\r\nimport ViewCalculoModal from '../../InformesScreen/InformeIndividualScreen/components/CalculosModal/ViewCalculoModal'\r\nimport { EVALUACION_SUPERVISION_UPDATE_RESET, EVALUACION_CORRECCION_DELETE_RESET, EVALUACION_CORRECCION_GLOBAL_DELETE_RESET, EVALUACION_SUPERVISION_MASIVA_RESET } from 'redux/constants/evaluacionConstants'\r\nimport { EVALUACION_INFO_RESET, EVALUACION_RESUMEN_RESET, EVALUACION_FINALIZAR_SUPERVISION_RESET } from 'redux/constants/evaluacionConstants'\r\nimport { USER_LIST_RESET } from 'redux/constants/userConstants'\r\n\r\nconst useStyles = makeStyles(styles)\r\nconst SupervisionScreen = () => {\r\n  const ExcelFile = ReactExport.ExcelFile\r\n  const dispatch = useDispatch()\r\n\r\n  const classes = useStyles()\r\n  const initialState = {\r\n    fecha_seleccionada: new Date(),\r\n    mes: new Date().getMonth() + 1,\r\n    anyo: new Date().getFullYear(),\r\n  }\r\n\r\n  const [downloadExcel, setDownloadExcel] = useState(false)\r\n  const [downloadPdf, setDownloadPdf] = useState(false)\r\n  const [excel, setExcel] = useState(false)\r\n  const [pdf, setPdf] = useState(false)\r\n \r\n  const [consultaInfo, setConsultaInfo] = useState(initialState)\r\n  const [successSupervisionConsulta, setSuccessSupervisionConsulta] = useState(false)\r\n  const [selectTrabajadorId, setselectTrabajadorId] = useState('')\r\n\r\n  const [alert, setAlert] = useState(null)\r\n  const { errorSupervisionUpdate, successSupervisionUpdate, supervisionUpdated } = useSelector((state) => state.evaluacionSupervisionUpdate)\r\n  const { loadingCorreccionDelete, errorCorreccionDelete, successCorreccionDelete, correccionDeleted } = useSelector((state) => state.evaluacionCorreccionDelete)\r\n  const { loadingCorreccionGlobalDelete, errorCorreccionGlobalDelete, successCorreccionGlobalDelete, correccionGlobalDeleted } = useSelector((state) => state.evaluacionCorreccionGlobalDelete)\r\n  const { loadingSupervisionMasiva, errorSupervisionMasiva, successSupervisionMasiva } = useSelector((state) => state.evaluacionSupervisionMasiva)\r\n  const { loadingFinalizarSupervision, errorFinalizarSupervision, successFinalizarSupervision } = useSelector((state) => state.evaluacionFinalizarSupervision)\r\n\r\n  const [limiteFechas, setLimiteFechas] = useState('')\r\n  const { configuracions, successConfiguracionList } = useSelector((state) => state.configuracionList)\r\n\r\n  const [viewCalculoModal, setViewCalculoModal] = useState(false)\r\n  const [dataCalculoModal, setDataCalculoModal] = useState({})\r\n\r\n  const {\r\n    successEvaluacionInfo,\r\n    loadingEvaluacionInfo,\r\n    evaluacionInfoData,\r\n    errorEvaluacionInfo,\r\n  } = useSelector((state) => state.evaluacionInfo)\r\n\r\n  const {\r\n    successEvaluacionResumen,\r\n    loadingEvaluacionResumen,\r\n    evaluacionResumenData,\r\n    errorEvaluacionResumen,\r\n  } = useSelector((state) => state.evaluacionResumen)\r\n \r\n  const [viewCorreccionModal, setViewCorreccionModal] = useState(false)\r\n  const [dataCorreccionModal, setDataCorreccionModal] = useState({})\r\n\r\n  const [viewCorreccionGlobalModal, setViewCorreccionGlobalModal] = useState(false)\r\n  const [dataCorreccionGlobalModal, setDataCorreccionGlobalModal] = useState({})\r\n\r\n  useEffect(() => {\r\n    if (pdf) {\r\n      exportPDF()\r\n    }\r\n  }, [pdf])\r\n\r\n  const exportPDF = () => {\r\n    const doc = new jsPDF(\"p\", \"mm\", \"a2\")\r\n    doc.text('Informe Supervisión', 20, 10)\r\n    doc.autoTable({\r\n      body: evaluacionInfoData.detalles,\r\n      columns: [\r\n        {\r\n          header: 'TIPO',\r\n          dataKey: 'tipo_tarea',\r\n        },\r\n        {\r\n          header: 'TAREA',\r\n          dataKey: 'descripcion_tarea',          \r\n        },\r\n        {\r\n          header: 'DIF.',\r\n          dataKey: 'nivel_dificultad',\r\n        },\r\n        {\r\n          header: 'H.',\r\n          dataKey: 'horas',\r\n        },\r\n        {\r\n          header: 'UDS.',\r\n          dataKey: 'unidades',\r\n        },\r\n        {\r\n          header: 'D. UDS',\r\n          dataKey: 'nivel_unidades',\r\n        },\r\n        {\r\n          header: 'D. CORR. UDS',\r\n          dataKey: 'nivel_unidades_corregido',\r\n        },\r\n        {\r\n          header: 'D. TIEMPO',\r\n          dataKey: 'nivel_tiempo',\r\n        },\r\n        {\r\n          header: 'D. CORR. TIEMPO',\r\n          dataKey: 'nivel_tiempo_corregido',\r\n        },\r\n        {\r\n          header: 'D. % ENTRADA',\r\n          dataKey: 'nivel_porcentaje_entrada',\r\n        },\r\n        {\r\n          header: 'D. CORR. % ENTRADA',\r\n          dataKey: 'nivel_porcentaje_entrada_corregido',\r\n        },\r\n        {\r\n          header: 'D. % JORNADA',\r\n          dataKey: 'nivel_porcentaje_jornada',\r\n        },\r\n        {\r\n          header: 'D. CORR. % JORNADA',\r\n          dataKey: 'nivel_porcentaje_jornada_corregido',\r\n        },\r\n        {\r\n          header: 'SUPERVISIÓN',\r\n          dataKey: 'supervision',\r\n        },        \r\n      ],\r\n    })\r\n    doc.save('supervision.pdf')\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!successSupervisionConsulta) {\r\n      dispatch({ type: EVALUACION_INFO_RESET })\r\n      dispatch({ type: EVALUACION_RESUMEN_RESET })\r\n      setViewCalculoModal(false);\r\n      setDataCalculoModal({});\r\n      setViewCorreccionModal(false);\r\n      setDataCorreccionModal({});\r\n      setViewCorreccionGlobalModal(false);\r\n      setDataCorreccionGlobalModal({});\r\n    }\r\n  }, [successSupervisionConsulta])\r\n \r\n  const handleRealizarConsulta = (e) => {\r\n    e.preventDefault()\r\n    const filter = {\r\n      mes: consultaInfo.fecha_seleccionada.getMonth() + 1,\r\n      anyo: consultaInfo.fecha_seleccionada.getFullYear(),\r\n      trabajador_id: selectTrabajadorId,\r\n      es_para_validar: true\r\n    }\r\n    dispatch(getEvaluacion(filter))\r\n  } \r\n\r\n  const handleLimpiarConsulta = (e) => {\r\n    e.preventDefault()\r\n    setSuccessSupervisionConsulta(false)\r\n    setConsultaInfo(initialState)\r\n    setselectTrabajadorId('')\r\n    dispatch({ type: EVALUACION_INFO_RESET })\r\n    dispatch({ type: EVALUACION_RESUMEN_RESET })\r\n    setViewCorreccionModal(false);\r\n    setDataCorreccionModal({});\r\n    setViewCorreccionGlobalModal(false);\r\n    setDataCorreccionGlobalModal({});\r\n  }\r\n\r\n  const closeViewResumenModal = () => {\r\n    dispatch({ type: EVALUACION_RESUMEN_RESET })\r\n  }\r\n\r\n  const handleResumenHoras = (e) => {\r\n    e.preventDefault()\r\n    const filter = {\r\n      mes: consultaInfo.fecha_seleccionada.getMonth() + 1,\r\n      anyo: consultaInfo.fecha_seleccionada.getFullYear(),\r\n      trabajador_id: selectTrabajadorId,\r\n    }\r\n    dispatch(getResumen(filter))\r\n  }\r\n\r\n  const closeViewCorreccionModal = () => {\r\n    setViewCorreccionModal(false);\r\n    setDataCorreccionModal({});\r\n  }\r\n\r\n  const closeViewCorreccionGlobalModal = () => {\r\n    setViewCorreccionGlobalModal(false);\r\n    setDataCorreccionGlobalModal({});\r\n  }\r\n\r\n  const updateViewCorreccionModal = (datos_modificados) => {\r\n    var evalucionModificada = evaluacionInfoData.detalles.find(item => item.id_detalle_evaluacion === datos_modificados.id_detalle_evaluacion);\r\n    evaluacionInfoData.nivel_global_corregido = datos_modificados.nivel_global_corregido\r\n    evalucionModificada.nivel_unidades_corregido = datos_modificados.nivel_unidades_corregido\r\n    evalucionModificada.nivel_tiempo_corregido = datos_modificados.nivel_tiempo_corregido\r\n    evalucionModificada.nivel_porcentaje_jornada_corregido = datos_modificados.nivel_porcentaje_jornada_corregido\r\n    evalucionModificada.nivel_porcentaje_entrada_corregido = datos_modificados.nivel_porcentaje_entrada_corregido\r\n    evalucionModificada.observaciones = datos_modificados.observaciones\r\n    evalucionModificada.supervision = 'CORREGIDO'\r\n  }\r\n\r\n  const updateViewCorreccionGlobalModal = (datos_modificados) => {\r\n    var evalucionModificada = evaluacionInfoData;\r\n    evaluacionInfoData.nivel_global_corregido = datos_modificados.nivel_global_corregido\r\n  }\r\n\r\n  const handleVerCorreccion = (id_detalle) => {\r\n    setViewCorreccionModal(true);\r\n    const datosCorregidos = evaluacionInfoData.detalles.find(item => item.id_detalle_evaluacion === id_detalle);\r\n    setDataCorreccionModal(datosCorregidos);\r\n  }\r\n\r\n  const handleVerCorreccionGlobal = () => {\r\n    setViewCorreccionGlobalModal(true);\r\n    const datosCorregidos = evaluacionInfoData;\r\n    setDataCorreccionGlobalModal(datosCorregidos);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (successSupervisionUpdate) {\r\n      setAlert(\r\n        <SweetAlert\r\n          success\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='HECHO!'\r\n          onConfirm={() => confirmSupervision()}\r\n          onCancel={() => confirmSupervision()}\r\n          confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        >\r\n          Se ha {supervisionUpdated.supervision == 'SI' ? 'supervisado' : 'des supervisado'} correctamente.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n    else if (errorSupervisionUpdate) {\r\n      setAlert(\r\n        <SweetAlert\r\n          error\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='ERROR!'\r\n          onConfirm={() => closeSupervision()}\r\n          onCancel={() => closeSupervision()}\r\n          confirmBtnCssClass={classes.errorBtnCssClass}\r\n        >\r\n          Error en la actualización de la supervisión. Intentelo más tarde.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n  }, [successSupervisionUpdate, errorSupervisionUpdate])\r\n\r\n\r\n  const closeSupervision = () => {\r\n    dispatch({ type: EVALUACION_SUPERVISION_UPDATE_RESET })\r\n    setAlert(null)\r\n  }\r\n\r\n  const confirmSupervision = () => {\r\n    const detalle_seleccionado = evaluacionInfoData.detalles.find(item => item.id_detalle_evaluacion === supervisionUpdated.id_detalle_evaluacion);\r\n    detalle_seleccionado.supervision = supervisionUpdated.supervision\r\n    dispatch({ type: EVALUACION_SUPERVISION_UPDATE_RESET })\r\n    setAlert(null)\r\n  }\r\n\r\n\r\n  const handleSupervision = (id_detalle) => {\r\n    const detalle_seleccionado = evaluacionInfoData.detalles.find(item => item.id_detalle_evaluacion === id_detalle);    \r\n    \r\n    if(detalle_seleccionado.supervision === 'CORREGIDO') {\r\n      setAlert(\r\n        <SweetAlert\r\n          warning\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='Aviso!'\r\n          onConfirm={() => closeSupervision()}\r\n          onCancel={() => closeSupervision()}\r\n          confirmBtnCssClass={classes.warningBtnCssClass}\r\n        >\r\n          No es necesario supervisar, porque esta corregido.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n    else {\r\n      var valor = 'SI'\r\n      if(detalle_seleccionado.supervision === 'SI') {\r\n        valor = 'NO'\r\n      }\r\n\r\n      const data = {\r\n        id_detalle_evaluacion: detalle_seleccionado.id_detalle_evaluacion,\r\n        supervision: valor,\r\n      }\r\n      dispatch(supervisionUpdateInfo(data))\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (successCorreccionDelete) {\r\n      setAlert(\r\n        <SweetAlert\r\n          success\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='HECHO!'\r\n          onConfirm={() => confirmBorrado()}\r\n          onCancel={() => confirmBorrado()}\r\n          confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        >\r\n          Corrección borrada correctamente.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n    else if (errorCorreccionDelete) {\r\n      setAlert(\r\n        <SweetAlert\r\n          error\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='ERROR!'\r\n          onConfirm={() => closeBorrado()}\r\n          onCancel={() => closeBorrado()}\r\n          confirmBtnCssClass={classes.errorBtnCssClass}\r\n        >\r\n          Error en la actualización de la corrección. Intentelo más tarde.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n  }, [successCorreccionDelete, errorCorreccionDelete])\r\n\r\n  useEffect(() => {\r\n    if (successCorreccionGlobalDelete) {\r\n      setAlert(\r\n        <SweetAlert\r\n          success\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='HECHO!'\r\n          onConfirm={() => confirmBorradoGlobal()}\r\n          onCancel={() => confirmBorradoGlobal()}\r\n          confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        >\r\n          Corrección global borrada correctamente.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n    else if (errorCorreccionGlobalDelete) {\r\n      setAlert(\r\n        <SweetAlert\r\n          error\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='ERROR!'\r\n          onConfirm={() => closeBorradoGlobal()}\r\n          onCancel={() => closeBorradoGlobal()}\r\n          confirmBtnCssClass={classes.errorBtnCssClass}\r\n        >\r\n          Error en la actualización de la corrección global. Intentelo más tarde.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n  }, [successCorreccionGlobalDelete, errorCorreccionGlobalDelete])\r\n\r\n  useEffect(() => {\r\n    if (successConfiguracionList) {\r\n      const currentDate = new Date()\r\n      const rangoFechas = {\r\n        fecha_minima: new Date('12/01/2021'),\r\n        fecha_maxima: currentDate\r\n      }\r\n\r\n      const parametro_seleccionado = configuracions.filter((configuracion) => configuracion.parametro == 'registro_actividad' )[0];\r\n      if(rangoFechas.fecha_maxima.getDate() > parametro_seleccionado.valor) {\r\n        //Es el mes anterior\r\n        rangoFechas.fecha_maxima = new Date(currentDate.getFullYear(), currentDate.getMonth()-1, 28);\r\n        setConsultaInfo({ ...consultaInfo, fecha_seleccionada: rangoFechas.fecha_maxima})\r\n      }\r\n      else {\r\n        //Es dos meses antes\r\n        rangoFechas.fecha_maxima = new Date(currentDate.getFullYear(), currentDate.getMonth()-2, 28);\r\n        setConsultaInfo({ ...consultaInfo, fecha_seleccionada: rangoFechas.fecha_maxima})\r\n      }      \r\n      setLimiteFechas(rangoFechas)\r\n    }\r\n    else {\r\n      dispatch(getConfiguracions())\r\n    }\r\n    \r\n  }, [successConfiguracionList])\r\n\r\n  useEffect(() => {\r\n    if (successSupervisionMasiva) {\r\n      setAlert(\r\n        <SweetAlert\r\n          success\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='HECHO!'\r\n          onConfirm={() => confirmSupervisionMasiva()}\r\n          onCancel={() => confirmSupervisionMasiva()}\r\n          confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        >\r\n          Supervisión masiva realizada correctamente.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n    else if (errorSupervisionMasiva) {\r\n      setAlert(\r\n        <SweetAlert\r\n          error\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='ERROR!'\r\n          onConfirm={() => closeSupervisionMasiva()}\r\n          onCancel={() => closeSupervisionMasiva()}\r\n          confirmBtnCssClass={classes.errorBtnCssClass}\r\n        >\r\n          Error en la actualización de la supervisión. Intentelo más tarde.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n  }, [successSupervisionMasiva, errorSupervisionMasiva])\r\n\r\n  useEffect(() => {\r\n    if (successFinalizarSupervision) {\r\n      setAlert(\r\n        <SweetAlert\r\n          success\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='HECHO!'\r\n          onConfirm={() => confirmFinalizarSupervision()}\r\n          onCancel={() => confirmFinalizarSupervision()}\r\n          confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        >\r\n          Finalización de supervisión realizada correctamente.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n    else if (errorFinalizarSupervision) {\r\n      setAlert(\r\n        <SweetAlert\r\n          error\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='ERROR!'\r\n          onConfirm={() => closeFinalizarSupervision()}\r\n          onCancel={() => closeFinalizarSupervision()}\r\n          confirmBtnCssClass={classes.errorBtnCssClass}\r\n        >\r\n          Error en la finalización de la supervisión. Intentelo más tarde.\r\n        </SweetAlert>\r\n      )\r\n    }\r\n  }, [successFinalizarSupervision, errorFinalizarSupervision])\r\n\r\n  const closeBorrado = () => {\r\n    dispatch({ type: EVALUACION_CORRECCION_DELETE_RESET })\r\n    setAlert(null)\r\n  }\r\n\r\n  const confirmBorrado = () => {\r\n    const detalle_seleccionado = evaluacionInfoData.detalles.find(item => item.id_detalle_evaluacion === correccionDeleted.detalle.id_detalle_evaluacion);\r\n    evaluacionInfoData.nivel_global_corregido = correccionDeleted.nivel_global_corregido\r\n    detalle_seleccionado.supervision = correccionDeleted.detalle.supervision\r\n    detalle_seleccionado.evaluacion = correccionDeleted.detalle.evaluacion\r\n    detalle_seleccionado.nivel_unidades_corregido = null\r\n    detalle_seleccionado.nivel_tiempo_corregido = null\r\n    detalle_seleccionado.nivel_porcentaje_jornada_corregido = null\r\n    detalle_seleccionado.nivel_porcentaje_entrada_corregido = null\r\n    detalle_seleccionado.observaciones = null\r\n    dispatch({ type: EVALUACION_CORRECCION_DELETE_RESET })\r\n    setAlert(null)\r\n  }\r\n\r\n  const handleBorrarCorreccion = (id_detalle) => {\r\n    setAlert(\r\n      <SweetAlert\r\n        warning\r\n        style={{ display: 'block', marginTop: '-100px' }}\r\n        title='Confirmar'\r\n        onConfirm={() => dispatch(correccionDeleteInfo({id_detalle_evaluacion: id_detalle}))}\r\n        onCancel={() => setAlert(null)}\r\n        confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        cancelBtnCssClass={classes.errorBtnCssClass}\r\n        confirmBtnText= {loadingCorreccionDelete ? 'Borrando...' : 'Si'}\r\n        cancelBtnText='No'\r\n        showCancel\r\n      >\r\n        ¿Estas seguro de borrar la corrección guardada para esta evaluación?\r\n      </SweetAlert>\r\n    )\r\n  }\r\n\r\n  const closeBorradoGlobal = () => {\r\n    dispatch({ type: EVALUACION_CORRECCION_GLOBAL_DELETE_RESET })\r\n    setAlert(null)\r\n  }\r\n\r\n  const confirmBorradoGlobal = () => {\r\n    const detalle_seleccionado = evaluacionInfoData;\r\n    evaluacionInfoData.nivel_global_corregido = correccionGlobalDeleted.nivel_global_corregido\r\n    dispatch({ type: EVALUACION_CORRECCION_GLOBAL_DELETE_RESET })\r\n    setAlert(null)\r\n  }\r\n\r\n  const handleBorrarCorreccionGlobal = () => {\r\n    setAlert(\r\n      <SweetAlert\r\n        warning\r\n        style={{ display: 'block', marginTop: '-100px' }}\r\n        title='Confirmar'\r\n        onConfirm={() => dispatch(correccionGlobalDeleteInfo(evaluacionInfoData))}\r\n        onCancel={() => setAlert(null)}\r\n        confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        cancelBtnCssClass={classes.errorBtnCssClass}\r\n        confirmBtnText= {loadingCorreccionGlobalDelete ? 'Borrando...' : 'Si'}\r\n        cancelBtnText='No'\r\n        showCancel\r\n      >\r\n        ¿Estas seguro de borrar la corrección global guardada para esta evaluación?\r\n      </SweetAlert>\r\n    )\r\n  }\r\n\r\n  const handleSupervisionMasiva = () => {\r\n    //debugger\r\n    setAlert(\r\n      <SweetAlert\r\n        warning\r\n        style={{ display: 'block', marginTop: '-100px' }}\r\n        title='Confirmar'\r\n        onConfirm={() => dispatch(supervisionMasiva(evaluacionInfoData))}\r\n        onCancel={() => setAlert(null)}\r\n        confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        cancelBtnCssClass={classes.errorBtnCssClass}\r\n        confirmBtnText= {loadingSupervisionMasiva ? 'Supervisando...' : 'Si'}\r\n        cancelBtnText='No'\r\n        showCancel\r\n      >\r\n        ¿Estas seguro de supervisar todo salvo las tareas con niveles insatisfactorios?\r\n      </SweetAlert>\r\n    )\r\n\r\n  }\r\n\r\n  const closeSupervisionMasiva = () => {\r\n    dispatch({ type: EVALUACION_INFO_RESET })\r\n    dispatch({ type: EVALUACION_SUPERVISION_MASIVA_RESET })\r\n    setAlert(null)\r\n    const filter = {\r\n      mes: consultaInfo.fecha_seleccionada.getMonth() + 1,\r\n      anyo: consultaInfo.fecha_seleccionada.getFullYear(),\r\n      trabajador_id: selectTrabajadorId,\r\n      es_para_validar: true\r\n    }\r\n    dispatch(getEvaluacion(filter))\r\n  }\r\n\r\n  const confirmSupervisionMasiva = () => {\r\n    dispatch({ type: EVALUACION_INFO_RESET })\r\n    dispatch({ type: EVALUACION_SUPERVISION_MASIVA_RESET })\r\n    setAlert(null)\r\n    const filter = {\r\n      mes: consultaInfo.fecha_seleccionada.getMonth() + 1,\r\n      anyo: consultaInfo.fecha_seleccionada.getFullYear(),\r\n      trabajador_id: selectTrabajadorId,\r\n      es_para_validar: true\r\n    }\r\n    dispatch(getEvaluacion(filter))\r\n  }\r\n\r\n  const handleFinalizarSupervision = () => {\r\n    //debugger\r\n    setAlert(\r\n      <SweetAlert\r\n        warning\r\n        style={{ display: 'block', marginTop: '-100px' }}\r\n        title='Confirmar'\r\n        onConfirm={() => dispatch(finalizarSupervision(evaluacionInfoData))}\r\n        onCancel={() => setAlert(null)}\r\n        confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        cancelBtnCssClass={classes.errorBtnCssClass}\r\n        confirmBtnText= {loadingFinalizarSupervision ? 'Finalizadno supervisión...' : 'Si'}\r\n        cancelBtnText='No'\r\n        showCancel\r\n      >\r\n        Esto finalizará la supervisión y no podrá supervisar ni corregir los desempeños de las tareas. Ni el trabajador podrá añadir o modificar más tareas este mes. ¿Estas seguro de continuar?\r\n      </SweetAlert>\r\n    )\r\n\r\n  }\r\n\r\n  const closeFinalizarSupervision = () => {\r\n    dispatch({ type: EVALUACION_INFO_RESET })\r\n    dispatch({ type: EVALUACION_FINALIZAR_SUPERVISION_RESET })\r\n    setAlert(null)\r\n    const filter = {\r\n      mes: consultaInfo.fecha_seleccionada.getMonth() + 1,\r\n      anyo: consultaInfo.fecha_seleccionada.getFullYear(),\r\n      trabajador_id: selectTrabajadorId,\r\n      es_para_validar: true\r\n    }\r\n    dispatch(getEvaluacion(filter))\r\n  }\r\n\r\n  const confirmFinalizarSupervision = () => {\r\n    dispatch({ type: EVALUACION_INFO_RESET })\r\n    dispatch({ type: EVALUACION_FINALIZAR_SUPERVISION_RESET })\r\n    setAlert(null)\r\n    const filter = {\r\n      mes: consultaInfo.fecha_seleccionada.getMonth() + 1,\r\n      anyo: consultaInfo.fecha_seleccionada.getFullYear(),\r\n      trabajador_id: selectTrabajadorId,\r\n      es_para_validar: true\r\n    }\r\n    dispatch(getEvaluacion(filter))\r\n  }\r\n\r\n  const closeViewCalculoModal = () => {\r\n    setViewCalculoModal(false);\r\n    setDataCalculoModal({});\r\n  }\r\n\r\n  const handleVerCalculo = (id_detalle) => {\r\n    setViewCalculoModal(true);\r\n    var datosEvaluacion = evaluacionInfoData.detalles.find(item => item.id_detalle_evaluacion === id_detalle);\r\n    setDataCalculoModal([datosEvaluacion]);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <GridContainer>\r\n        <GridItem xs={12} className={classes.rootItem}>\r\n          <Card>\r\n            <CardBody>\r\n              <form onSubmit={handleRealizarConsulta}>\r\n                <GridContainer>                \r\n                <MuiPickersUtilsProvider locale={esLocale} utils={DateFnsUtils}>\r\n                    <GridItem xs={12} md={6}>\r\n                      <KeyboardDatePicker\r\n                        disableToolbar\r\n                        format=\"MM/yyyy\"\r\n                        views={[\"year\", \"month\"]}\r\n                        margin=\"normal\"\r\n                        id=\"date-picker-inline\"\r\n                        label=\"Mes y Año *\"\r\n                        minDate={limiteFechas.fecha_minima}\r\n                        maxDate={limiteFechas.fecha_maxima}\r\n                        value={consultaInfo.fecha_seleccionada}\r\n                        onChange={(e) => {setConsultaInfo({ ...consultaInfo, fecha_seleccionada: e, mes: e.getMonth() + 1, anyo: e.getFullYear() }); dispatch({ type: USER_LIST_RESET })}}                        \r\n                        KeyboardButtonProps={{\r\n                          \"aria-label\": \"change date\"\r\n                        }}\r\n                      />\r\n                    </GridItem>\r\n                  </MuiPickersUtilsProvider>\r\n                  <GridItem xs={12}>\r\n                    <GridContainer>\r\n                      <SelectTrabajadorFilter\r\n                        selectTrabajadorId={selectTrabajadorId}\r\n                        setSelectTrabajadorId={setselectTrabajadorId}\r\n                        smes={consultaInfo.mes}\r\n                        sanyo={consultaInfo.anyo}\r\n                      />\r\n                    </GridContainer>\r\n                  </GridItem>\r\n                </GridContainer>\r\n                \r\n                {errorEvaluacionInfo && (\r\n                  <GridContainer>\r\n                    <GridItem xs={12}>\r\n                      <SnackbarContent message={errorEvaluacionInfo} color='danger' />\r\n                    </GridItem>\r\n                  </GridContainer>\r\n                )}\r\n                {errorEvaluacionResumen && (\r\n                  <GridContainer>\r\n                    <GridItem xs={12}>\r\n                      <SnackbarContent message={errorEvaluacionResumen} color='danger' />\r\n                    </GridItem>\r\n                  </GridContainer>\r\n                )}\r\n                {successEvaluacionInfo && (\r\n                  <Button type='submit' color='primary' className={classes.informeResumenButton} onClick={handleResumenHoras}>\r\n                      {loadingEvaluacionResumen ? 'Mostrando resumen...': 'Resumen Horas Laborables'}\r\n                  </Button>\r\n                )}\r\n \r\n                <Button type='submit' color='primary' className={classes.informeButton} onClick={handleLimpiarConsulta}>\r\n                  Limpiar\r\n                </Button>\r\n                <Button type='submit' color='primary' className={classes.informeButton}>\r\n                  {loadingEvaluacionInfo ? 'Realizando consulta...' : 'Filtrar'}\r\n                </Button>\r\n              </form>\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n        \r\n        \r\n        \r\n        {successEvaluacionInfo ? (\r\n          <>\r\n            <GridItem xs={12} className={classes.rootItem}>\r\n              <Card>\r\n                <CardBody>\r\n                    <GridContainer>\r\n                      <GridItem xs={12} md={6}>\r\n                        <span className={classes.informacion_evaluacion}>Nivel desempeño Global:  </span>\r\n                        {evaluacionInfoData.nivel_global_corregido ? (\r\n                          <span className={evaluacionInfoData.nivel_global_corregido == 'EXCELENTE'? classes.evaluacion_excelente : evaluacionInfoData.nivel_global_corregido == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : evaluacionInfoData.nivel_global_corregido == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : classes.evaluacion_alto }>{evaluacionInfoData.nivel_global_corregido}</span>\r\n                        ): (\r\n                          <span className={evaluacionInfoData.nivel_global == 'EXCELENTE'? classes.evaluacion_excelente : evaluacionInfoData.nivel_global == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : evaluacionInfoData.nivel_global == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : classes.evaluacion_alto }>{evaluacionInfoData.nivel_global}</span>\r\n                        )}\r\n                        {evaluacionInfoData.supervisada !== 'SI' ? (\r\n                          evaluacionInfoData.nivel_global_corregido ? (\r\n                            <Button justIcon round simple color='primary' onClick={() => handleBorrarCorreccionGlobal()}><Tooltip title='Borrar corrección'><Delete /></Tooltip></Button>\r\n                          ): (\r\n                            <Button justIcon round simple color='primary' onClick={() => handleVerCorreccionGlobal()}><Tooltip title='Corregir'><LocalHospital /></Tooltip></Button>                       \r\n                          )\r\n                        ) : <h5><span className={classes.evaluacion_sindatos} style={{float: 'right'}}>SUPERVISIÓN FINALIZADA</span></h5>}\r\n                      </GridItem>\r\n                      <GridItem xs={12} md={6}>\r\n                        <div style={{float: 'right'}}>\r\n                          <span className={classes.informacion_evaluacion}>% Carga de Trabajo:  </span>\r\n                          <span className={evaluacionInfoData.nivel_carga == 'EXCELENTE'? classes.evaluacion_excelente : evaluacionInfoData.nivel_carga == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : evaluacionInfoData.nivel_carga == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : evaluacionInfoData.nivel_carga == 'ALTO' ?  classes.evaluacion_alto : classes.informacion_evaluacion }>{evaluacionInfoData.porcentaje_carga ? `${evaluacionInfoData.porcentaje_carga} %`: ''} {evaluacionInfoData.nivel_carga ? evaluacionInfoData.nivel_carga : ''}</span>\r\n                        </div>\r\n                      </GridItem>\r\n                      \r\n                      <br></br>\r\n                      <br></br>\r\n\r\n                      <GridItem xs={12}>\r\n                        <ReactTable\r\n                            columns={[\r\n                              {\r\n                                Header: 'TAREA',\r\n                                accessor: 'descripcion_tarea',\r\n                                Cell: ({ value }) => <Tooltip title={<span style={{ fontSize: \"16px\" }}>{value}</span>} placement=\"bottom\"><span>{value}</span></Tooltip>\r\n                              },\r\n                              {\r\n                                Header: 'DIFICULTAD',\r\n                                accessor: 'nivel_dificultad',\r\n                                Cell: ({ value, row }) => <span>{row.original.dificultad == 'SI'? value : 'MEDIA'}</span>\r\n                              },\r\n                              {\r\n                                Header: 'HORAS',\r\n                                accessor: 'horas',\r\n                              },\r\n                              {\r\n                                Header: 'TOTAL UDS',\r\n                                accessor: 'unidades',\r\n                              },\r\n                              {\r\n                                Header: 'D. UNIDADES',\r\n                                accessor: 'nivel_unidades',\r\n                                Cell: ({ value, row }) => <div> {row.original.nivel_unidades_corregido == 'EXCELENTE' || row.original.nivel_unidades_corregido == 'SATISFACTORIO' || row.original.nivel_unidades_corregido == 'ALTO' || row.original.nivel_unidades_corregido == 'INSATISFACTORIO' ? (\r\n                                  <span className={row.original.nivel_unidades_corregido == 'EXCELENTE'? classes.evaluacion_excelente : row.original.nivel_unidades_corregido == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : row.original.nivel_unidades_corregido == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : classes.evaluacion_alto }>{row.original.nivel_unidades_corregido}</span>\r\n                                ): (\r\n                                  <span className={value == 'EXCELENTE'? classes.evaluacion_excelente : value == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : value == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : value == 'ALTO' ?  classes.evaluacion_alto : value == 'SIN DATOS' ?  classes.evaluacion_sindatos : classes.evaluacion_na }>{value}</span>\r\n                                )} </div>\r\n                              },\r\n                              {\r\n                                Header: 'D. TIEMPO',\r\n                                accessor: 'nivel_tiempo',\r\n                                Cell: ({ value, row }) => <div> {row.original.nivel_tiempo_corregido == 'EXCELENTE' || row.original.nivel_tiempo_corregido == 'SATISFACTORIO' || row.original.nivel_tiempo_corregido == 'ALTO' || row.original.nivel_tiempo_corregido == 'INSATISFACTORIO' ? (\r\n                                  <span className={row.original.nivel_tiempo_corregido == 'EXCELENTE'? classes.evaluacion_excelente : row.original.nivel_tiempo_corregido == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : row.original.nivel_tiempo_corregido == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : classes.evaluacion_alto }>{row.original.nivel_tiempo_corregido}</span>\r\n                                ): (\r\n                                  <span className={value == 'EXCELENTE'? classes.evaluacion_excelente : value == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : value == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : value == 'ALTO' ?  classes.evaluacion_alto : value == 'SIN DATOS' ?  classes.evaluacion_sindatos : classes.evaluacion_na }>{value}</span>\r\n                                )} </div>\r\n                              },\r\n                              {\r\n                                Header: 'D. % ENTRADA',\r\n                                accessor: 'nivel_porcentaje_entrada',\r\n                                Cell: ({ value, row }) => <div> {row.original.nivel_porcentaje_entrada_corregido == 'EXCELENTE' || row.original.nivel_porcentaje_entrada_corregido == 'SATISFACTORIO' || row.original.nivel_porcentaje_entrada_corregido == 'ALTO' || row.original.nivel_porcentaje_entrada_corregido == 'INSATISFACTORIO' ? (\r\n                                  <span className={row.original.nivel_porcentaje_entrada_corregido == 'EXCELENTE'? classes.evaluacion_excelente : row.original.nivel_porcentaje_entrada_corregido == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : row.original.nivel_porcentaje_entrada_corregido == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : classes.evaluacion_alto }>{row.original.nivel_porcentaje_entrada_corregido}</span>\r\n                                ): (\r\n                                  <span className={value == 'EXCELENTE'? classes.evaluacion_excelente : value == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : value == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : value == 'ALTO' ?  classes.evaluacion_alto : value == 'SIN DATOS' ?  classes.evaluacion_sindatos : classes.evaluacion_na }>{value}</span>\r\n                                )} </div>\r\n                              },\r\n                              {\r\n                                Header: 'D. % JORNADA',\r\n                                accessor: 'nivel_porcentaje_jornada',\r\n                                Cell: ({ value, row }) => <div> {row.original.nivel_porcentaje_jornada_corregido == 'EXCELENTE' || row.original.nivel_porcentaje_jornada_corregido == 'SATISFACTORIO' || row.original.nivel_porcentaje_jornada_corregido == 'ALTO' || row.original.nivel_porcentaje_jornada_corregido == 'INSATISFACTORIO' ? (\r\n                                  <span className={row.original.nivel_porcentaje_jornada_corregido == 'EXCELENTE'? classes.evaluacion_excelente : row.original.nivel_porcentaje_jornada_corregido == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : row.original.nivel_porcentaje_jornada_corregido == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : classes.evaluacion_alto }>{row.original.nivel_porcentaje_jornada_corregido}</span>\r\n                                ): (\r\n                                  <span className={value == 'EXCELENTE'? classes.evaluacion_excelente : value == 'INSATISFACTORIO' ?  classes.evaluacion_insatisfactorio : value == 'SATISFACTORIO' ?  classes.evaluacion_satisfactorio : value == 'ALTO' ?  classes.evaluacion_alto : value == 'SIN DATOS' ?  classes.evaluacion_sindatos : classes.evaluacion_na }>{value}</span>\r\n                                )} </div>\r\n                              },\r\n                              {\r\n                                Header: 'SUPERVISIÓN',\r\n                                accessor: 'supervision',\r\n                                Cell: ({ value }) => <Button justIcon round simple color='primary'><Tooltip title={value == 'SI'? 'Si' : value == 'CORREGIDO' ?  'Corregido' : 'No' }>{value == 'SI'? <Check />: value == 'CORREGIDO'? <HealthAndSafety /> : <Clear />}</Tooltip></Button>\r\n                              },\r\n                              {\r\n                                Header: 'ACCIONES',\r\n                                accessor: 'id_detalle_evaluacion',\r\n                                Cell: ({ value, row }) => <div className='actions-right'>{((row.original.evaluacion == 'NO' || row.original.evaluacion == null) && row.original.supervision != 'CORREGIDO' && evaluacionInfoData.supervisada !== 'SI') ? <Button justIcon round simple color='primary' onClick={() => handleSupervision(value)}><Tooltip title='Supervisar/No supervisar'><LibraryAddCheck /></Tooltip></Button> : <></>}{((row.original.evaluacion == 'NO' || row.original.evaluacion == null) && evaluacionInfoData.supervisada !== 'SI') ? <Button justIcon round simple color='primary' onClick={() => handleVerCorreccion(value)}><Tooltip title='Corregir'><LocalHospital /></Tooltip></Button> : <></>}{( (row.original.evaluacion == 'NO' || row.original.evaluacion == null) && row.original.supervision === 'CORREGIDO' && evaluacionInfoData.supervisada !== 'SI') ? <Button justIcon round simple color='primary' onClick={() => handleBorrarCorreccion(value)}><Tooltip title='Borrar corrección'><Delete /></Tooltip></Button> : <></>}<Button justIcon round simple color='primary' onClick={() => handleVerCalculo(value)}><Tooltip title='Ver Detalle Cálculo'><Calculate /></Tooltip></Button></div>\r\n                              },\r\n                            ]}\r\n                            data={evaluacionInfoData.detalles}\r\n                            numFilas={20}\r\n                        />\r\n                      </GridItem>\r\n                    </GridContainer>\r\n                    <div style={{ display: 'flex', justifyContent: 'flex-end', marginTop: '20px' }}>\r\n                      {excel && (\r\n                        <ExcelFile\r\n                          element={<Button color='primary'>Exportar Excel</Button>}\r\n                          filename='informeSupervisión'\r\n                          hideElement={true}\r\n                        >\r\n                          <ExcelFile.ExcelSheet data={evaluacionInfoData.detalles} name='Informe Supervisión'>\r\n                            <ExcelFile.ExcelColumn label='TIPO TAREA' value='tipo_tarea' />\r\n                            <ExcelFile.ExcelColumn label='TAREA' value='descripcion_tarea' />\r\n                            <ExcelFile.ExcelColumn label='DIFICULTAD' value='dificultad' />\r\n                            <ExcelFile.ExcelColumn label='TOTAL HORAS' value='horas' />\r\n                            <ExcelFile.ExcelColumn label='TOTAL UNIDADES' value='unidades' />\r\n                            <ExcelFile.ExcelColumn label='DESEMPEÑO UNIDADES' value='nivel_unidades' />\r\n                            <ExcelFile.ExcelColumn label='DESEMPEÑO CORREGIDO UNIDADES' value='nivel_unidades_corregido' />\r\n                            <ExcelFile.ExcelColumn label='DESEMPEÑO TIEMPO' value='nivel_tiempo' />\r\n                            <ExcelFile.ExcelColumn label='DESEMPEÑO CORREGIDO TIEMPO' value='nivel_tiempo_corregido' />\r\n                            <ExcelFile.ExcelColumn label='DESEMPEÑO % ENTRADA' value='nivel_porcentaje_entrada' />\r\n                            <ExcelFile.ExcelColumn label='DESEMPEÑO CORREGIDO % ENTRADA' value='nivel_porcentaje_entrada_corregido' />\r\n                            <ExcelFile.ExcelColumn label='DESEMPEÑO % JORNADA' value='nivel_porcentaje_jornada' />\r\n                            <ExcelFile.ExcelColumn label='DESEMPEÑO CORREGIDO % JORNADA' value='nivel_porcentaje_jornada_corregido' />\r\n                            <ExcelFile.ExcelColumn label='SUPERVISION' value='supervision' />\r\n                          </ExcelFile.ExcelSheet>\r\n                        </ExcelFile>\r\n                      )}\r\n                      {evaluacionInfoData.supervisada !== 'SI' && (\r\n                        <Button color='primary' onClick={() => handleFinalizarSupervision()} style={{ marginLeft: '10px' }}>\r\n                          Finalizar supervisión\r\n                        </Button>\r\n                      )}\r\n                      {evaluacionInfoData.supervisada !== 'SI' && (\r\n                        <Button color='primary' onClick={() => handleSupervisionMasiva()} style={{ marginLeft: '10px' }}>\r\n                          Supervisar todo (excepto insatisfactorios)\r\n                        </Button>\r\n                      )}\r\n                      <Button color='primary' onClick={() => setDownloadExcel(true)} style={{ marginLeft: '10px' }}>\r\n                        Exportar EXCEL\r\n                      </Button>\r\n                      <Button color='primary' onClick={() => setDownloadPdf(true)} style={{ marginLeft: '10px' }}>\r\n                        Exportar PDF\r\n                      </Button>\r\n                    </div>\r\n                </CardBody>\r\n              </Card>\r\n            </GridItem>\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </GridContainer>\r\n      {successEvaluacionResumen && (\r\n        <ViewResumenHorasModal\r\n          viewInfo={successEvaluacionResumen}\r\n          closeViewInfoModal={closeViewResumenModal}\r\n          info={evaluacionResumenData}\r\n        />\r\n      )}\r\n      {viewCorreccionModal && (\r\n        <UpdateCorreccionNivelModal\r\n          updateInfoModal={viewCorreccionModal}\r\n          handleUpdateModal={updateViewCorreccionModal}\r\n          handleCloseModal={closeViewCorreccionModal}\r\n          info={dataCorreccionModal}\r\n        />\r\n      )}\r\n      {viewCorreccionGlobalModal && (\r\n        <UpdateCorreccionNivelGlobalModal\r\n          updateInfoModal={viewCorreccionGlobalModal}\r\n          handleUpdateModal={updateViewCorreccionGlobalModal}\r\n          handleCloseModal={closeViewCorreccionGlobalModal}\r\n          info={dataCorreccionGlobalModal}\r\n        />\r\n      )}\r\n      {downloadExcel && (\r\n        <DownloadConfirmModal\r\n          downloadFile={downloadExcel}\r\n          setDownloadFile={setDownloadExcel}\r\n          setFile={setExcel}\r\n          tableName='Informe supervisión'\r\n          FileExtension='Excel'\r\n        />\r\n      )}\r\n      {downloadPdf && (\r\n        <DownloadConfirmModal\r\n          downloadFile={downloadPdf}\r\n          setDownloadFile={setDownloadPdf}\r\n          setFile={setPdf}\r\n          tableName='Informe supervisión'\r\n          FileExtension='PDF'\r\n        />\r\n      )}\r\n      {viewCalculoModal && (\r\n        <ViewCalculoModal\r\n          viewInfo={viewCalculoModal}\r\n          closeViewInfoModal={closeViewCalculoModal}\r\n          info={dataCalculoModal}\r\n        />\r\n      )}\r\n\r\n      {alert}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SupervisionScreen\r\n"],"mappings":"yQAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,WAAW,KAAM,mBAAmB,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,iBAAiB,CACxB,MAAO,CAAAC,oBAAoB,KAAM,sDAAsD,CACvF,OAASC,WAAW,CAAEC,UAAU,CAAEC,YAAY,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,mBAAmB,CACvG,OAASC,aAAa,CAAEC,eAAe,CAAEC,KAAK,CAAEC,KAAK,CAAEC,eAAe,CAAEC,MAAM,CAAEC,SAAS,KAAQ,qBAAqB,CACtH,MAAO,CAAAC,IAAI,KAAM,sBAAsB,CACvC,OAASC,OAAO,KAAQ,mBAAmB,CAC3C,MAAO,CAAAC,MAAM,KAAM,iCAAiC,CACpD,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAC/C,MAAO,CAAAC,UAAU,KAAM,kCAAkC,CACzD,MAAO,CAAAC,aAAa,KAAM,+BAA+B,CACzD,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAC/C,MAAO,CAAAC,eAAe,KAAM,qCAAqC,CACjE,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,MAAO,CAAAC,MAAM,KAAM,kCAAkC,CACrD,MAAO,CAAAC,YAAY,KAAM,mBAAmB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CACzC,OAASC,uBAAuB,CAAEC,kBAAkB,KAAQ,sBAAsB,CAClF,MAAO,CAAAC,sBAAsB,KAAM,qCAAqC,CACxE,MAAO,CAAAC,qBAAqB,KAAM,iGAAiG,CACnI,MAAO,CAAAC,0BAA0B,KAAM,8DAA8D,CACrG,MAAO,CAAAC,gCAAgC,KAAM,oEAAoE,CACjH,OAASC,qBAAqB,CAAEC,aAAa,CAAEC,oBAAoB,CAAEC,0BAA0B,CAAEC,iBAAiB,CAAEC,UAAU,CAAEC,oBAAoB,KAAQ,iCAAiC,CAC7L,OAASC,iBAAiB,KAAQ,oCAAoC,CACtE,MAAO,CAAAC,gBAAgB,KAAM,wFAAwF,CACrH,OAASC,mCAAmC,CAAEC,kCAAkC,CAAEC,yCAAyC,CAAEC,mCAAmC,KAAQ,qCAAqC,CAC7M,OAASC,qBAAqB,CAAEC,wBAAwB,CAAEC,sCAAsC,KAAQ,qCAAqC,CAC7I,OAASC,eAAe,KAAQ,+BAA+B,QAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE/D,GAAM,CAAAC,SAAS,CAAGnD,UAAU,CAACmB,MAAM,CAAC,CACpC,GAAM,CAAAiC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9B,GAAM,CAAAC,SAAS,CAAG3D,WAAW,CAAC2D,SAAS,CACvC,GAAM,CAAAC,QAAQ,CAAG9D,WAAW,EAAE,CAE9B,GAAM,CAAA+D,OAAO,CAAGJ,SAAS,EAAE,CAC3B,GAAM,CAAAK,YAAY,CAAG,CACnBC,kBAAkB,CAAE,GAAI,CAAAC,IAAI,EAAE,CAC9BC,GAAG,CAAE,GAAI,CAAAD,IAAI,EAAE,CAACE,QAAQ,EAAE,CAAG,CAAC,CAC9BC,IAAI,CAAE,GAAI,CAAAH,IAAI,EAAE,CAACI,WAAW,EAC9B,CAAC,CAED,IAAAC,SAAA,CAA0CxE,QAAQ,CAAC,KAAK,CAAC,CAAAyE,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlDG,aAAa,CAAAF,UAAA,IAAEG,gBAAgB,CAAAH,UAAA,IACtC,IAAAI,UAAA,CAAsC7E,QAAQ,CAAC,KAAK,CAAC,CAAA8E,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA9CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAA0BjF,QAAQ,CAAC,KAAK,CAAC,CAAAkF,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAlCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAsBrF,QAAQ,CAAC,KAAK,CAAC,CAAAsF,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA9BE,GAAG,CAAAD,UAAA,IAAEE,MAAM,CAAAF,UAAA,IAElB,IAAAG,UAAA,CAAwCzF,QAAQ,CAACiE,YAAY,CAAC,CAAAyB,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAvDE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IACpC,IAAAG,WAAA,CAAoE7F,QAAQ,CAAC,KAAK,CAAC,CAAA8F,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAA5EE,0BAA0B,CAAAD,WAAA,IAAEE,6BAA6B,CAAAF,WAAA,IAChE,IAAAG,WAAA,CAAoDjG,QAAQ,CAAC,EAAE,CAAC,CAAAkG,WAAA,CAAAxB,cAAA,CAAAuB,WAAA,IAAzDE,kBAAkB,CAAAD,WAAA,IAAEE,qBAAqB,CAAAF,WAAA,IAEhD,IAAAG,WAAA,CAA0BrG,QAAQ,CAAC,IAAI,CAAC,CAAAsG,WAAA,CAAA5B,cAAA,CAAA2B,WAAA,IAAjCE,KAAK,CAAAD,WAAA,IAAEE,QAAQ,CAAAF,WAAA,IACtB,IAAAG,YAAA,CAAiFvG,WAAW,CAAC,SAACwG,KAAK,QAAK,CAAAA,KAAK,CAACC,2BAA2B,GAAC,CAAlIC,sBAAsB,CAAAH,YAAA,CAAtBG,sBAAsB,CAAEC,wBAAwB,CAAAJ,YAAA,CAAxBI,wBAAwB,CAAEC,kBAAkB,CAAAL,YAAA,CAAlBK,kBAAkB,CAC5E,IAAAC,aAAA,CAAuG7G,WAAW,CAAC,SAACwG,KAAK,QAAK,CAAAA,KAAK,CAACM,0BAA0B,GAAC,CAAvJC,uBAAuB,CAAAF,aAAA,CAAvBE,uBAAuB,CAAEC,qBAAqB,CAAAH,aAAA,CAArBG,qBAAqB,CAAEC,uBAAuB,CAAAJ,aAAA,CAAvBI,uBAAuB,CAAEC,iBAAiB,CAAAL,aAAA,CAAjBK,iBAAiB,CAClG,IAAAC,aAAA,CAA+HnH,WAAW,CAAC,SAACwG,KAAK,QAAK,CAAAA,KAAK,CAACY,gCAAgC,GAAC,CAArLC,6BAA6B,CAAAF,aAAA,CAA7BE,6BAA6B,CAAEC,2BAA2B,CAAAH,aAAA,CAA3BG,2BAA2B,CAAEC,6BAA6B,CAAAJ,aAAA,CAA7BI,6BAA6B,CAAEC,uBAAuB,CAAAL,aAAA,CAAvBK,uBAAuB,CAC1H,IAAAC,aAAA,CAAuFzH,WAAW,CAAC,SAACwG,KAAK,QAAK,CAAAA,KAAK,CAACkB,2BAA2B,GAAC,CAAxIC,wBAAwB,CAAAF,aAAA,CAAxBE,wBAAwB,CAAEC,sBAAsB,CAAAH,aAAA,CAAtBG,sBAAsB,CAAEC,wBAAwB,CAAAJ,aAAA,CAAxBI,wBAAwB,CAClF,IAAAC,aAAA,CAAgG9H,WAAW,CAAC,SAACwG,KAAK,QAAK,CAAAA,KAAK,CAACuB,8BAA8B,GAAC,CAApJC,2BAA2B,CAAAF,aAAA,CAA3BE,2BAA2B,CAAEC,yBAAyB,CAAAH,aAAA,CAAzBG,yBAAyB,CAAEC,2BAA2B,CAAAJ,aAAA,CAA3BI,2BAA2B,CAE3F,IAAAC,WAAA,CAAwCrI,QAAQ,CAAC,EAAE,CAAC,CAAAsI,WAAA,CAAA5D,cAAA,CAAA2D,WAAA,IAA7CE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IACpC,IAAAG,aAAA,CAAqDvI,WAAW,CAAC,SAACwG,KAAK,QAAK,CAAAA,KAAK,CAACgC,iBAAiB,GAAC,CAA5FC,cAAc,CAAAF,aAAA,CAAdE,cAAc,CAAEC,wBAAwB,CAAAH,aAAA,CAAxBG,wBAAwB,CAEhD,IAAAC,WAAA,CAAgD7I,QAAQ,CAAC,KAAK,CAAC,CAAA8I,WAAA,CAAApE,cAAA,CAAAmE,WAAA,IAAxDE,gBAAgB,CAAAD,WAAA,IAAEE,mBAAmB,CAAAF,WAAA,IAC5C,IAAAG,WAAA,CAAgDjJ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAkJ,WAAA,CAAAxE,cAAA,CAAAuE,WAAA,IAArDE,gBAAgB,CAAAD,WAAA,IAAEE,mBAAmB,CAAAF,WAAA,IAE5C,IAAAG,aAAA,CAKInJ,WAAW,CAAC,SAACwG,KAAK,QAAK,CAAAA,KAAK,CAAC4C,cAAc,GAAC,CAJ9CC,qBAAqB,CAAAF,aAAA,CAArBE,qBAAqB,CACrBC,qBAAqB,CAAAH,aAAA,CAArBG,qBAAqB,CACrBC,kBAAkB,CAAAJ,aAAA,CAAlBI,kBAAkB,CAClBC,mBAAmB,CAAAL,aAAA,CAAnBK,mBAAmB,CAGrB,IAAAC,aAAA,CAKIzJ,WAAW,CAAC,SAACwG,KAAK,QAAK,CAAAA,KAAK,CAACkD,iBAAiB,GAAC,CAJjDC,wBAAwB,CAAAF,aAAA,CAAxBE,wBAAwB,CACxBC,wBAAwB,CAAAH,aAAA,CAAxBG,wBAAwB,CACxBC,qBAAqB,CAAAJ,aAAA,CAArBI,qBAAqB,CACrBC,sBAAsB,CAAAL,aAAA,CAAtBK,sBAAsB,CAGxB,IAAAC,WAAA,CAAsDjK,QAAQ,CAAC,KAAK,CAAC,CAAAkK,WAAA,CAAAxF,cAAA,CAAAuF,WAAA,IAA9DE,mBAAmB,CAAAD,WAAA,IAAEE,sBAAsB,CAAAF,WAAA,IAClD,IAAAG,WAAA,CAAsDrK,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAsK,WAAA,CAAA5F,cAAA,CAAA2F,WAAA,IAA3DE,mBAAmB,CAAAD,WAAA,IAAEE,sBAAsB,CAAAF,WAAA,IAElD,IAAAG,WAAA,CAAkEzK,QAAQ,CAAC,KAAK,CAAC,CAAA0K,WAAA,CAAAhG,cAAA,CAAA+F,WAAA,IAA1EE,yBAAyB,CAAAD,WAAA,IAAEE,4BAA4B,CAAAF,WAAA,IAC9D,IAAAG,WAAA,CAAkE7K,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA8K,WAAA,CAAApG,cAAA,CAAAmG,WAAA,IAAvEE,yBAAyB,CAAAD,WAAA,IAAEE,4BAA4B,CAAAF,WAAA,IAE9D/K,SAAS,CAAC,UAAM,CACd,GAAIwF,GAAG,CAAE,CACP0F,SAAS,EAAE,CACb,CACF,CAAC,CAAE,CAAC1F,GAAG,CAAC,CAAC,CAET,GAAM,CAAA0F,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,GAAM,CAAAC,GAAG,CAAG,GAAI,CAAA9K,KAAK,CAAC,GAAG,CAAE,IAAI,CAAE,IAAI,CAAC,CACtC8K,GAAG,CAACC,IAAI,CAAC,qBAAqB,CAAE,EAAE,CAAE,EAAE,CAAC,CACvCD,GAAG,CAACE,SAAS,CAAC,CACZC,IAAI,CAAE5B,kBAAkB,CAAC6B,QAAQ,CACjCC,OAAO,CAAE,CACP,CACEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,YACX,CAAC,CACD,CACED,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,mBACX,CAAC,CACD,CACED,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,kBACX,CAAC,CACD,CACED,MAAM,CAAE,IAAI,CACZC,OAAO,CAAE,OACX,CAAC,CACD,CACED,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,UACX,CAAC,CACD,CACED,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,gBACX,CAAC,CACD,CACED,MAAM,CAAE,cAAc,CACtBC,OAAO,CAAE,0BACX,CAAC,CACD,CACED,MAAM,CAAE,WAAW,CACnBC,OAAO,CAAE,cACX,CAAC,CACD,CACED,MAAM,CAAE,iBAAiB,CACzBC,OAAO,CAAE,wBACX,CAAC,CACD,CACED,MAAM,CAAE,cAAc,CACtBC,OAAO,CAAE,0BACX,CAAC,CACD,CACED,MAAM,CAAE,oBAAoB,CAC5BC,OAAO,CAAE,oCACX,CAAC,CACD,CACED,MAAM,CAAE,cAAc,CACtBC,OAAO,CAAE,0BACX,CAAC,CACD,CACED,MAAM,CAAE,oBAAoB,CAC5BC,OAAO,CAAE,oCACX,CAAC,CACD,CACED,MAAM,CAAE,aAAa,CACrBC,OAAO,CAAE,aACX,CAAC,CAEL,CAAC,CAAC,CACFP,GAAG,CAACQ,IAAI,CAAC,iBAAiB,CAAC,CAC7B,CAAC,CAED3L,SAAS,CAAC,UAAM,CACd,GAAI,CAACgG,0BAA0B,CAAE,CAC/BhC,QAAQ,CAAC,CAAE4H,IAAI,CAAEzI,qBAAsB,CAAC,CAAC,CACzCa,QAAQ,CAAC,CAAE4H,IAAI,CAAExI,wBAAyB,CAAC,CAAC,CAC5C6F,mBAAmB,CAAC,KAAK,CAAC,CAC1BI,mBAAmB,CAAC,CAAC,CAAC,CAAC,CACvBgB,sBAAsB,CAAC,KAAK,CAAC,CAC7BI,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAC1BI,4BAA4B,CAAC,KAAK,CAAC,CACnCI,4BAA4B,CAAC,CAAC,CAAC,CAAC,CAClC,CACF,CAAC,CAAE,CAACjF,0BAA0B,CAAC,CAAC,CAEhC,GAAM,CAAA6F,sBAAsB,CAAG,QAAzB,CAAAA,sBAAsBA,CAAIC,CAAC,CAAK,CACpCA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAM,CAAAC,MAAM,CAAG,CACb3H,GAAG,CAAEuB,YAAY,CAACzB,kBAAkB,CAACG,QAAQ,EAAE,CAAG,CAAC,CACnDC,IAAI,CAAEqB,YAAY,CAACzB,kBAAkB,CAACK,WAAW,EAAE,CACnDyH,aAAa,CAAE7F,kBAAkB,CACjC8F,eAAe,CAAE,IACnB,CAAC,CACDlI,QAAQ,CAACzB,aAAa,CAACyJ,MAAM,CAAC,CAAC,CACjC,CAAC,CAED,GAAM,CAAAG,qBAAqB,CAAG,QAAxB,CAAAA,qBAAqBA,CAAIL,CAAC,CAAK,CACnCA,CAAC,CAACC,cAAc,EAAE,CAClB9F,6BAA6B,CAAC,KAAK,CAAC,CACpCJ,eAAe,CAAC3B,YAAY,CAAC,CAC7BmC,qBAAqB,CAAC,EAAE,CAAC,CACzBrC,QAAQ,CAAC,CAAE4H,IAAI,CAAEzI,qBAAsB,CAAC,CAAC,CACzCa,QAAQ,CAAC,CAAE4H,IAAI,CAAExI,wBAAyB,CAAC,CAAC,CAC5CiH,sBAAsB,CAAC,KAAK,CAAC,CAC7BI,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAC1BI,4BAA4B,CAAC,KAAK,CAAC,CACnCI,4BAA4B,CAAC,CAAC,CAAC,CAAC,CAClC,CAAC,CAED,GAAM,CAAAmB,qBAAqB,CAAG,QAAxB,CAAAA,qBAAqBA,CAAA,CAAS,CAClCpI,QAAQ,CAAC,CAAE4H,IAAI,CAAExI,wBAAyB,CAAC,CAAC,CAC9C,CAAC,CAED,GAAM,CAAAiJ,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIP,CAAC,CAAK,CAChCA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAM,CAAAC,MAAM,CAAG,CACb3H,GAAG,CAAEuB,YAAY,CAACzB,kBAAkB,CAACG,QAAQ,EAAE,CAAG,CAAC,CACnDC,IAAI,CAAEqB,YAAY,CAACzB,kBAAkB,CAACK,WAAW,EAAE,CACnDyH,aAAa,CAAE7F,kBACjB,CAAC,CACDpC,QAAQ,CAACrB,UAAU,CAACqJ,MAAM,CAAC,CAAC,CAC9B,CAAC,CAED,GAAM,CAAAM,wBAAwB,CAAG,QAA3B,CAAAA,wBAAwBA,CAAA,CAAS,CACrCjC,sBAAsB,CAAC,KAAK,CAAC,CAC7BI,sBAAsB,CAAC,CAAC,CAAC,CAAC,CAC5B,CAAC,CAED,GAAM,CAAA8B,8BAA8B,CAAG,QAAjC,CAAAA,8BAA8BA,CAAA,CAAS,CAC3C1B,4BAA4B,CAAC,KAAK,CAAC,CACnCI,4BAA4B,CAAC,CAAC,CAAC,CAAC,CAClC,CAAC,CAED,GAAM,CAAAuB,yBAAyB,CAAG,QAA5B,CAAAA,yBAAyBA,CAAIC,iBAAiB,CAAK,CACvD,GAAI,CAAAC,mBAAmB,CAAGhD,kBAAkB,CAAC6B,QAAQ,CAACoB,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,qBAAqB,GAAKJ,iBAAiB,CAACI,qBAAqB,GAAC,CAC1InD,kBAAkB,CAACoD,sBAAsB,CAAGL,iBAAiB,CAACK,sBAAsB,CACpFJ,mBAAmB,CAACK,wBAAwB,CAAGN,iBAAiB,CAACM,wBAAwB,CACzFL,mBAAmB,CAACM,sBAAsB,CAAGP,iBAAiB,CAACO,sBAAsB,CACrFN,mBAAmB,CAACO,kCAAkC,CAAGR,iBAAiB,CAACQ,kCAAkC,CAC7GP,mBAAmB,CAACQ,kCAAkC,CAAGT,iBAAiB,CAACS,kCAAkC,CAC7GR,mBAAmB,CAACS,aAAa,CAAGV,iBAAiB,CAACU,aAAa,CACnET,mBAAmB,CAACU,WAAW,CAAG,WAAW,CAC/C,CAAC,CAED,GAAM,CAAAC,+BAA+B,CAAG,QAAlC,CAAAA,+BAA+BA,CAAIZ,iBAAiB,CAAK,CAC7D,GAAI,CAAAC,mBAAmB,CAAGhD,kBAAkB,CAC5CA,kBAAkB,CAACoD,sBAAsB,CAAGL,iBAAiB,CAACK,sBAAsB,CACtF,CAAC,CAED,GAAM,CAAAQ,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAIC,UAAU,CAAK,CAC1ClD,sBAAsB,CAAC,IAAI,CAAC,CAC5B,GAAM,CAAAmD,eAAe,CAAG9D,kBAAkB,CAAC6B,QAAQ,CAACoB,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,qBAAqB,GAAKU,UAAU,GAAC,CAC3G9C,sBAAsB,CAAC+C,eAAe,CAAC,CACzC,CAAC,CAED,GAAM,CAAAC,yBAAyB,CAAG,QAA5B,CAAAA,yBAAyBA,CAAA,CAAS,CACtC5C,4BAA4B,CAAC,IAAI,CAAC,CAClC,GAAM,CAAA2C,eAAe,CAAG9D,kBAAkB,CAC1CuB,4BAA4B,CAACuC,eAAe,CAAC,CAC/C,CAAC,CAEDxN,SAAS,CAAC,UAAM,CACd,GAAI8G,wBAAwB,CAAE,CAC5BL,QAAQ,cACNjD,KAAA,CAAC5B,UAAU,EACT8L,OAAO,MACPC,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAC,kBAAkB,EAAE,EAAC,CACtCC,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAD,kBAAkB,EAAE,EAAC,CACrCE,kBAAkB,CAAEjK,OAAO,CAACiK,kBAAmB,CAAAC,QAAA,EAChD,QACO,CAACpH,kBAAkB,CAACqG,WAAW,EAAI,IAAI,CAAG,aAAa,CAAG,iBAAiB,CAAC,iBACpF,GAAa,CACd,CACH,CAAC,IACI,IAAIvG,sBAAsB,CAAE,CAC/BJ,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACTwM,KAAK,MACLT,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAM,gBAAgB,EAAE,EAAC,CACpCJ,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAI,gBAAgB,EAAE,EAAC,CACnCH,kBAAkB,CAAEjK,OAAO,CAACqK,gBAAiB,CAAAH,QAAA,CAC9C,4EAED,EAAa,CACd,CACH,CACF,CAAC,CAAE,CAACrH,wBAAwB,CAAED,sBAAsB,CAAC,CAAC,CAGtD,GAAM,CAAAwH,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7BrK,QAAQ,CAAC,CAAE4H,IAAI,CAAE7I,mCAAoC,CAAC,CAAC,CACvD0D,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAED,GAAM,CAAAuH,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC/B,GAAM,CAAAO,oBAAoB,CAAG7E,kBAAkB,CAAC6B,QAAQ,CAACoB,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,qBAAqB,GAAK9F,kBAAkB,CAAC8F,qBAAqB,GAAC,CAC9I0B,oBAAoB,CAACnB,WAAW,CAAGrG,kBAAkB,CAACqG,WAAW,CACjEpJ,QAAQ,CAAC,CAAE4H,IAAI,CAAE7I,mCAAoC,CAAC,CAAC,CACvD0D,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAGD,GAAM,CAAA+H,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIjB,UAAU,CAAK,CACxC,GAAM,CAAAgB,oBAAoB,CAAG7E,kBAAkB,CAAC6B,QAAQ,CAACoB,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,qBAAqB,GAAKU,UAAU,GAAC,CAEhH,GAAGgB,oBAAoB,CAACnB,WAAW,GAAK,WAAW,CAAE,CACnD3G,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACT6M,OAAO,MACPd,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAM,gBAAgB,EAAE,EAAC,CACpCJ,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAI,gBAAgB,EAAE,EAAC,CACnCH,kBAAkB,CAAEjK,OAAO,CAACyK,kBAAmB,CAAAP,QAAA,CAChD,oDAED,EAAa,CACd,CACH,CAAC,IACI,CACH,GAAI,CAAAQ,KAAK,CAAG,IAAI,CAChB,GAAGJ,oBAAoB,CAACnB,WAAW,GAAK,IAAI,CAAE,CAC5CuB,KAAK,CAAG,IAAI,CACd,CAEA,GAAM,CAAAC,IAAI,CAAG,CACX/B,qBAAqB,CAAE0B,oBAAoB,CAAC1B,qBAAqB,CACjEO,WAAW,CAAEuB,KACf,CAAC,CACD3K,QAAQ,CAAC1B,qBAAqB,CAACsM,IAAI,CAAC,CAAC,CACvC,CACF,CAAC,CAED5O,SAAS,CAAC,UAAM,CACd,GAAIoH,uBAAuB,CAAE,CAC3BX,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACT8L,OAAO,MACPC,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAc,cAAc,EAAE,EAAC,CAClCZ,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAY,cAAc,EAAE,EAAC,CACjCX,kBAAkB,CAAEjK,OAAO,CAACiK,kBAAmB,CAAAC,QAAA,CAChD,sCAED,EAAa,CACd,CACH,CAAC,IACI,IAAIhH,qBAAqB,CAAE,CAC9BV,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACTwM,KAAK,MACLT,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAe,YAAY,EAAE,EAAC,CAChCb,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAa,YAAY,EAAE,EAAC,CAC/BZ,kBAAkB,CAAEjK,OAAO,CAACqK,gBAAiB,CAAAH,QAAA,CAC9C,2EAED,EAAa,CACd,CACH,CACF,CAAC,CAAE,CAAC/G,uBAAuB,CAAED,qBAAqB,CAAC,CAAC,CAEpDnH,SAAS,CAAC,UAAM,CACd,GAAI0H,6BAA6B,CAAE,CACjCjB,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACT8L,OAAO,MACPC,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAgB,oBAAoB,EAAE,EAAC,CACxCd,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAc,oBAAoB,EAAE,EAAC,CACvCb,kBAAkB,CAAEjK,OAAO,CAACiK,kBAAmB,CAAAC,QAAA,CAChD,6CAED,EAAa,CACd,CACH,CAAC,IACI,IAAI1G,2BAA2B,CAAE,CACpChB,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACTwM,KAAK,MACLT,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAiB,kBAAkB,EAAE,EAAC,CACtCf,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAe,kBAAkB,EAAE,EAAC,CACrCd,kBAAkB,CAAEjK,OAAO,CAACqK,gBAAiB,CAAAH,QAAA,CAC9C,kFAED,EAAa,CACd,CACH,CACF,CAAC,CAAE,CAACzG,6BAA6B,CAAED,2BAA2B,CAAC,CAAC,CAEhEzH,SAAS,CAAC,UAAM,CACd,GAAI6I,wBAAwB,CAAE,CAC5B,GAAM,CAAAoG,WAAW,CAAG,GAAI,CAAA7K,IAAI,EAAE,CAC9B,GAAM,CAAA8K,WAAW,CAAG,CAClBC,YAAY,CAAE,GAAI,CAAA/K,IAAI,CAAC,YAAY,CAAC,CACpCgL,YAAY,CAAEH,WAChB,CAAC,CAED,GAAM,CAAAI,sBAAsB,CAAGzG,cAAc,CAACoD,MAAM,CAAC,SAACsD,aAAa,QAAK,CAAAA,aAAa,CAACC,SAAS,EAAI,oBAAoB,GAAE,CAAC,CAAC,CAAC,CAC5H,GAAGL,WAAW,CAACE,YAAY,CAACI,OAAO,EAAE,CAAGH,sBAAsB,CAACV,KAAK,CAAE,CACpE;AACAO,WAAW,CAACE,YAAY,CAAG,GAAI,CAAAhL,IAAI,CAAC6K,WAAW,CAACzK,WAAW,EAAE,CAAEyK,WAAW,CAAC3K,QAAQ,EAAE,CAAC,CAAC,CAAE,EAAE,CAAC,CAC5FuB,eAAe,CAAA4J,aAAA,CAAAA,aAAA,IAAM7J,YAAY,MAAEzB,kBAAkB,CAAE+K,WAAW,CAACE,YAAY,GAAE,CACnF,CAAC,IACI,CACH;AACAF,WAAW,CAACE,YAAY,CAAG,GAAI,CAAAhL,IAAI,CAAC6K,WAAW,CAACzK,WAAW,EAAE,CAAEyK,WAAW,CAAC3K,QAAQ,EAAE,CAAC,CAAC,CAAE,EAAE,CAAC,CAC5FuB,eAAe,CAAA4J,aAAA,CAAAA,aAAA,IAAM7J,YAAY,MAAEzB,kBAAkB,CAAE+K,WAAW,CAACE,YAAY,GAAE,CACnF,CACA3G,eAAe,CAACyG,WAAW,CAAC,CAC9B,CAAC,IACI,CACHlL,QAAQ,CAACnB,iBAAiB,EAAE,CAAC,CAC/B,CAEF,CAAC,CAAE,CAACgG,wBAAwB,CAAC,CAAC,CAE9B7I,SAAS,CAAC,UAAM,CACd,GAAIgI,wBAAwB,CAAE,CAC5BvB,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACT8L,OAAO,MACPC,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAA2B,wBAAwB,EAAE,EAAC,CAC5CzB,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAyB,wBAAwB,EAAE,EAAC,CAC3CxB,kBAAkB,CAAEjK,OAAO,CAACiK,kBAAmB,CAAAC,QAAA,CAChD,gDAED,EAAa,CACd,CACH,CAAC,IACI,IAAIpG,sBAAsB,CAAE,CAC/BtB,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACTwM,KAAK,MACLT,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAA4B,sBAAsB,EAAE,EAAC,CAC1C1B,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAA0B,sBAAsB,EAAE,EAAC,CACzCzB,kBAAkB,CAAEjK,OAAO,CAACqK,gBAAiB,CAAAH,QAAA,CAC9C,4EAED,EAAa,CACd,CACH,CACF,CAAC,CAAE,CAACnG,wBAAwB,CAAED,sBAAsB,CAAC,CAAC,CAEtD/H,SAAS,CAAC,UAAM,CACd,GAAIqI,2BAA2B,CAAE,CAC/B5B,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACT8L,OAAO,MACPC,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAA6B,2BAA2B,EAAE,EAAC,CAC/C3B,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAA2B,2BAA2B,EAAE,EAAC,CAC9C1B,kBAAkB,CAAEjK,OAAO,CAACiK,kBAAmB,CAAAC,QAAA,CAChD,4DAED,EAAa,CACd,CACH,CAAC,IACI,IAAI/F,yBAAyB,CAAE,CAClC3B,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACTwM,KAAK,MACLT,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAA8B,yBAAyB,EAAE,EAAC,CAC7C5B,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAA4B,yBAAyB,EAAE,EAAC,CAC5C3B,kBAAkB,CAAEjK,OAAO,CAACqK,gBAAiB,CAAAH,QAAA,CAC9C,2EAED,EAAa,CACd,CACH,CACF,CAAC,CAAE,CAAC9F,2BAA2B,CAAED,yBAAyB,CAAC,CAAC,CAE5D,GAAM,CAAA0G,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB9K,QAAQ,CAAC,CAAE4H,IAAI,CAAE5I,kCAAmC,CAAC,CAAC,CACtDyD,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAED,GAAM,CAAAoI,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B,GAAM,CAAAN,oBAAoB,CAAG7E,kBAAkB,CAAC6B,QAAQ,CAACoB,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,qBAAqB,GAAKxF,iBAAiB,CAACyI,OAAO,CAACjD,qBAAqB,GAAC,CACrJnD,kBAAkB,CAACoD,sBAAsB,CAAGzF,iBAAiB,CAACyF,sBAAsB,CACpFyB,oBAAoB,CAACnB,WAAW,CAAG/F,iBAAiB,CAACyI,OAAO,CAAC1C,WAAW,CACxEmB,oBAAoB,CAACwB,UAAU,CAAG1I,iBAAiB,CAACyI,OAAO,CAACC,UAAU,CACtExB,oBAAoB,CAACxB,wBAAwB,CAAG,IAAI,CACpDwB,oBAAoB,CAACvB,sBAAsB,CAAG,IAAI,CAClDuB,oBAAoB,CAACtB,kCAAkC,CAAG,IAAI,CAC9DsB,oBAAoB,CAACrB,kCAAkC,CAAG,IAAI,CAC9DqB,oBAAoB,CAACpB,aAAa,CAAG,IAAI,CACzCnJ,QAAQ,CAAC,CAAE4H,IAAI,CAAE5I,kCAAmC,CAAC,CAAC,CACtDyD,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAED,GAAM,CAAAuJ,sBAAsB,CAAG,QAAzB,CAAAA,sBAAsBA,CAAIzC,UAAU,CAAK,CAC7C9G,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACT6M,OAAO,MACPd,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,WAAW,CACjBC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAA/J,QAAQ,CAACxB,oBAAoB,CAAC,CAACqK,qBAAqB,CAAEU,UAAU,CAAC,CAAC,CAAC,EAAC,CACrFU,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAxH,QAAQ,CAAC,IAAI,CAAC,EAAC,CAC/ByH,kBAAkB,CAAEjK,OAAO,CAACiK,kBAAmB,CAC/C+B,iBAAiB,CAAEhM,OAAO,CAACqK,gBAAiB,CAC5C4B,cAAc,CAAGhJ,uBAAuB,CAAG,aAAa,CAAG,IAAK,CAChEiJ,aAAa,CAAC,IAAI,CAClBC,UAAU,MAAAjC,QAAA,CACX,+EAED,EAAa,CACd,CACH,CAAC,CAED,GAAM,CAAAa,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC/BhL,QAAQ,CAAC,CAAE4H,IAAI,CAAE3I,yCAA0C,CAAC,CAAC,CAC7DwD,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAED,GAAM,CAAAsI,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAA,CAAS,CACjC,GAAM,CAAAR,oBAAoB,CAAG7E,kBAAkB,CAC/CA,kBAAkB,CAACoD,sBAAsB,CAAGnF,uBAAuB,CAACmF,sBAAsB,CAC1F9I,QAAQ,CAAC,CAAE4H,IAAI,CAAE3I,yCAA0C,CAAC,CAAC,CAC7DwD,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAC,CAED,GAAM,CAAA4J,4BAA4B,CAAG,QAA/B,CAAAA,4BAA4BA,CAAA,CAAS,CACzC5J,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACT6M,OAAO,MACPd,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,WAAW,CACjBC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAA/J,QAAQ,CAACvB,0BAA0B,CAACiH,kBAAkB,CAAC,CAAC,EAAC,CAC1EuE,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAxH,QAAQ,CAAC,IAAI,CAAC,EAAC,CAC/ByH,kBAAkB,CAAEjK,OAAO,CAACiK,kBAAmB,CAC/C+B,iBAAiB,CAAEhM,OAAO,CAACqK,gBAAiB,CAC5C4B,cAAc,CAAG1I,6BAA6B,CAAG,aAAa,CAAG,IAAK,CACtE2I,aAAa,CAAC,IAAI,CAClBC,UAAU,MAAAjC,QAAA,CACX,sFAED,EAAa,CACd,CACH,CAAC,CAED,GAAM,CAAAmC,uBAAuB,CAAG,QAA1B,CAAAA,uBAAuBA,CAAA,CAAS,CACpC;AACA7J,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACT6M,OAAO,MACPd,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,WAAW,CACjBC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAA/J,QAAQ,CAACtB,iBAAiB,CAACgH,kBAAkB,CAAC,CAAC,EAAC,CACjEuE,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAxH,QAAQ,CAAC,IAAI,CAAC,EAAC,CAC/ByH,kBAAkB,CAAEjK,OAAO,CAACiK,kBAAmB,CAC/C+B,iBAAiB,CAAEhM,OAAO,CAACqK,gBAAiB,CAC5C4B,cAAc,CAAGpI,wBAAwB,CAAG,iBAAiB,CAAG,IAAK,CACrEqI,aAAa,CAAC,IAAI,CAClBC,UAAU,MAAAjC,QAAA,CACX,oFAED,EAAa,CACd,CAEH,CAAC,CAED,GAAM,CAAAwB,sBAAsB,CAAG,QAAzB,CAAAA,sBAAsBA,CAAA,CAAS,CACnC3L,QAAQ,CAAC,CAAE4H,IAAI,CAAEzI,qBAAsB,CAAC,CAAC,CACzCa,QAAQ,CAAC,CAAE4H,IAAI,CAAE1I,mCAAoC,CAAC,CAAC,CACvDuD,QAAQ,CAAC,IAAI,CAAC,CACd,GAAM,CAAAuF,MAAM,CAAG,CACb3H,GAAG,CAAEuB,YAAY,CAACzB,kBAAkB,CAACG,QAAQ,EAAE,CAAG,CAAC,CACnDC,IAAI,CAAEqB,YAAY,CAACzB,kBAAkB,CAACK,WAAW,EAAE,CACnDyH,aAAa,CAAE7F,kBAAkB,CACjC8F,eAAe,CAAE,IACnB,CAAC,CACDlI,QAAQ,CAACzB,aAAa,CAACyJ,MAAM,CAAC,CAAC,CACjC,CAAC,CAED,GAAM,CAAA0D,wBAAwB,CAAG,QAA3B,CAAAA,wBAAwBA,CAAA,CAAS,CACrC1L,QAAQ,CAAC,CAAE4H,IAAI,CAAEzI,qBAAsB,CAAC,CAAC,CACzCa,QAAQ,CAAC,CAAE4H,IAAI,CAAE1I,mCAAoC,CAAC,CAAC,CACvDuD,QAAQ,CAAC,IAAI,CAAC,CACd,GAAM,CAAAuF,MAAM,CAAG,CACb3H,GAAG,CAAEuB,YAAY,CAACzB,kBAAkB,CAACG,QAAQ,EAAE,CAAG,CAAC,CACnDC,IAAI,CAAEqB,YAAY,CAACzB,kBAAkB,CAACK,WAAW,EAAE,CACnDyH,aAAa,CAAE7F,kBAAkB,CACjC8F,eAAe,CAAE,IACnB,CAAC,CACDlI,QAAQ,CAACzB,aAAa,CAACyJ,MAAM,CAAC,CAAC,CACjC,CAAC,CAED,GAAM,CAAAuE,0BAA0B,CAAG,QAA7B,CAAAA,0BAA0BA,CAAA,CAAS,CACvC;AACA9J,QAAQ,cACN/C,IAAA,CAAC9B,UAAU,EACT6M,OAAO,MACPd,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,WAAW,CACjBC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAA/J,QAAQ,CAACpB,oBAAoB,CAAC8G,kBAAkB,CAAC,CAAC,EAAC,CACpEuE,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAxH,QAAQ,CAAC,IAAI,CAAC,EAAC,CAC/ByH,kBAAkB,CAAEjK,OAAO,CAACiK,kBAAmB,CAC/C+B,iBAAiB,CAAEhM,OAAO,CAACqK,gBAAiB,CAC5C4B,cAAc,CAAG/H,2BAA2B,CAAG,4BAA4B,CAAG,IAAK,CACnFgI,aAAa,CAAC,IAAI,CAClBC,UAAU,MAAAjC,QAAA,CACX,mNAED,EAAa,CACd,CAEH,CAAC,CAED,GAAM,CAAA0B,yBAAyB,CAAG,QAA5B,CAAAA,yBAAyBA,CAAA,CAAS,CACtC7L,QAAQ,CAAC,CAAE4H,IAAI,CAAEzI,qBAAsB,CAAC,CAAC,CACzCa,QAAQ,CAAC,CAAE4H,IAAI,CAAEvI,sCAAuC,CAAC,CAAC,CAC1DoD,QAAQ,CAAC,IAAI,CAAC,CACd,GAAM,CAAAuF,MAAM,CAAG,CACb3H,GAAG,CAAEuB,YAAY,CAACzB,kBAAkB,CAACG,QAAQ,EAAE,CAAG,CAAC,CACnDC,IAAI,CAAEqB,YAAY,CAACzB,kBAAkB,CAACK,WAAW,EAAE,CACnDyH,aAAa,CAAE7F,kBAAkB,CACjC8F,eAAe,CAAE,IACnB,CAAC,CACDlI,QAAQ,CAACzB,aAAa,CAACyJ,MAAM,CAAC,CAAC,CACjC,CAAC,CAED,GAAM,CAAA4D,2BAA2B,CAAG,QAA9B,CAAAA,2BAA2BA,CAAA,CAAS,CACxC5L,QAAQ,CAAC,CAAE4H,IAAI,CAAEzI,qBAAsB,CAAC,CAAC,CACzCa,QAAQ,CAAC,CAAE4H,IAAI,CAAEvI,sCAAuC,CAAC,CAAC,CAC1DoD,QAAQ,CAAC,IAAI,CAAC,CACd,GAAM,CAAAuF,MAAM,CAAG,CACb3H,GAAG,CAAEuB,YAAY,CAACzB,kBAAkB,CAACG,QAAQ,EAAE,CAAG,CAAC,CACnDC,IAAI,CAAEqB,YAAY,CAACzB,kBAAkB,CAACK,WAAW,EAAE,CACnDyH,aAAa,CAAE7F,kBAAkB,CACjC8F,eAAe,CAAE,IACnB,CAAC,CACDlI,QAAQ,CAACzB,aAAa,CAACyJ,MAAM,CAAC,CAAC,CACjC,CAAC,CAED,GAAM,CAAAwE,qBAAqB,CAAG,QAAxB,CAAAA,qBAAqBA,CAAA,CAAS,CAClCvH,mBAAmB,CAAC,KAAK,CAAC,CAC1BI,mBAAmB,CAAC,CAAC,CAAC,CAAC,CACzB,CAAC,CAED,GAAM,CAAAoH,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIlD,UAAU,CAAK,CACvCtE,mBAAmB,CAAC,IAAI,CAAC,CACzB,GAAI,CAAAyH,eAAe,CAAGhH,kBAAkB,CAAC6B,QAAQ,CAACoB,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,qBAAqB,GAAKU,UAAU,GAAC,CACzGlE,mBAAmB,CAAC,CAACqH,eAAe,CAAC,CAAC,CACxC,CAAC,CAED,mBACElN,KAAA,CAAAI,SAAA,EAAAuK,QAAA,eACE3K,KAAA,CAAC/B,aAAa,EAAA0M,QAAA,eACZzK,IAAA,CAAChC,QAAQ,EAACiP,EAAE,CAAE,EAAG,CAACC,SAAS,CAAE3M,OAAO,CAAC4M,QAAS,CAAA1C,QAAA,cAC5CzK,IAAA,CAACtC,IAAI,EAAA+M,QAAA,cACHzK,IAAA,CAACnC,QAAQ,EAAA4M,QAAA,cACP3K,KAAA,SAAMsN,QAAQ,CAAEjF,sBAAuB,CAAAsC,QAAA,eACrC3K,KAAA,CAAC/B,aAAa,EAAA0M,QAAA,eACdzK,IAAA,CAAC1B,uBAAuB,EAAC+O,MAAM,CAAEhP,QAAS,CAACiP,KAAK,CAAElP,YAAa,CAAAqM,QAAA,cAC3DzK,IAAA,CAAChC,QAAQ,EAACiP,EAAE,CAAE,EAAG,CAACM,EAAE,CAAE,CAAE,CAAA9C,QAAA,cACtBzK,IAAA,CAACzB,kBAAkB,EACjBiP,cAAc,MACdC,MAAM,CAAC,SAAS,CAChBC,KAAK,CAAE,CAAC,MAAM,CAAE,OAAO,CAAE,CACzBC,MAAM,CAAC,QAAQ,CACfC,EAAE,CAAC,oBAAoB,CACvBC,KAAK,CAAC,gBAAa,CACnBC,OAAO,CAAEhJ,YAAY,CAAC2G,YAAa,CACnCsC,OAAO,CAAEjJ,YAAY,CAAC4G,YAAa,CACnCsC,KAAK,CAAE9L,YAAY,CAACzB,kBAAmB,CACvCwN,QAAQ,CAAE,SAAAA,SAAC7F,CAAC,CAAK,CAACjG,eAAe,CAAA4J,aAAA,CAAAA,aAAA,IAAM7J,YAAY,MAAEzB,kBAAkB,CAAE2H,CAAC,CAAEzH,GAAG,CAAEyH,CAAC,CAACxH,QAAQ,EAAE,CAAG,CAAC,CAAEC,IAAI,CAAEuH,CAAC,CAACtH,WAAW,EAAE,GAAG,CAAER,QAAQ,CAAC,CAAE4H,IAAI,CAAEtI,eAAgB,CAAC,CAAC,EAAE,CAClKsO,mBAAmB,CAAE,CACnB,YAAY,CAAE,aAChB,CAAE,EACF,EACO,EACa,cAC1BlO,IAAA,CAAChC,QAAQ,EAACiP,EAAE,CAAE,EAAG,CAAAxC,QAAA,cACfzK,IAAA,CAACjC,aAAa,EAAA0M,QAAA,cACZzK,IAAA,CAACxB,sBAAsB,EACrBkE,kBAAkB,CAAEA,kBAAmB,CACvCyL,qBAAqB,CAAExL,qBAAsB,CAC7CyL,IAAI,CAAElM,YAAY,CAACvB,GAAI,CACvB0N,KAAK,CAAEnM,YAAY,CAACrB,IAAK,EACzB,EACY,EACP,GACG,CAEfoF,mBAAmB,eAClBjG,IAAA,CAACjC,aAAa,EAAA0M,QAAA,cACZzK,IAAA,CAAChC,QAAQ,EAACiP,EAAE,CAAE,EAAG,CAAAxC,QAAA,cACfzK,IAAA,CAAC/B,eAAe,EAACqQ,OAAO,CAAErI,mBAAoB,CAACsI,KAAK,CAAC,QAAQ,EAAG,EACvD,EAEd,CACAhI,sBAAsB,eACrBvG,IAAA,CAACjC,aAAa,EAAA0M,QAAA,cACZzK,IAAA,CAAChC,QAAQ,EAACiP,EAAE,CAAE,EAAG,CAAAxC,QAAA,cACfzK,IAAA,CAAC/B,eAAe,EAACqQ,OAAO,CAAE/H,sBAAuB,CAACgI,KAAK,CAAC,QAAQ,EAAG,EAC1D,EAEd,CACAzI,qBAAqB,eACpB9F,IAAA,CAACpC,MAAM,EAACsK,IAAI,CAAC,QAAQ,CAACqG,KAAK,CAAC,SAAS,CAACrB,SAAS,CAAE3M,OAAO,CAACiO,oBAAqB,CAACC,OAAO,CAAE9F,kBAAmB,CAAA8B,QAAA,CACtGpE,wBAAwB,CAAG,sBAAsB,CAAE,0BAA0B,EAEnF,cAEDrG,IAAA,CAACpC,MAAM,EAACsK,IAAI,CAAC,QAAQ,CAACqG,KAAK,CAAC,SAAS,CAACrB,SAAS,CAAE3M,OAAO,CAACmO,aAAc,CAACD,OAAO,CAAEhG,qBAAsB,CAAAgC,QAAA,CAAC,SAExG,EAAS,cACTzK,IAAA,CAACpC,MAAM,EAACsK,IAAI,CAAC,QAAQ,CAACqG,KAAK,CAAC,SAAS,CAACrB,SAAS,CAAE3M,OAAO,CAACmO,aAAc,CAAAjE,QAAA,CACpE1E,qBAAqB,CAAG,wBAAwB,CAAG,SAAS,EACtD,GACJ,EACE,EACN,EACE,CAIVD,qBAAqB,cACpB9F,IAAA,CAAAE,SAAA,EAAAuK,QAAA,cACEzK,IAAA,CAAChC,QAAQ,EAACiP,EAAE,CAAE,EAAG,CAACC,SAAS,CAAE3M,OAAO,CAAC4M,QAAS,CAAA1C,QAAA,cAC5CzK,IAAA,CAACtC,IAAI,EAAA+M,QAAA,cACH3K,KAAA,CAACjC,QAAQ,EAAA4M,QAAA,eACL3K,KAAA,CAAC/B,aAAa,EAAA0M,QAAA,eACZ3K,KAAA,CAAC9B,QAAQ,EAACiP,EAAE,CAAE,EAAG,CAACM,EAAE,CAAE,CAAE,CAAA9C,QAAA,eACtBzK,IAAA,SAAMkN,SAAS,CAAE3M,OAAO,CAACoO,sBAAuB,CAAAlE,QAAA,CAAC,8BAAyB,EAAO,CAChFzE,kBAAkB,CAACoD,sBAAsB,cACxCpJ,IAAA,SAAMkN,SAAS,CAAElH,kBAAkB,CAACoD,sBAAsB,EAAI,WAAW,CAAE7I,OAAO,CAACqO,oBAAoB,CAAG5I,kBAAkB,CAACoD,sBAAsB,EAAI,iBAAiB,CAAI7I,OAAO,CAACsO,0BAA0B,CAAG7I,kBAAkB,CAACoD,sBAAsB,EAAI,eAAe,CAAI7I,OAAO,CAACuO,wBAAwB,CAAGvO,OAAO,CAACwO,eAAiB,CAAAtE,QAAA,CAAEzE,kBAAkB,CAACoD,sBAAsB,EAAQ,cAEhYpJ,IAAA,SAAMkN,SAAS,CAAElH,kBAAkB,CAACgJ,YAAY,EAAI,WAAW,CAAEzO,OAAO,CAACqO,oBAAoB,CAAG5I,kBAAkB,CAACgJ,YAAY,EAAI,iBAAiB,CAAIzO,OAAO,CAACsO,0BAA0B,CAAG7I,kBAAkB,CAACgJ,YAAY,EAAI,eAAe,CAAIzO,OAAO,CAACuO,wBAAwB,CAAGvO,OAAO,CAACwO,eAAiB,CAAAtE,QAAA,CAAEzE,kBAAkB,CAACgJ,YAAY,EACjV,CACAhJ,kBAAkB,CAACiJ,WAAW,GAAK,IAAI,CACtCjJ,kBAAkB,CAACoD,sBAAsB,cACvCpJ,IAAA,CAACpC,MAAM,EAACsR,QAAQ,MAACC,KAAK,MAACC,MAAM,MAACb,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA9B,4BAA4B,EAAE,EAAC,CAAAlC,QAAA,cAACzK,IAAA,CAACrC,OAAO,EAACyM,KAAK,CAAC,sBAAmB,CAAAK,QAAA,cAACzK,IAAA,CAACxC,MAAM,IAAG,EAAU,EAAS,cAE7JwC,IAAA,CAACpC,MAAM,EAACsR,QAAQ,MAACC,KAAK,MAACC,MAAM,MAACb,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA1E,yBAAyB,EAAE,EAAC,CAAAU,QAAA,cAACzK,IAAA,CAACrC,OAAO,EAACyM,KAAK,CAAC,UAAU,CAAAK,QAAA,cAACzK,IAAA,CAAC7C,aAAa,IAAG,EAAU,EAChJ,cACC6C,IAAA,OAAAyK,QAAA,cAAIzK,IAAA,SAAMkN,SAAS,CAAE3M,OAAO,CAAC8O,mBAAoB,CAACpF,KAAK,CAAE,CAACqF,KAAK,CAAE,OAAO,CAAE,CAAA7E,QAAA,CAAC,2BAAsB,EAAO,EAAK,GACxG,cACXzK,IAAA,CAAChC,QAAQ,EAACiP,EAAE,CAAE,EAAG,CAACM,EAAE,CAAE,CAAE,CAAA9C,QAAA,cACtB3K,KAAA,QAAKmK,KAAK,CAAE,CAACqF,KAAK,CAAE,OAAO,CAAE,CAAA7E,QAAA,eAC3BzK,IAAA,SAAMkN,SAAS,CAAE3M,OAAO,CAACoO,sBAAuB,CAAAlE,QAAA,CAAC,uBAAqB,EAAO,cAC7E3K,KAAA,SAAMoN,SAAS,CAAElH,kBAAkB,CAACuJ,WAAW,EAAI,WAAW,CAAEhP,OAAO,CAACqO,oBAAoB,CAAG5I,kBAAkB,CAACuJ,WAAW,EAAI,iBAAiB,CAAIhP,OAAO,CAACsO,0BAA0B,CAAG7I,kBAAkB,CAACuJ,WAAW,EAAI,eAAe,CAAIhP,OAAO,CAACuO,wBAAwB,CAAG9I,kBAAkB,CAACuJ,WAAW,EAAI,MAAM,CAAIhP,OAAO,CAACwO,eAAe,CAAGxO,OAAO,CAACoO,sBAAwB,CAAAlE,QAAA,EAAEzE,kBAAkB,CAACwJ,gBAAgB,IAAAC,MAAA,CAAMzJ,kBAAkB,CAACwJ,gBAAgB,OAAM,EAAE,CAAC,GAAC,CAACxJ,kBAAkB,CAACuJ,WAAW,CAAGvJ,kBAAkB,CAACuJ,WAAW,CAAG,EAAE,GAAQ,GAC1hB,EACG,cAEXvP,IAAA,SAAS,cACTA,IAAA,SAAS,cAETA,IAAA,CAAChC,QAAQ,EAACiP,EAAE,CAAE,EAAG,CAAAxC,QAAA,cACfzK,IAAA,CAAClC,UAAU,EACPgK,OAAO,CAAE,CACP,CACE4H,MAAM,CAAE,OAAO,CACfC,QAAQ,CAAE,mBAAmB,CAC7BC,IAAI,CAAE,SAAAA,KAAAC,IAAA,KAAG,CAAA7B,KAAK,CAAA6B,IAAA,CAAL7B,KAAK,oBAAOhO,IAAA,CAACrC,OAAO,EAACyM,KAAK,cAAEpK,IAAA,SAAMiK,KAAK,CAAE,CAAE6F,QAAQ,CAAE,MAAO,CAAE,CAAArF,QAAA,CAAEuD,KAAK,EAAS,CAAC+B,SAAS,CAAC,QAAQ,CAAAtF,QAAA,cAACzK,IAAA,SAAAyK,QAAA,CAAOuD,KAAK,EAAQ,EAAU,EAC3I,CAAC,CACD,CACE0B,MAAM,CAAE,YAAY,CACpBC,QAAQ,CAAE,kBAAkB,CAC5BC,IAAI,CAAE,SAAAA,KAAAI,KAAA,KAAG,CAAAhC,KAAK,CAAAgC,KAAA,CAALhC,KAAK,CAAEiC,GAAG,CAAAD,KAAA,CAAHC,GAAG,oBAAOjQ,IAAA,SAAAyK,QAAA,CAAOwF,GAAG,CAACC,QAAQ,CAACC,UAAU,EAAI,IAAI,CAAEnC,KAAK,CAAG,OAAO,EAAQ,EAC3F,CAAC,CACD,CACE0B,MAAM,CAAE,OAAO,CACfC,QAAQ,CAAE,OACZ,CAAC,CACD,CACED,MAAM,CAAE,WAAW,CACnBC,QAAQ,CAAE,UACZ,CAAC,CACD,CACED,MAAM,CAAE,aAAa,CACrBC,QAAQ,CAAE,gBAAgB,CAC1BC,IAAI,CAAE,SAAAA,KAAAQ,KAAA,KAAG,CAAApC,KAAK,CAAAoC,KAAA,CAALpC,KAAK,CAAEiC,GAAG,CAAAG,KAAA,CAAHH,GAAG,oBAAOnQ,KAAA,QAAA2K,QAAA,EAAK,GAAC,CAACwF,GAAG,CAACC,QAAQ,CAAC7G,wBAAwB,EAAI,WAAW,EAAI4G,GAAG,CAACC,QAAQ,CAAC7G,wBAAwB,EAAI,eAAe,EAAI4G,GAAG,CAACC,QAAQ,CAAC7G,wBAAwB,EAAI,MAAM,EAAI4G,GAAG,CAACC,QAAQ,CAAC7G,wBAAwB,EAAI,iBAAiB,cAChQrJ,IAAA,SAAMkN,SAAS,CAAE+C,GAAG,CAACC,QAAQ,CAAC7G,wBAAwB,EAAI,WAAW,CAAE9I,OAAO,CAACqO,oBAAoB,CAAGqB,GAAG,CAACC,QAAQ,CAAC7G,wBAAwB,EAAI,iBAAiB,CAAI9I,OAAO,CAACsO,0BAA0B,CAAGoB,GAAG,CAACC,QAAQ,CAAC7G,wBAAwB,EAAI,eAAe,CAAI9I,OAAO,CAACuO,wBAAwB,CAAGvO,OAAO,CAACwO,eAAiB,CAAAtE,QAAA,CAAEwF,GAAG,CAACC,QAAQ,CAAC7G,wBAAwB,EAAQ,cAEhXrJ,IAAA,SAAMkN,SAAS,CAAEc,KAAK,EAAI,WAAW,CAAEzN,OAAO,CAACqO,oBAAoB,CAAGZ,KAAK,EAAI,iBAAiB,CAAIzN,OAAO,CAACsO,0BAA0B,CAAGb,KAAK,EAAI,eAAe,CAAIzN,OAAO,CAACuO,wBAAwB,CAAGd,KAAK,EAAI,MAAM,CAAIzN,OAAO,CAACwO,eAAe,CAAGf,KAAK,EAAI,WAAW,CAAIzN,OAAO,CAAC8O,mBAAmB,CAAG9O,OAAO,CAAC8P,aAAe,CAAA5F,QAAA,CAAEuD,KAAK,EAC1U,CAAC,GAAC,GAAM,EACX,CAAC,CACD,CACE0B,MAAM,CAAE,WAAW,CACnBC,QAAQ,CAAE,cAAc,CACxBC,IAAI,CAAE,SAAAA,KAAAU,KAAA,KAAG,CAAAtC,KAAK,CAAAsC,KAAA,CAALtC,KAAK,CAAEiC,GAAG,CAAAK,KAAA,CAAHL,GAAG,oBAAOnQ,KAAA,QAAA2K,QAAA,EAAK,GAAC,CAACwF,GAAG,CAACC,QAAQ,CAAC5G,sBAAsB,EAAI,WAAW,EAAI2G,GAAG,CAACC,QAAQ,CAAC5G,sBAAsB,EAAI,eAAe,EAAI2G,GAAG,CAACC,QAAQ,CAAC5G,sBAAsB,EAAI,MAAM,EAAI2G,GAAG,CAACC,QAAQ,CAAC5G,sBAAsB,EAAI,iBAAiB,cACxPtJ,IAAA,SAAMkN,SAAS,CAAE+C,GAAG,CAACC,QAAQ,CAAC5G,sBAAsB,EAAI,WAAW,CAAE/I,OAAO,CAACqO,oBAAoB,CAAGqB,GAAG,CAACC,QAAQ,CAAC5G,sBAAsB,EAAI,iBAAiB,CAAI/I,OAAO,CAACsO,0BAA0B,CAAGoB,GAAG,CAACC,QAAQ,CAAC5G,sBAAsB,EAAI,eAAe,CAAI/I,OAAO,CAACuO,wBAAwB,CAAGvO,OAAO,CAACwO,eAAiB,CAAAtE,QAAA,CAAEwF,GAAG,CAACC,QAAQ,CAAC5G,sBAAsB,EAAQ,cAExWtJ,IAAA,SAAMkN,SAAS,CAAEc,KAAK,EAAI,WAAW,CAAEzN,OAAO,CAACqO,oBAAoB,CAAGZ,KAAK,EAAI,iBAAiB,CAAIzN,OAAO,CAACsO,0BAA0B,CAAGb,KAAK,EAAI,eAAe,CAAIzN,OAAO,CAACuO,wBAAwB,CAAGd,KAAK,EAAI,MAAM,CAAIzN,OAAO,CAACwO,eAAe,CAAGf,KAAK,EAAI,WAAW,CAAIzN,OAAO,CAAC8O,mBAAmB,CAAG9O,OAAO,CAAC8P,aAAe,CAAA5F,QAAA,CAAEuD,KAAK,EAC1U,CAAC,GAAC,GAAM,EACX,CAAC,CACD,CACE0B,MAAM,CAAE,cAAc,CACtBC,QAAQ,CAAE,0BAA0B,CACpCC,IAAI,CAAE,SAAAA,KAAAW,KAAA,KAAG,CAAAvC,KAAK,CAAAuC,KAAA,CAALvC,KAAK,CAAEiC,GAAG,CAAAM,KAAA,CAAHN,GAAG,oBAAOnQ,KAAA,QAAA2K,QAAA,EAAK,GAAC,CAACwF,GAAG,CAACC,QAAQ,CAAC1G,kCAAkC,EAAI,WAAW,EAAIyG,GAAG,CAACC,QAAQ,CAAC1G,kCAAkC,EAAI,eAAe,EAAIyG,GAAG,CAACC,QAAQ,CAAC1G,kCAAkC,EAAI,MAAM,EAAIyG,GAAG,CAACC,QAAQ,CAAC1G,kCAAkC,EAAI,iBAAiB,cACxSxJ,IAAA,SAAMkN,SAAS,CAAE+C,GAAG,CAACC,QAAQ,CAAC1G,kCAAkC,EAAI,WAAW,CAAEjJ,OAAO,CAACqO,oBAAoB,CAAGqB,GAAG,CAACC,QAAQ,CAAC1G,kCAAkC,EAAI,iBAAiB,CAAIjJ,OAAO,CAACsO,0BAA0B,CAAGoB,GAAG,CAACC,QAAQ,CAAC1G,kCAAkC,EAAI,eAAe,CAAIjJ,OAAO,CAACuO,wBAAwB,CAAGvO,OAAO,CAACwO,eAAiB,CAAAtE,QAAA,CAAEwF,GAAG,CAACC,QAAQ,CAAC1G,kCAAkC,EAAQ,cAExZxJ,IAAA,SAAMkN,SAAS,CAAEc,KAAK,EAAI,WAAW,CAAEzN,OAAO,CAACqO,oBAAoB,CAAGZ,KAAK,EAAI,iBAAiB,CAAIzN,OAAO,CAACsO,0BAA0B,CAAGb,KAAK,EAAI,eAAe,CAAIzN,OAAO,CAACuO,wBAAwB,CAAGd,KAAK,EAAI,MAAM,CAAIzN,OAAO,CAACwO,eAAe,CAAGf,KAAK,EAAI,WAAW,CAAIzN,OAAO,CAAC8O,mBAAmB,CAAG9O,OAAO,CAAC8P,aAAe,CAAA5F,QAAA,CAAEuD,KAAK,EAC1U,CAAC,GAAC,GAAM,EACX,CAAC,CACD,CACE0B,MAAM,CAAE,cAAc,CACtBC,QAAQ,CAAE,0BAA0B,CACpCC,IAAI,CAAE,SAAAA,KAAAY,KAAA,KAAG,CAAAxC,KAAK,CAAAwC,KAAA,CAALxC,KAAK,CAAEiC,GAAG,CAAAO,KAAA,CAAHP,GAAG,oBAAOnQ,KAAA,QAAA2K,QAAA,EAAK,GAAC,CAACwF,GAAG,CAACC,QAAQ,CAAC3G,kCAAkC,EAAI,WAAW,EAAI0G,GAAG,CAACC,QAAQ,CAAC3G,kCAAkC,EAAI,eAAe,EAAI0G,GAAG,CAACC,QAAQ,CAAC3G,kCAAkC,EAAI,MAAM,EAAI0G,GAAG,CAACC,QAAQ,CAAC3G,kCAAkC,EAAI,iBAAiB,cACxSvJ,IAAA,SAAMkN,SAAS,CAAE+C,GAAG,CAACC,QAAQ,CAAC3G,kCAAkC,EAAI,WAAW,CAAEhJ,OAAO,CAACqO,oBAAoB,CAAGqB,GAAG,CAACC,QAAQ,CAAC3G,kCAAkC,EAAI,iBAAiB,CAAIhJ,OAAO,CAACsO,0BAA0B,CAAGoB,GAAG,CAACC,QAAQ,CAAC3G,kCAAkC,EAAI,eAAe,CAAIhJ,OAAO,CAACuO,wBAAwB,CAAGvO,OAAO,CAACwO,eAAiB,CAAAtE,QAAA,CAAEwF,GAAG,CAACC,QAAQ,CAAC3G,kCAAkC,EAAQ,cAExZvJ,IAAA,SAAMkN,SAAS,CAAEc,KAAK,EAAI,WAAW,CAAEzN,OAAO,CAACqO,oBAAoB,CAAGZ,KAAK,EAAI,iBAAiB,CAAIzN,OAAO,CAACsO,0BAA0B,CAAGb,KAAK,EAAI,eAAe,CAAIzN,OAAO,CAACuO,wBAAwB,CAAGd,KAAK,EAAI,MAAM,CAAIzN,OAAO,CAACwO,eAAe,CAAGf,KAAK,EAAI,WAAW,CAAIzN,OAAO,CAAC8O,mBAAmB,CAAG9O,OAAO,CAAC8P,aAAe,CAAA5F,QAAA,CAAEuD,KAAK,EAC1U,CAAC,GAAC,GAAM,EACX,CAAC,CACD,CACE0B,MAAM,CAAE,aAAa,CACrBC,QAAQ,CAAE,aAAa,CACvBC,IAAI,CAAE,SAAAA,KAAAa,KAAA,KAAG,CAAAzC,KAAK,CAAAyC,KAAA,CAALzC,KAAK,oBAAOhO,IAAA,CAACpC,MAAM,EAACsR,QAAQ,MAACC,KAAK,MAACC,MAAM,MAACb,KAAK,CAAC,SAAS,CAAA9D,QAAA,cAACzK,IAAA,CAACrC,OAAO,EAACyM,KAAK,CAAE4D,KAAK,EAAI,IAAI,CAAE,IAAI,CAAGA,KAAK,EAAI,WAAW,CAAI,WAAW,CAAG,IAAM,CAAAvD,QAAA,CAAEuD,KAAK,EAAI,IAAI,cAAEhO,IAAA,CAAC3C,KAAK,IAAG,CAAE2Q,KAAK,EAAI,WAAW,cAAEhO,IAAA,CAACzC,eAAe,IAAG,cAAGyC,IAAA,CAAC1C,KAAK,IAAG,EAAW,EAAS,EAC5P,CAAC,CACD,CACEoS,MAAM,CAAE,UAAU,CAClBC,QAAQ,CAAE,uBAAuB,CACjCC,IAAI,CAAE,SAAAA,KAAAc,KAAA,KAAG,CAAA1C,KAAK,CAAA0C,KAAA,CAAL1C,KAAK,CAAEiC,GAAG,CAAAS,KAAA,CAAHT,GAAG,oBAAOnQ,KAAA,QAAKoN,SAAS,CAAC,eAAe,CAAAzC,QAAA,EAAG,CAACwF,GAAG,CAACC,QAAQ,CAAC7D,UAAU,EAAI,IAAI,EAAI4D,GAAG,CAACC,QAAQ,CAAC7D,UAAU,EAAI,IAAI,GAAK4D,GAAG,CAACC,QAAQ,CAACxG,WAAW,EAAI,WAAW,EAAI1D,kBAAkB,CAACiJ,WAAW,GAAK,IAAI,cAAIjP,IAAA,CAACpC,MAAM,EAACsR,QAAQ,MAACC,KAAK,MAACC,MAAM,MAACb,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA3D,iBAAiB,CAACkD,KAAK,CAAC,EAAC,CAAAvD,QAAA,cAACzK,IAAA,CAACrC,OAAO,EAACyM,KAAK,CAAC,0BAA0B,CAAAK,QAAA,cAACzK,IAAA,CAAC5C,eAAe,IAAG,EAAU,EAAS,cAAG4C,IAAA,CAAAE,SAAA,IAAK,CAAG,CAAC+P,GAAG,CAACC,QAAQ,CAAC7D,UAAU,EAAI,IAAI,EAAI4D,GAAG,CAACC,QAAQ,CAAC7D,UAAU,EAAI,IAAI,GAAKrG,kBAAkB,CAACiJ,WAAW,GAAK,IAAI,cAAIjP,IAAA,CAACpC,MAAM,EAACsR,QAAQ,MAACC,KAAK,MAACC,MAAM,MAACb,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA7E,mBAAmB,CAACoE,KAAK,CAAC,EAAC,CAAAvD,QAAA,cAACzK,IAAA,CAACrC,OAAO,EAACyM,KAAK,CAAC,UAAU,CAAAK,QAAA,cAACzK,IAAA,CAAC7C,aAAa,IAAG,EAAU,EAAS,cAAG6C,IAAA,CAAAE,SAAA,IAAK,CAAI,CAAC+P,GAAG,CAACC,QAAQ,CAAC7D,UAAU,EAAI,IAAI,EAAI4D,GAAG,CAACC,QAAQ,CAAC7D,UAAU,EAAI,IAAI,GAAK4D,GAAG,CAACC,QAAQ,CAACxG,WAAW,GAAK,WAAW,EAAI1D,kBAAkB,CAACiJ,WAAW,GAAK,IAAI,cAAIjP,IAAA,CAACpC,MAAM,EAACsR,QAAQ,MAACC,KAAK,MAACC,MAAM,MAACb,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAnC,sBAAsB,CAAC0B,KAAK,CAAC,EAAC,CAAAvD,QAAA,cAACzK,IAAA,CAACrC,OAAO,EAACyM,KAAK,CAAC,sBAAmB,CAAAK,QAAA,cAACzK,IAAA,CAACxC,MAAM,IAAG,EAAU,EAAS,cAAGwC,IAAA,CAAAE,SAAA,IAAK,cAACF,IAAA,CAACpC,MAAM,EAACsR,QAAQ,MAACC,KAAK,MAACC,MAAM,MAACb,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA1B,gBAAgB,CAACiB,KAAK,CAAC,EAAC,CAAAvD,QAAA,cAACzK,IAAA,CAACrC,OAAO,EAACyM,KAAK,CAAC,wBAAqB,CAAAK,QAAA,cAACzK,IAAA,CAACvC,SAAS,IAAG,EAAU,EAAS,GAAM,EACxoC,CAAC,CACD,CACFyN,IAAI,CAAElF,kBAAkB,CAAC6B,QAAS,CAClC8I,QAAQ,CAAE,EAAG,EACf,EACO,GACG,cAChB7Q,KAAA,QAAKmK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAE0G,cAAc,CAAE,UAAU,CAAEzG,SAAS,CAAE,MAAO,CAAE,CAAAM,QAAA,EAC5E/I,KAAK,eACJ1B,IAAA,CAACK,SAAS,EACRwQ,OAAO,cAAE7Q,IAAA,CAACpC,MAAM,EAAC2Q,KAAK,CAAC,SAAS,CAAA9D,QAAA,CAAC,gBAAc,EAAU,CACzDqG,QAAQ,CAAC,uBAAoB,CAC7BC,WAAW,CAAE,IAAK,CAAAtG,QAAA,cAElB3K,KAAA,CAACO,SAAS,CAAC2Q,UAAU,EAAC9F,IAAI,CAAElF,kBAAkB,CAAC6B,QAAS,CAACoJ,IAAI,CAAC,wBAAqB,CAAAxG,QAAA,eACjFzK,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,YAAY,CAACG,KAAK,CAAC,YAAY,EAAG,cAC/DhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,OAAO,CAACG,KAAK,CAAC,mBAAmB,EAAG,cACjEhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,YAAY,CAACG,KAAK,CAAC,YAAY,EAAG,cAC/DhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,aAAa,CAACG,KAAK,CAAC,OAAO,EAAG,cAC3DhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,gBAAgB,CAACG,KAAK,CAAC,UAAU,EAAG,cACjEhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,uBAAoB,CAACG,KAAK,CAAC,gBAAgB,EAAG,cAC3EhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,iCAA8B,CAACG,KAAK,CAAC,0BAA0B,EAAG,cAC/FhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,qBAAkB,CAACG,KAAK,CAAC,cAAc,EAAG,cACvEhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,+BAA4B,CAACG,KAAK,CAAC,wBAAwB,EAAG,cAC3FhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,wBAAqB,CAACG,KAAK,CAAC,0BAA0B,EAAG,cACtFhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,kCAA+B,CAACG,KAAK,CAAC,oCAAoC,EAAG,cAC1GhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,wBAAqB,CAACG,KAAK,CAAC,0BAA0B,EAAG,cACtFhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,kCAA+B,CAACG,KAAK,CAAC,oCAAoC,EAAG,cAC1GhO,IAAA,CAACK,SAAS,CAAC6Q,WAAW,EAACrD,KAAK,CAAC,aAAa,CAACG,KAAK,CAAC,aAAa,EAAG,GAC5C,EAE1B,CACAhI,kBAAkB,CAACiJ,WAAW,GAAK,IAAI,eACtCjP,IAAA,CAACpC,MAAM,EAAC2Q,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA5B,0BAA0B,EAAE,EAAC,CAAC5C,KAAK,CAAE,CAAEkH,UAAU,CAAE,MAAO,CAAE,CAAA1G,QAAA,CAAC,0BAEpG,EACD,CACAzE,kBAAkB,CAACiJ,WAAW,GAAK,IAAI,eACtCjP,IAAA,CAACpC,MAAM,EAAC2Q,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA7B,uBAAuB,EAAE,EAAC,CAAC3C,KAAK,CAAE,CAAEkH,UAAU,CAAE,MAAO,CAAE,CAAA1G,QAAA,CAAC,4CAEjG,EACD,cACDzK,IAAA,CAACpC,MAAM,EAAC2Q,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAtN,gBAAgB,CAAC,IAAI,CAAC,EAAC,CAAC8I,KAAK,CAAE,CAAEkH,UAAU,CAAE,MAAO,CAAE,CAAA1G,QAAA,CAAC,gBAE9F,EAAS,cACTzK,IAAA,CAACpC,MAAM,EAAC2Q,KAAK,CAAC,SAAS,CAACE,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAlN,cAAc,CAAC,IAAI,CAAC,EAAC,CAAC0I,KAAK,CAAE,CAAEkH,UAAU,CAAE,MAAO,CAAE,CAAA1G,QAAA,CAAC,cAE5F,EAAS,GACL,GACC,EACN,EACE,EACV,cAEHzK,IAAA,CAAAE,SAAA,IACD,GACa,CACfkG,wBAAwB,eACvBpG,IAAA,CAACvB,qBAAqB,EACpB2S,QAAQ,CAAEhL,wBAAyB,CACnCiL,kBAAkB,CAAE3I,qBAAsB,CAC1C4I,IAAI,CAAEhL,qBAAsB,EAE/B,CACAI,mBAAmB,eAClB1G,IAAA,CAACtB,0BAA0B,EACzB6S,eAAe,CAAE7K,mBAAoB,CACrC8K,iBAAiB,CAAE1I,yBAA0B,CAC7C2I,gBAAgB,CAAE7I,wBAAyB,CAC3C0I,IAAI,CAAExK,mBAAoB,EAE7B,CACAI,yBAAyB,eACxBlH,IAAA,CAACrB,gCAAgC,EAC/B4S,eAAe,CAAErK,yBAA0B,CAC3CsK,iBAAiB,CAAE7H,+BAAgC,CACnD8H,gBAAgB,CAAE5I,8BAA+B,CACjDyI,IAAI,CAAEhK,yBAA0B,EAEnC,CACApG,aAAa,eACZlB,IAAA,CAACpD,oBAAoB,EACnB8U,YAAY,CAAExQ,aAAc,CAC5ByQ,eAAe,CAAExQ,gBAAiB,CAClCyQ,OAAO,CAAEjQ,QAAS,CAClBkQ,SAAS,CAAC,wBAAqB,CAC/BC,aAAa,CAAC,OAAO,EAExB,CACAxQ,WAAW,eACVtB,IAAA,CAACpD,oBAAoB,EACnB8U,YAAY,CAAEpQ,WAAY,CAC1BqQ,eAAe,CAAEpQ,cAAe,CAChCqQ,OAAO,CAAE7P,MAAO,CAChB8P,SAAS,CAAC,wBAAqB,CAC/BC,aAAa,CAAC,KAAK,EAEtB,CACAxM,gBAAgB,eACftF,IAAA,CAACZ,gBAAgB,EACfgS,QAAQ,CAAE9L,gBAAiB,CAC3B+L,kBAAkB,CAAEvE,qBAAsB,CAC1CwE,IAAI,CAAE5L,gBAAiB,EAE1B,CAEA5C,KAAK,GACL,CAEP,CAAC,CAED,cAAe,CAAA1C,iBAAiB"},"metadata":{},"sourceType":"module"}