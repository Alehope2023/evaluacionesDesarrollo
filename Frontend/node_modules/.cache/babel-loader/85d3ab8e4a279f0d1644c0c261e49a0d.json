{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{format}from'date-fns';import ActiveAndDesactiveActionModal from'components/ReactTableActions/ActiveAndDesactive/ActiveAndDesactiveActionModal';import{taskSpecificUpdateInfo}from'redux/actions/taskSpecificActions';import{TASK_SPECIFIC_LIST_RESET}from'redux/constants/taskSpecificConstants';import{TASK_SPECIFIC_UPDATE_RESET}from'redux/constants/taskSpecificConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ActiveAndDesactiveTaskModal=function ActiveAndDesactiveTaskModal(_ref){var activeModal=_ref.activeModal,closeActiveModal=_ref.closeActiveModal,info=_ref.info,active=_ref.active;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.taskSpecificUpdate;}),loadingTaskSpecificUpdate=_useSelector.loadingTaskSpecificUpdate,errorTaskSpecificUpdate=_useSelector.errorTaskSpecificUpdate,successTaskSpecificUpdate=_useSelector.successTaskSpecificUpdate;useEffect(function(){if(successTaskSpecificUpdate){dispatch({type:TASK_SPECIFIC_LIST_RESET});setTimeout(function(){dispatch({type:TASK_SPECIFIC_UPDATE_RESET});closeActiveModal();},1000);}},[successTaskSpecificUpdate]);var activeOrDesactive=function activeOrDesactive(e){e.preventDefault();if(active){dispatch(taskSpecificUpdateInfo(_objectSpread(_objectSpread({},info),{},{activo:'SI'})));return;}dispatch(taskSpecificUpdateInfo(_objectSpread(_objectSpread({},info),{},{activo:'NO',fecha_baja:format(new Date(),'yyyy-MM-dd')})));};return/*#__PURE__*/_jsx(ActiveAndDesactiveActionModal,{open:activeModal,handleCloseModal:closeActiveModal,handleSubmit:activeOrDesactive,message:/*#__PURE__*/_jsxs(_Fragment,{children:[\"Va a \",active?'activar':'desactivar',\" la tarea \",/*#__PURE__*/_jsx(\"strong\",{children:info.descripcion_tarea})]}),modalTitle:\"\".concat(active?'Activar':'Desactivar',\" Tarea\"),error:errorTaskSpecificUpdate,success:successTaskSpecificUpdate,loading:loadingTaskSpecificUpdate,loadingMessageButton:active?'Activando...':'Desactivando',succesMessageButton:active?'Activar':'Desactivar'});};export default ActiveAndDesactiveTaskModal;","map":{"version":3,"names":["useEffect","useSelector","useDispatch","format","ActiveAndDesactiveActionModal","taskSpecificUpdateInfo","TASK_SPECIFIC_LIST_RESET","TASK_SPECIFIC_UPDATE_RESET","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ActiveAndDesactiveTaskModal","_ref","activeModal","closeActiveModal","info","active","dispatch","_useSelector","state","taskSpecificUpdate","loadingTaskSpecificUpdate","errorTaskSpecificUpdate","successTaskSpecificUpdate","type","setTimeout","activeOrDesactive","e","preventDefault","_objectSpread","activo","fecha_baja","Date","open","handleCloseModal","handleSubmit","message","children","descripcion_tarea","modalTitle","concat","error","success","loading","loadingMessageButton","succesMessageButton"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/TaskSpecific/TaskSpecificListScreen/components/ActiveAndDesactiveTaskSpecificModal.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { format } from 'date-fns'\r\nimport ActiveAndDesactiveActionModal from 'components/ReactTableActions/ActiveAndDesactive/ActiveAndDesactiveActionModal'\r\nimport { taskSpecificUpdateInfo } from 'redux/actions/taskSpecificActions'\r\nimport { TASK_SPECIFIC_LIST_RESET } from 'redux/constants/taskSpecificConstants'\r\nimport { TASK_SPECIFIC_UPDATE_RESET } from 'redux/constants/taskSpecificConstants'\r\n\r\nconst ActiveAndDesactiveTaskModal = ({ activeModal, closeActiveModal, info, active }) => { \r\n  const dispatch = useDispatch()\r\n\r\n  const { loadingTaskSpecificUpdate, errorTaskSpecificUpdate, successTaskSpecificUpdate } = useSelector((state) => state.taskSpecificUpdate)\r\n\r\n  useEffect(() => {\r\n    if (successTaskSpecificUpdate) {\r\n      dispatch({ type: TASK_SPECIFIC_LIST_RESET })\r\n      setTimeout(() => {\r\n        dispatch({ type: TASK_SPECIFIC_UPDATE_RESET })\r\n        closeActiveModal()\r\n      }, 1000)\r\n    }\r\n  }, [successTaskSpecificUpdate])\r\n  const activeOrDesactive = (e) => {\r\n    e.preventDefault()\r\n    if (active) {\r\n      dispatch(taskSpecificUpdateInfo({ ...info, activo: 'SI' }))\r\n      return\r\n    }\r\n    dispatch(taskSpecificUpdateInfo({ ...info, activo: 'NO', fecha_baja: format(new Date(), 'yyyy-MM-dd') }))\r\n  }\r\n  return (\r\n    <ActiveAndDesactiveActionModal\r\n      open={activeModal}\r\n      handleCloseModal={closeActiveModal}\r\n      handleSubmit={activeOrDesactive}\r\n      message={\r\n        <>\r\n          Va a {active ? 'activar' : 'desactivar'} la tarea <strong>{info.descripcion_tarea}</strong>\r\n        </>\r\n      }\r\n      modalTitle={`${active ? 'Activar' : 'Desactivar'} Tarea`}\r\n      error={errorTaskSpecificUpdate}\r\n      success={successTaskSpecificUpdate}\r\n      loading={loadingTaskSpecificUpdate}\r\n      loadingMessageButton={active ? 'Activando...' : 'Desactivando'}\r\n      succesMessageButton={active ? 'Activar' : 'Desactivar'}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ActiveAndDesactiveTaskModal\r\n"],"mappings":"oIAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,KAAQ,UAAU,CACjC,MAAO,CAAAC,6BAA6B,KAAM,+EAA+E,CACzH,OAASC,sBAAsB,KAAQ,mCAAmC,CAC1E,OAASC,wBAAwB,KAAQ,uCAAuC,CAChF,OAASC,0BAA0B,KAAQ,uCAAuC,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElF,GAAM,CAAAC,2BAA2B,CAAG,QAA9B,CAAAA,2BAA2BA,CAAAC,IAAA,CAAwD,IAAlD,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CAAEC,gBAAgB,CAAAF,IAAA,CAAhBE,gBAAgB,CAAEC,IAAI,CAAAH,IAAA,CAAJG,IAAI,CAAEC,MAAM,CAAAJ,IAAA,CAANI,MAAM,CAChF,GAAM,CAAAC,QAAQ,CAAGlB,WAAW,EAAE,CAE9B,IAAAmB,YAAA,CAA0FpB,WAAW,CAAC,SAACqB,KAAK,QAAK,CAAAA,KAAK,CAACC,kBAAkB,GAAC,CAAlIC,yBAAyB,CAAAH,YAAA,CAAzBG,yBAAyB,CAAEC,uBAAuB,CAAAJ,YAAA,CAAvBI,uBAAuB,CAAEC,yBAAyB,CAAAL,YAAA,CAAzBK,yBAAyB,CAErF1B,SAAS,CAAC,UAAM,CACd,GAAI0B,yBAAyB,CAAE,CAC7BN,QAAQ,CAAC,CAAEO,IAAI,CAAErB,wBAAyB,CAAC,CAAC,CAC5CsB,UAAU,CAAC,UAAM,CACfR,QAAQ,CAAC,CAAEO,IAAI,CAAEpB,0BAA2B,CAAC,CAAC,CAC9CU,gBAAgB,EAAE,CACpB,CAAC,CAAE,IAAI,CAAC,CACV,CACF,CAAC,CAAE,CAACS,yBAAyB,CAAC,CAAC,CAC/B,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,CAAC,CAAK,CAC/BA,CAAC,CAACC,cAAc,EAAE,CAClB,GAAIZ,MAAM,CAAE,CACVC,QAAQ,CAACf,sBAAsB,CAAA2B,aAAA,CAAAA,aAAA,IAAMd,IAAI,MAAEe,MAAM,CAAE,IAAI,GAAG,CAAC,CAC3D,OACF,CACAb,QAAQ,CAACf,sBAAsB,CAAA2B,aAAA,CAAAA,aAAA,IAAMd,IAAI,MAAEe,MAAM,CAAE,IAAI,CAAEC,UAAU,CAAE/B,MAAM,CAAC,GAAI,CAAAgC,IAAI,EAAE,CAAE,YAAY,CAAC,GAAG,CAAC,CAC3G,CAAC,CACD,mBACE1B,IAAA,CAACL,6BAA6B,EAC5BgC,IAAI,CAAEpB,WAAY,CAClBqB,gBAAgB,CAAEpB,gBAAiB,CACnCqB,YAAY,CAAET,iBAAkB,CAChCU,OAAO,cACL1B,KAAA,CAAAF,SAAA,EAAA6B,QAAA,EAAE,OACK,CAACrB,MAAM,CAAG,SAAS,CAAG,YAAY,CAAC,YAAU,cAAAV,IAAA,WAAA+B,QAAA,CAAStB,IAAI,CAACuB,iBAAiB,EAAU,GAE9F,CACDC,UAAU,IAAAC,MAAA,CAAKxB,MAAM,CAAG,SAAS,CAAG,YAAY,UAAS,CACzDyB,KAAK,CAAEnB,uBAAwB,CAC/BoB,OAAO,CAAEnB,yBAA0B,CACnCoB,OAAO,CAAEtB,yBAA0B,CACnCuB,oBAAoB,CAAE5B,MAAM,CAAG,cAAc,CAAG,cAAe,CAC/D6B,mBAAmB,CAAE7B,MAAM,CAAG,SAAS,CAAG,YAAa,EACvD,CAEN,CAAC,CAED,cAAe,CAAAL,2BAA2B"},"metadata":{},"sourceType":"module"}