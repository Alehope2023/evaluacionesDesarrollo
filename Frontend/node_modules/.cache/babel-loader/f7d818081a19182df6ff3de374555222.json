{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import UpdateActionModal from'components/ReactTableActions/Update/UpdateActionModal';import Inputs from'./Inputs';import{taskUpdateInfo}from'redux/actions/taskActions';import{TASK_LIST_RESET,TASK_UPDATE_RESET}from'redux/constants/taskConstants';import{jsx as _jsx}from\"react/jsx-runtime\";var UpdateTaskModal=function UpdateTaskModal(_ref){var handleCloseModal=_ref.handleCloseModal,updateTaskModal=_ref.updateTaskModal,showUpdateTask=_ref.showUpdateTask;var dispatch=useDispatch();var _useState=useState(showUpdateTask),_useState2=_slicedToArray(_useState,2),infoTask=_useState2[0],setInfoTask=_useState2[1];var _useSelector=useSelector(function(state){return state.taskUpdate;}),loadingTaskUpdate=_useSelector.loadingTaskUpdate,errorTaskUpdate=_useSelector.errorTaskUpdate,successTaskUpdate=_useSelector.successTaskUpdate;useEffect(function(){if(successTaskUpdate){dispatch({type:TASK_LIST_RESET});setTimeout(function(){dispatch({type:TASK_UPDATE_RESET});handleCloseModal();},1000);}},[successTaskUpdate]);var updateTaskHandler=function updateTaskHandler(e){e.preventDefault();dispatch(taskUpdateInfo(_objectSpread(_objectSpread({},infoTask),{},{id_puesto:1})));};return/*#__PURE__*/_jsx(UpdateActionModal,{handleSubmit:updateTaskHandler,handleCloseModal:handleCloseModal,open:updateTaskModal,modalTitle:\"Editar Tarea\",errorUpdate:errorTaskUpdate,succesUpdate:successTaskUpdate,loadingUpdate:loadingTaskUpdate,children:/*#__PURE__*/_jsx(Inputs,{infoTask:infoTask,setInfoTask:setInfoTask})});};export default UpdateTaskModal;","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","UpdateActionModal","Inputs","taskUpdateInfo","TASK_LIST_RESET","TASK_UPDATE_RESET","jsx","_jsx","UpdateTaskModal","_ref","handleCloseModal","updateTaskModal","showUpdateTask","dispatch","_useState","_useState2","_slicedToArray","infoTask","setInfoTask","_useSelector","state","taskUpdate","loadingTaskUpdate","errorTaskUpdate","successTaskUpdate","type","setTimeout","updateTaskHandler","e","preventDefault","_objectSpread","id_puesto","handleSubmit","open","modalTitle","errorUpdate","succesUpdate","loadingUpdate","children"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/Task/TaskListScreen/components/UpdateModal/UpdateTaskModal.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport UpdateActionModal from 'components/ReactTableActions/Update/UpdateActionModal'\r\nimport Inputs from './Inputs'\r\nimport { taskUpdateInfo } from 'redux/actions/taskActions'\r\nimport { TASK_LIST_RESET, TASK_UPDATE_RESET } from 'redux/constants/taskConstants'\r\n\r\nconst UpdateTaskModal = ({ handleCloseModal, updateTaskModal, showUpdateTask }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const [infoTask, setInfoTask] = useState(showUpdateTask)\r\n\r\n  const { loadingTaskUpdate, errorTaskUpdate, successTaskUpdate } = useSelector((state) => state.taskUpdate)\r\n\r\n  useEffect(() => {\r\n    if (successTaskUpdate) {\r\n      dispatch({ type: TASK_LIST_RESET })\r\n      setTimeout(() => {\r\n        dispatch({ type: TASK_UPDATE_RESET })\r\n        handleCloseModal()\r\n      }, 1000)\r\n    }\r\n  }, [successTaskUpdate])\r\n\r\n  const updateTaskHandler = (e) => {\r\n    e.preventDefault()\r\n    dispatch(taskUpdateInfo({ ...infoTask, id_puesto: 1 }))\r\n  }\r\n  return (\r\n    <UpdateActionModal\r\n      handleSubmit={updateTaskHandler}\r\n      handleCloseModal={handleCloseModal}\r\n      open={updateTaskModal}\r\n      modalTitle='Editar Tarea'\r\n      errorUpdate={errorTaskUpdate}\r\n      succesUpdate={successTaskUpdate}\r\n      loadingUpdate={loadingTaskUpdate}\r\n      children={<Inputs infoTask={infoTask} setInfoTask={setInfoTask} />}\r\n    />\r\n  )\r\n}\r\n\r\nexport default UpdateTaskModal\r\n"],"mappings":"yQAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,iBAAiB,KAAM,uDAAuD,CACrF,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAASC,cAAc,KAAQ,2BAA2B,CAC1D,OAASC,eAAe,CAAEC,iBAAiB,KAAQ,+BAA+B,QAAAC,GAAA,IAAAC,IAAA,yBAElF,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAAC,IAAA,CAA8D,IAAxD,CAAAC,gBAAgB,CAAAD,IAAA,CAAhBC,gBAAgB,CAAEC,eAAe,CAAAF,IAAA,CAAfE,eAAe,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CAC1E,GAAM,CAAAC,QAAQ,CAAGd,WAAW,EAAE,CAE9B,IAAAe,SAAA,CAAgCjB,QAAQ,CAACe,cAAc,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjDG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5B,IAAAI,YAAA,CAAkEnB,WAAW,CAAC,SAACoB,KAAK,QAAK,CAAAA,KAAK,CAACC,UAAU,GAAC,CAAlGC,iBAAiB,CAAAH,YAAA,CAAjBG,iBAAiB,CAAEC,eAAe,CAAAJ,YAAA,CAAfI,eAAe,CAAEC,iBAAiB,CAAAL,YAAA,CAAjBK,iBAAiB,CAE7D1B,SAAS,CAAC,UAAM,CACd,GAAI0B,iBAAiB,CAAE,CACrBX,QAAQ,CAAC,CAAEY,IAAI,CAAErB,eAAgB,CAAC,CAAC,CACnCsB,UAAU,CAAC,UAAM,CACfb,QAAQ,CAAC,CAAEY,IAAI,CAAEpB,iBAAkB,CAAC,CAAC,CACrCK,gBAAgB,EAAE,CACpB,CAAC,CAAE,IAAI,CAAC,CACV,CACF,CAAC,CAAE,CAACc,iBAAiB,CAAC,CAAC,CAEvB,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,CAAC,CAAK,CAC/BA,CAAC,CAACC,cAAc,EAAE,CAClBhB,QAAQ,CAACV,cAAc,CAAA2B,aAAA,CAAAA,aAAA,IAAMb,QAAQ,MAAEc,SAAS,CAAE,CAAC,GAAG,CAAC,CACzD,CAAC,CACD,mBACExB,IAAA,CAACN,iBAAiB,EAChB+B,YAAY,CAAEL,iBAAkB,CAChCjB,gBAAgB,CAAEA,gBAAiB,CACnCuB,IAAI,CAAEtB,eAAgB,CACtBuB,UAAU,CAAC,cAAc,CACzBC,WAAW,CAAEZ,eAAgB,CAC7Ba,YAAY,CAAEZ,iBAAkB,CAChCa,aAAa,CAAEf,iBAAkB,CACjCgB,QAAQ,cAAE/B,IAAA,CAACL,MAAM,EAACe,QAAQ,CAAEA,QAAS,CAACC,WAAW,CAAEA,WAAY,EAAI,EACnE,CAEN,CAAC,CAED,cAAe,CAAAV,eAAe"},"metadata":{},"sourceType":"module"}