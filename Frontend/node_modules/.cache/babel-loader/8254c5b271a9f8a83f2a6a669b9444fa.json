{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import SweetAlert from'react-bootstrap-sweetalert';import{Card,makeStyles}from'@material-ui/core';import CustomInput from'components/CustomInput/CustomInput';import{MuiPickersUtilsProvider,KeyboardDatePicker}from\"@material-ui/pickers\";import DateFnsUtils from'@date-io/date-fns';import esLocale from\"date-fns/locale/es\";import GridContainer from'components/Grid/GridContainer';import GridItem from'components/Grid/GridItem';import CardBody from'components/Card/CardBody';import Button from'components/CustomButtons/Button';import SnackbarContent from'components/Snackbar/SnackbarContent';import{registerFestivos}from'redux/actions/festivosActions';import{FESTIVOS_REGISTER_RESET}from'redux/constants/festivosConstants';import styles from'./styles/registerFestivosStyles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(styles);var RegisterFestivosScreen=function RegisterFestivosScreen(){var dispatch=useDispatch();var classes=useStyles();var _useState=useState({fecha_seleccionada:new Date()}),_useState2=_slicedToArray(_useState,2),festivos=_useState2[0],setFestivos=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var _useSelector=useSelector(function(state){return state.festivosRegister;}),loadingFestivosRegister=_useSelector.loadingFestivosRegister,successFestivosRegister=_useSelector.successFestivosRegister,errorFestivosRegister=_useSelector.errorFestivosRegister;useEffect(function(){if(successFestivosRegister){setAlert(/*#__PURE__*/_jsx(SweetAlert,{success:true,style:{display:'block',marginTop:'-100px'},title:\"Hecho!\",onConfirm:function onConfirm(){return confirmSuccess();},onCancel:function onCancel(){return setAlert(null);},confirmBtnCssClass:classes.confirmBtnCssClass,children:\"Festivo guardado correctamente\"}));}return function(){return dispatch({type:FESTIVOS_REGISTER_RESET});};},[dispatch,successFestivosRegister]);var handleSubmit=function handleSubmit(e){e.preventDefault();dispatch(registerFestivos({dia:festivos.fecha_seleccionada.getDate(),mes:festivos.fecha_seleccionada.getMonth()+1,anio:festivos.fecha_seleccionada.getFullYear()}));};var confirmSuccess=function confirmSuccess(){setFestivos({fecha_seleccionada:new Date()});setAlert(null);dispatch({type:FESTIVOS_REGISTER_RESET});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(GridContainer,{children:/*#__PURE__*/_jsx(GridItem,{xs:12,md:8,style:{margin:'auto'},children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(GridContainer,{children:[/*#__PURE__*/_jsx(GridItem,{xs:12,md:6,children:/*#__PURE__*/_jsx(MuiPickersUtilsProvider,{locale:esLocale,utils:DateFnsUtils,children:/*#__PURE__*/_jsx(KeyboardDatePicker,{disableToolbar:true,variant:\"inline\",format:\"dd/MM/yyyy\",margin:\"normal\",id:\"date-picker-inline\",label:\"D\\xEDa Festivo\",value:festivos.fecha_seleccionada,onChange:function onChange(e){return setFestivos(_objectSpread(_objectSpread({},festivos),{},{fecha_seleccionada:e}));},KeyboardButtonProps:{\"aria-label\":\"change date\"},style:{width:\"100%\"}})})}),/*#__PURE__*/_jsx(GridItem,{xs:12,style:{margin:'20px 0 0',display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",children:loadingFestivosRegister?'Creando festivo...':'Registrar Festivo'})})]})}),errorFestivosRegister&&/*#__PURE__*/_jsx(GridContainer,{children:/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(SnackbarContent,{message:errorFestivosRegister,color:\"danger\"})})})]})})})}),alert]});};export default RegisterFestivosScreen;","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","SweetAlert","Card","makeStyles","CustomInput","MuiPickersUtilsProvider","KeyboardDatePicker","DateFnsUtils","esLocale","GridContainer","GridItem","CardBody","Button","SnackbarContent","registerFestivos","FESTIVOS_REGISTER_RESET","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","useStyles","RegisterFestivosScreen","dispatch","classes","_useState","fecha_seleccionada","Date","_useState2","_slicedToArray","festivos","setFestivos","_useState3","_useState4","alert","setAlert","_useSelector","state","festivosRegister","loadingFestivosRegister","successFestivosRegister","errorFestivosRegister","success","style","display","marginTop","title","onConfirm","confirmSuccess","onCancel","confirmBtnCssClass","children","type","handleSubmit","e","preventDefault","dia","getDate","mes","getMonth","anio","getFullYear","xs","md","margin","onSubmit","locale","utils","disableToolbar","variant","format","id","label","value","onChange","_objectSpread","KeyboardButtonProps","width","justifyContent","color","message"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/Catalog/Festivos/RegisterFestivosScreen/RegisterFestivosScreen.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport SweetAlert from 'react-bootstrap-sweetalert'\r\nimport { Card, makeStyles } from '@material-ui/core'\r\nimport CustomInput from 'components/CustomInput/CustomInput'\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport esLocale from \"date-fns/locale/es\";\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport CardBody from 'components/Card/CardBody'\r\nimport Button from 'components/CustomButtons/Button'\r\nimport SnackbarContent from 'components/Snackbar/SnackbarContent'\r\nimport { registerFestivos } from 'redux/actions/festivosActions'\r\nimport { FESTIVOS_REGISTER_RESET } from 'redux/constants/festivosConstants'\r\nimport styles from './styles/registerFestivosStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst RegisterFestivosScreen = () => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n\r\n  const [festivos, setFestivos] = useState({ fecha_seleccionada: new Date() })\r\n  const [alert, setAlert] = useState(null)\r\n\r\n  const { loadingFestivosRegister, successFestivosRegister, errorFestivosRegister } = useSelector((state) => state.festivosRegister)\r\n\r\n  useEffect(() => {\r\n    if (successFestivosRegister) {\r\n      setAlert(\r\n        <SweetAlert\r\n          success\r\n          style={{ display: 'block', marginTop: '-100px' }}\r\n          title='Hecho!'\r\n          onConfirm={() => confirmSuccess()}\r\n          onCancel={() => setAlert(null)}\r\n          confirmBtnCssClass={classes.confirmBtnCssClass}\r\n        >\r\n          Festivo guardado correctamente\r\n        </SweetAlert>\r\n      )\r\n    }\r\n    return () => dispatch({ type: FESTIVOS_REGISTER_RESET })\r\n  }, [dispatch, successFestivosRegister])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    dispatch(registerFestivos({dia: festivos.fecha_seleccionada.getDate(), mes: festivos.fecha_seleccionada.getMonth() + 1, anio: festivos.fecha_seleccionada.getFullYear()}))\r\n  }\r\n  const confirmSuccess = () => {\r\n    setFestivos({\r\n      fecha_seleccionada: new Date()\r\n    })\r\n    setAlert(null)\r\n    dispatch({ type: FESTIVOS_REGISTER_RESET })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <GridContainer>\r\n        <GridItem xs={12} md={8} style={{ margin: 'auto' }}>\r\n          <Card>\r\n            <CardBody>\r\n              <form onSubmit={handleSubmit}>\r\n                <GridContainer>\r\n                  <GridItem xs={12} md={6}>\r\n                    <MuiPickersUtilsProvider locale={esLocale} utils={DateFnsUtils}>\r\n                      <KeyboardDatePicker\r\n                        disableToolbar\r\n                        variant=\"inline\"\r\n                        format=\"dd/MM/yyyy\"\r\n                        margin=\"normal\"\r\n                        id=\"date-picker-inline\"\r\n                        label=\"DÃ­a Festivo\"\r\n                        value={festivos.fecha_seleccionada}\r\n                        onChange={(e) => setFestivos({ ...festivos, fecha_seleccionada: e })}\r\n                        KeyboardButtonProps={{\r\n                          \"aria-label\": \"change date\"\r\n                        }}\r\n                        style={{width:\"100%\"}}\r\n                      />\r\n                    </MuiPickersUtilsProvider>\r\n                  </GridItem>\r\n                  <GridItem xs={12} style={{ margin: '20px 0 0', display: 'flex', justifyContent: 'flex-end' }}>\r\n                    <Button type='submit' color='primary'>\r\n                      {loadingFestivosRegister ? 'Creando festivo...' : 'Registrar Festivo'}\r\n                    </Button>\r\n                  </GridItem>\r\n                </GridContainer>\r\n              </form>\r\n              {errorFestivosRegister && (\r\n                <GridContainer>\r\n                  <GridItem xs={12}>\r\n                    <SnackbarContent message={errorFestivosRegister} color='danger' />\r\n                  </GridItem>\r\n                </GridContainer>\r\n              )}\r\n            </CardBody>\r\n          </Card>\r\n        </GridItem>\r\n      </GridContainer>\r\n      {alert}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default RegisterFestivosScreen\r\n"],"mappings":"yQAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,UAAU,KAAM,4BAA4B,CACnD,OAASC,IAAI,CAAEC,UAAU,KAAQ,mBAAmB,CACpD,MAAO,CAAAC,WAAW,KAAM,oCAAoC,CAC5D,OAASC,uBAAuB,CAAEC,kBAAkB,KAAQ,sBAAsB,CAClF,MAAO,CAAAC,YAAY,KAAM,mBAAmB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CACzC,MAAO,CAAAC,aAAa,KAAM,+BAA+B,CACzD,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAC/C,MAAO,CAAAC,QAAQ,KAAM,0BAA0B,CAC/C,MAAO,CAAAC,MAAM,KAAM,iCAAiC,CACpD,MAAO,CAAAC,eAAe,KAAM,qCAAqC,CACjE,OAASC,gBAAgB,KAAQ,+BAA+B,CAChE,OAASC,uBAAuB,KAAQ,mCAAmC,CAC3E,MAAO,CAAAC,MAAM,KAAM,iCAAiC,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEpD,GAAM,CAAAC,SAAS,CAAGpB,UAAU,CAACa,MAAM,CAAC,CAEpC,GAAM,CAAAQ,sBAAsB,CAAG,QAAzB,CAAAA,sBAAsBA,CAAA,CAAS,CACnC,GAAM,CAAAC,QAAQ,CAAG1B,WAAW,EAAE,CAC9B,GAAM,CAAA2B,OAAO,CAAGH,SAAS,EAAE,CAE3B,IAAAI,SAAA,CAAgC9B,QAAQ,CAAC,CAAE+B,kBAAkB,CAAE,GAAI,CAAAC,IAAI,EAAG,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAArEK,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA0BrC,QAAQ,CAAC,IAAI,CAAC,CAAAsC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB,IAAAG,YAAA,CAAoFtC,WAAW,CAAC,SAACuC,KAAK,QAAK,CAAAA,KAAK,CAACC,gBAAgB,GAAC,CAA1HC,uBAAuB,CAAAH,YAAA,CAAvBG,uBAAuB,CAAEC,uBAAuB,CAAAJ,YAAA,CAAvBI,uBAAuB,CAAEC,qBAAqB,CAAAL,YAAA,CAArBK,qBAAqB,CAE/E7C,SAAS,CAAC,UAAM,CACd,GAAI4C,uBAAuB,CAAE,CAC3BL,QAAQ,cACNnB,IAAA,CAACjB,UAAU,EACT2C,OAAO,MACPC,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAO,CAAEC,SAAS,CAAE,QAAS,CAAE,CACjDC,KAAK,CAAC,QAAQ,CACdC,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAC,cAAc,EAAE,EAAC,CAClCC,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAd,QAAQ,CAAC,IAAI,CAAC,EAAC,CAC/Be,kBAAkB,CAAE1B,OAAO,CAAC0B,kBAAmB,CAAAC,QAAA,CAChD,gCAED,EAAa,CACd,CACH,CACA,MAAO,kBAAM,CAAA5B,QAAQ,CAAC,CAAE6B,IAAI,CAAEvC,uBAAwB,CAAC,CAAC,GAC1D,CAAC,CAAE,CAACU,QAAQ,CAAEiB,uBAAuB,CAAC,CAAC,CAEvC,GAAM,CAAAa,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CAC1BA,CAAC,CAACC,cAAc,EAAE,CAClBhC,QAAQ,CAACX,gBAAgB,CAAC,CAAC4C,GAAG,CAAE1B,QAAQ,CAACJ,kBAAkB,CAAC+B,OAAO,EAAE,CAAEC,GAAG,CAAE5B,QAAQ,CAACJ,kBAAkB,CAACiC,QAAQ,EAAE,CAAG,CAAC,CAAEC,IAAI,CAAE9B,QAAQ,CAACJ,kBAAkB,CAACmC,WAAW,EAAE,CAAC,CAAC,CAAC,CAC5K,CAAC,CACD,GAAM,CAAAb,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3BjB,WAAW,CAAC,CACVL,kBAAkB,CAAE,GAAI,CAAAC,IAAI,EAC9B,CAAC,CAAC,CACFQ,QAAQ,CAAC,IAAI,CAAC,CACdZ,QAAQ,CAAC,CAAE6B,IAAI,CAAEvC,uBAAwB,CAAC,CAAC,CAC7C,CAAC,CAED,mBACEK,KAAA,CAAAE,SAAA,EAAA+B,QAAA,eACEnC,IAAA,CAACT,aAAa,EAAA4C,QAAA,cACZnC,IAAA,CAACR,QAAQ,EAACsD,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAACpB,KAAK,CAAE,CAAEqB,MAAM,CAAE,MAAO,CAAE,CAAAb,QAAA,cACjDnC,IAAA,CAAChB,IAAI,EAAAmD,QAAA,cACHjC,KAAA,CAACT,QAAQ,EAAA0C,QAAA,eACPnC,IAAA,SAAMiD,QAAQ,CAAEZ,YAAa,CAAAF,QAAA,cAC3BjC,KAAA,CAACX,aAAa,EAAA4C,QAAA,eACZnC,IAAA,CAACR,QAAQ,EAACsD,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAZ,QAAA,cACtBnC,IAAA,CAACb,uBAAuB,EAAC+D,MAAM,CAAE5D,QAAS,CAAC6D,KAAK,CAAE9D,YAAa,CAAA8C,QAAA,cAC7DnC,IAAA,CAACZ,kBAAkB,EACjBgE,cAAc,MACdC,OAAO,CAAC,QAAQ,CAChBC,MAAM,CAAC,YAAY,CACnBN,MAAM,CAAC,QAAQ,CACfO,EAAE,CAAC,oBAAoB,CACvBC,KAAK,CAAC,gBAAa,CACnBC,KAAK,CAAE3C,QAAQ,CAACJ,kBAAmB,CACnCgD,QAAQ,CAAE,SAAAA,SAACpB,CAAC,QAAK,CAAAvB,WAAW,CAAA4C,aAAA,CAAAA,aAAA,IAAM7C,QAAQ,MAAEJ,kBAAkB,CAAE4B,CAAC,GAAG,EAAC,CACrEsB,mBAAmB,CAAE,CACnB,YAAY,CAAE,aAChB,CAAE,CACFjC,KAAK,CAAE,CAACkC,KAAK,CAAC,MAAM,CAAE,EACtB,EACsB,EACjB,cACX7D,IAAA,CAACR,QAAQ,EAACsD,EAAE,CAAE,EAAG,CAACnB,KAAK,CAAE,CAAEqB,MAAM,CAAE,UAAU,CAAEpB,OAAO,CAAE,MAAM,CAAEkC,cAAc,CAAE,UAAW,CAAE,CAAA3B,QAAA,cAC3FnC,IAAA,CAACN,MAAM,EAAC0C,IAAI,CAAC,QAAQ,CAAC2B,KAAK,CAAC,SAAS,CAAA5B,QAAA,CAClCZ,uBAAuB,CAAG,oBAAoB,CAAG,mBAAmB,EAC9D,EACA,GACG,EACX,CACNE,qBAAqB,eACpBzB,IAAA,CAACT,aAAa,EAAA4C,QAAA,cACZnC,IAAA,CAACR,QAAQ,EAACsD,EAAE,CAAE,EAAG,CAAAX,QAAA,cACfnC,IAAA,CAACL,eAAe,EAACqE,OAAO,CAAEvC,qBAAsB,CAACsC,KAAK,CAAC,QAAQ,EAAG,EACzD,EAEd,GACQ,EACN,EACE,EACG,CACf7C,KAAK,GACL,CAEP,CAAC,CAED,cAAe,CAAAZ,sBAAsB"},"metadata":{},"sourceType":"module"}