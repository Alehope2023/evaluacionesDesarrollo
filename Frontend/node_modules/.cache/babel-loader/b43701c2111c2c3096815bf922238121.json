{"ast":null,"code":"import _objectSpread from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{format}from'date-fns';import{FormControl,InputLabel,ListItemText,MenuItem,Select}from'@material-ui/core';import GridContainer from'components/Grid/GridContainer';import GridItem from'components/Grid/GridItem';import UpdateActionModal from'components/ReactTableActions/Update/UpdateActionModal';import CustomInput from'components/CustomInput/CustomInput';import DateFnsUtils from'@date-io/date-fns';import esLocale from\"date-fns/locale/es\";import{MuiPickersUtilsProvider,KeyboardDatePicker}from\"@material-ui/pickers\";import{updateDificulties}from'redux/actions/dificultiesActions';import{DIFICULTIES_UPDATE_RESET,DIFICULTIES_LIST_RESET}from'redux/constants/dificultiesConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateDificultyModal=function UpdateDificultyModal(_ref){var updateDificultyModal=_ref.updateDificultyModal,closeUpdateDificultyModal=_ref.closeUpdateDificultyModal,info=_ref.info;var classes={};var dispatch=useDispatch();var _useState=useState(_objectSpread(_objectSpread({},info),{},{id_dificultad:info===null||info===void 0?void 0:info.id_dificultad,descripcion_tarea:(info===null||info===void 0?void 0:info.descripcion_tarea)||'',codigo_trazabilidad:(info===null||info===void 0?void 0:info.codigo_trazabilidad)||'',dificultad:(info===null||info===void 0?void 0:info.dificultad)||''})),_useState2=_slicedToArray(_useState,2),updateInfo=_useState2[0],setUpdateInfo=_useState2[1];var _useSelector=useSelector(function(state){return state.dificultiesUpdate;}),loadingDificultiesUpdate=_useSelector.loadingDificultiesUpdate,successDificultiesUpdate=_useSelector.successDificultiesUpdate,errorDificultiesUpdate=_useSelector.errorDificultiesUpdate;useEffect(function(){if(successDificultiesUpdate){dispatch({type:DIFICULTIES_LIST_RESET});dispatch({type:DIFICULTIES_UPDATE_RESET});closeUpdateDificultyModal();}},[successDificultiesUpdate]);useEffect(function(){return function(){return dispatch({type:DIFICULTIES_UPDATE_RESET});};},[dispatch]);var handleUpdate=function handleUpdate(e){e.preventDefault();dispatch(updateDificulties(_objectSpread(_objectSpread({},updateInfo),{},{codigo_trazabilidad:updateInfo.codigo_trazabilidad,dificultad:updateInfo.dificultad})));};return/*#__PURE__*/_jsx(UpdateActionModal,{open:updateDificultyModal,handleCloseModal:closeUpdateDificultyModal,errorUpdate:errorDificultiesUpdate,succesUpdate:successDificultiesUpdate,loadingUpdate:loadingDificultiesUpdate,modalTitle:\"Editar de Dificultad\",handleSubmit:handleUpdate,children:/*#__PURE__*/_jsxs(GridContainer,{children:[/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsx(CustomInput,{labelText:'Código de trazabilidad',id:\"trazabilidad\",formControlProps:{fullWidth:true},inputProps:{value:updateInfo.codigo_trazabilidad,onChange:function onChange(e){return setUpdateInfo(_objectSpread(_objectSpread({},updateInfo),{},{codigo_trazabilidad:e.target.value}));},type:'text',maxLength:50}})}),/*#__PURE__*/_jsx(GridItem,{xs:12,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{id:\"dificultad\",children:\"Dificultad\"}),/*#__PURE__*/_jsxs(Select,{labelId:\"dificultad\",id:\"dificultad\",value:updateInfo.dificultad,label:\"Dificultad\",onChange:function onChange(e){return setUpdateInfo(_objectSpread(_objectSpread({},updateInfo),{},{dificultad:e.target.value}));},children:[/*#__PURE__*/_jsx(MenuItem,{value:'ALTA',children:\"ALTA\"}),/*#__PURE__*/_jsx(MenuItem,{value:'BAJA',children:\"BAJA\"})]})]})})]})});};export default UpdateDificultyModal;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","format","FormControl","InputLabel","ListItemText","MenuItem","Select","GridContainer","GridItem","UpdateActionModal","CustomInput","DateFnsUtils","esLocale","MuiPickersUtilsProvider","KeyboardDatePicker","updateDificulties","DIFICULTIES_UPDATE_RESET","DIFICULTIES_LIST_RESET","jsx","_jsx","jsxs","_jsxs","UpdateDificultyModal","_ref","updateDificultyModal","closeUpdateDificultyModal","info","classes","dispatch","_useState","_objectSpread","id_dificultad","descripcion_tarea","codigo_trazabilidad","dificultad","_useState2","_slicedToArray","updateInfo","setUpdateInfo","_useSelector","state","dificultiesUpdate","loadingDificultiesUpdate","successDificultiesUpdate","errorDificultiesUpdate","type","handleUpdate","e","preventDefault","open","handleCloseModal","errorUpdate","succesUpdate","loadingUpdate","modalTitle","handleSubmit","children","xs","labelText","id","formControlProps","fullWidth","inputProps","value","onChange","target","maxLength","labelId","label"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/AsignDificultiesScreen/AsignDificultiesList/components/UpdateDificultyModal.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { format } from 'date-fns'\r\nimport { FormControl, InputLabel, ListItemText, MenuItem, Select } from '@material-ui/core'\r\nimport GridContainer from 'components/Grid/GridContainer'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport UpdateActionModal from 'components/ReactTableActions/Update/UpdateActionModal'\r\nimport CustomInput from 'components/CustomInput/CustomInput'\r\nimport DateFnsUtils from '@date-io/date-fns'\r\nimport esLocale from \"date-fns/locale/es\";\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\r\nimport { updateDificulties } from 'redux/actions/dificultiesActions'\r\nimport { DIFICULTIES_UPDATE_RESET, DIFICULTIES_LIST_RESET } from 'redux/constants/dificultiesConstants'\r\n\r\nconst UpdateDificultyModal = ({ updateDificultyModal, closeUpdateDificultyModal, info }) => {\r\n  const classes = {}\r\n  const dispatch = useDispatch()\r\n  const [updateInfo, setUpdateInfo] = useState({\r\n    ...info,\r\n    id_dificultad: info?.id_dificultad,\r\n    descripcion_tarea: info?.descripcion_tarea || '',\r\n    codigo_trazabilidad: info?.codigo_trazabilidad || '',\r\n    dificultad: info?.dificultad || '',\r\n  })\r\n  \r\n  const { loadingDificultiesUpdate, successDificultiesUpdate, errorDificultiesUpdate } = useSelector(\r\n    (state) => state.dificultiesUpdate\r\n  )\r\n  useEffect(() => {\r\n    if (successDificultiesUpdate) {\r\n      dispatch({ type: DIFICULTIES_LIST_RESET })\r\n      dispatch({ type: DIFICULTIES_UPDATE_RESET })\r\n      closeUpdateDificultyModal()\r\n    }\r\n  }, [successDificultiesUpdate])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: DIFICULTIES_UPDATE_RESET })\r\n  }, [dispatch])\r\n\r\n  const handleUpdate = (e) => {\r\n    e.preventDefault()\r\n    dispatch(updateDificulties({ ...updateInfo, codigo_trazabilidad: updateInfo.codigo_trazabilidad, dificultad: updateInfo.dificultad }))\r\n  }\r\n\r\n  return (\r\n    <UpdateActionModal\r\n      open={updateDificultyModal}\r\n      handleCloseModal={closeUpdateDificultyModal}\r\n      errorUpdate={errorDificultiesUpdate}\r\n      succesUpdate={successDificultiesUpdate}\r\n      loadingUpdate={loadingDificultiesUpdate}\r\n      modalTitle={`Editar de Dificultad`}\r\n      handleSubmit={handleUpdate}\r\n      children={\r\n        <GridContainer>\r\n          <GridItem xs={12}>\r\n            <CustomInput\r\n              labelText={'Código de trazabilidad'}\r\n              id='trazabilidad'\r\n              formControlProps={{\r\n                fullWidth: true,\r\n              }}\r\n              inputProps={{\r\n                value: updateInfo.codigo_trazabilidad,\r\n                onChange: (e) => setUpdateInfo({ ...updateInfo, codigo_trazabilidad: e.target.value }),\r\n                type: 'text',\r\n                maxLength: 50,\r\n              }}\r\n            />\r\n          </GridItem>\r\n          <GridItem xs={12}>             \r\n                  <FormControl fullWidth>\r\n                      <InputLabel id='dificultad'>Dificultad</InputLabel>\r\n                      <Select\r\n                        labelId='dificultad'\r\n                        id='dificultad'\r\n                        value={updateInfo.dificultad}\r\n                        label='Dificultad'\r\n                        onChange={(e) => setUpdateInfo({ ...updateInfo, dificultad: e.target.value })}\r\n                      >\r\n                        <MenuItem value={'ALTA'}>ALTA</MenuItem>\r\n                        <MenuItem value={'BAJA'}>BAJA</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                </GridItem>\r\n        </GridContainer>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default UpdateDificultyModal\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}