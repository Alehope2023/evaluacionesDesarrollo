{"ast":null,"code":"import _objectSpread from \"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"C:\\\\trabajo\\\\Alehope\\\\actividadesPreBuild\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\ActivitiesListScreen\\\\ActivitiesRegisterScreen\\\\components\\\\TasksSelect.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FormControl, Select as Selectable, InputLabel, makeStyles, MenuItem } from '@material-ui/core';\nimport GridItem from 'components/Grid/GridItem';\nimport { TASK_LIST_RESET } from 'redux/constants/taskConstants';\nimport { getTasks } from 'redux/actions/taskActions';\nimport styles from '../../styles/tasksSelectStyles';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(styles);\nvar TasksSelect = function TasksSelect(_ref) {\n  _s();\n  var activityInfo = _ref.activityInfo,\n    setActivityInfo = _ref.setActivityInfo,\n    task = _ref.task,\n    setTask = _ref.setTask;\n  var dispatch = useDispatch();\n  var classes = useStyles();\n  var _useSelector = useSelector(function (state) {\n      return state.taskList;\n    }),\n    successTaskList = _useSelector.successTaskList,\n    loadingTaskList = _useSelector.loadingTaskList,\n    tasksData = _useSelector.tasksData;\n  useEffect(function () {\n    if (!successTaskList) {\n      dispatch(getTasks());\n    } else {\n      //Se ha cargado.\n      if (task) {\n        setTask(tasksData.filter(function (taskData) {\n          return taskData.id_tarea === task;\n        })[0]);\n      }\n    }\n  }, [successTaskList]);\n  useEffect(function () {\n    if (tasksData && task) {\n      setActivityInfo(_objectSpread(_objectSpread({}, activityInfo), {}, {\n        tarea: tasksData.filter(function (taskData) {\n          return taskData.id_tarea === task;\n        })\n      }));\n    }\n  }, [task]);\n  useEffect(function () {\n    return function () {\n      return dispatch({\n        type: TASK_LIST_RESET\n      });\n    };\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(GridItem, {\n    xs: 12,\n    children: loadingTaskList ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"Cargando\"\n    }, void 0, false) : (tasksData === null || tasksData === void 0 ? void 0 : tasksData.length) > 0 && /*#__PURE__*/_jsxDEV(FormControl, {\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        htmlFor: \"tasks\",\n        children: \"Tareas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(Selectable, {\n        MenuProps: {\n          className: classes.selectMenu\n        },\n        className: classes.select,\n        value: task,\n        onChange: function onChange(e) {\n          return setTask(tasksData.filter(function (taskData) {\n            return taskData.id_tarea === e.target.value;\n          })[0]);\n        },\n        inputProps: {\n          name: 'tasks',\n          id: 'tasks'\n        },\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          disabled: true,\n          classes: {\n            root: classes.selectMenuItem\n          },\n          children: \"Tareas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, _this), tasksData.map(function (task, index) {\n          return /*#__PURE__*/_jsxDEV(MenuItem, {\n            classes: {\n              root: classes.selectMenuItem,\n              selected: classes.selectMenuItemSelected\n            },\n            value: task.id_tarea,\n            children: task.descripcion_tarea\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, _this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, _this);\n};\n_s(TasksSelect, \"mG9OHmXJybIRsCHyYtMvGUT9Hg0=\", false, function () {\n  return [useDispatch, useStyles, useSelector];\n});\n_c = TasksSelect;\nexport default TasksSelect;\nvar _c;\n$RefreshReg$(_c, \"TasksSelect\");","map":{"version":3,"names":["useEffect","useDispatch","useSelector","FormControl","Select","Selectable","InputLabel","makeStyles","MenuItem","GridItem","TASK_LIST_RESET","getTasks","styles","Fragment","_Fragment","jsxDEV","_jsxDEV","useStyles","TasksSelect","_ref","_s","activityInfo","setActivityInfo","task","setTask","dispatch","classes","_useSelector","state","taskList","successTaskList","loadingTaskList","tasksData","filter","taskData","id_tarea","_objectSpread","tarea","type","xs","children","length","fullWidth","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","_this","MenuProps","className","selectMenu","select","value","onChange","e","target","inputProps","name","id","disabled","root","selectMenuItem","map","index","selected","selectMenuItemSelected","descripcion_tarea","_c","$RefreshReg$"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/ActivitiesListScreen/ActivitiesRegisterScreen/components/TasksSelect.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport {  FormControl, Select as Selectable, InputLabel, makeStyles, MenuItem } from '@material-ui/core'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport { TASK_LIST_RESET } from 'redux/constants/taskConstants'\r\nimport { getTasks } from 'redux/actions/taskActions'\r\nimport styles from '../../styles/tasksSelectStyles'\r\n\r\nconst useStyles = makeStyles(styles)\r\n\r\nconst TasksSelect = ({ activityInfo, setActivityInfo, task, setTask }) => {\r\n  const dispatch = useDispatch()\r\n  const classes = useStyles()\r\n\r\n  const { successTaskList, loadingTaskList, tasksData } = useSelector((state) => state.taskList)\r\n\r\n  useEffect(() => {\r\n    if (!successTaskList) {\r\n      dispatch(getTasks())\r\n    }\r\n    else {\r\n      //Se ha cargado.\r\n      if (task) {\r\n        setTask(tasksData.filter((taskData) => taskData.id_tarea === task)[0])\r\n      }\r\n    }\r\n  }, [successTaskList])\r\n\r\n  useEffect(() => {\r\n    if (tasksData && task) {\r\n      setActivityInfo({\r\n        ...activityInfo,\r\n        tarea: tasksData.filter((taskData) => taskData.id_tarea === task),\r\n      })\r\n    }\r\n  }, [task])\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: TASK_LIST_RESET })\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <GridItem xs={12}>\r\n      {loadingTaskList ? (\r\n        <>Cargando</>\r\n      ) : (\r\n        tasksData?.length > 0 && (\r\n          <FormControl fullWidth>\r\n            <InputLabel htmlFor='tasks'>Tareas</InputLabel>\r\n            <Selectable\r\n              MenuProps={{\r\n                className: classes.selectMenu,\r\n              }}\r\n              className={classes.select}\r\n              value={task}\r\n              onChange={(e) => setTask(tasksData.filter((taskData) => taskData.id_tarea === e.target.value)[0])}\r\n              inputProps={{\r\n                name: 'tasks',\r\n                id: 'tasks',\r\n              }}\r\n            >\r\n              <MenuItem\r\n                disabled\r\n                classes={{\r\n                  root: classes.selectMenuItem,\r\n                }}\r\n              >\r\n                Tareas\r\n              </MenuItem>\r\n              {tasksData.map((task, index) => (\r\n                <MenuItem\r\n                  classes={{ root: classes.selectMenuItem, selected: classes.selectMenuItemSelected }}\r\n                  value={task.id_tarea}\r\n                  key={index}\r\n                >\r\n                  {task.descripcion_tarea}\r\n                </MenuItem>\r\n              ))}\r\n            </Selectable>\r\n          </FormControl>\r\n        )\r\n      )}\r\n    </GridItem>\r\n  )\r\n}\r\n\r\nexport default TasksSelect\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}