{"ast":null,"code":"import _slicedToArray from \"C:/trabajo/Alehope/actividadesPreBuild/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\trabajo\\\\Alehope\\\\actividadesPreBuild\\\\Frontend\\\\src\\\\screens\\\\control-panel\\\\RegisterUserScreen\\\\components\\\\ValidatorsMultiSelect.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport roles from 'config/roles/roles';\nimport GridItem from 'components/Grid/GridItem';\nimport MultiSelectJobPosition from 'components/MultiSelectJobPosition/MultiSelectJobPosition';\nimport { getUsersValidators } from 'redux/actions/userActions';\nimport { USER_VALIDATORS_LIST_RESET } from 'redux/constants/userConstants';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ValidatorsMultiSelect = function ValidatorsMultiSelect(_ref) {\n  _s();\n  var validators = _ref.validators,\n    setValidators = _ref.setValidators;\n  var dispatch = useDispatch();\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useSelector = useSelector(function (state) {\n      return state.userListValidators;\n    }),\n    successUserValidatorsList = _useSelector.successUserValidatorsList,\n    loadingUserValidatorsList = _useSelector.loadingUserValidatorsList,\n    userValidatorsListData = _useSelector.userValidatorsListData;\n  useEffect(function () {\n    return function () {\n      return dispatch({\n        type: USER_VALIDATORS_LIST_RESET\n      });\n    };\n  }, [dispatch]);\n  useEffect(function () {\n    if (!successUserValidatorsList) {\n      dispatch(getUsersValidators(roles.VALIDADOR_ROLE));\n    } else {\n      var filteredProfiles = userValidatorsListData.filter(function (p) {\n        return p.activo === 'SI';\n      });\n      setData(filteredProfiles);\n    }\n  }, [successUserValidatorsList]);\n  var handleChangeMultiData = function handleChangeMultiData(event) {\n    var value = event.target.value;\n    if (validators.map(function (validator) {\n      return validator.id_puesto;\n    }).indexOf(value[value.length - 1].id_puesto) === -1) {\n      setValidators(value);\n    } else {\n      setValidators(validators.filter(function (validator) {\n        var _value;\n        return validator.id_puesto !== ((_value = value[value.length - 1]) === null || _value === void 0 ? void 0 : _value.id_puesto);\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(GridItem, {\n    xs: 12,\n    children: loadingUserValidatorsList ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"Cargando\"\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(MultiSelectJobPosition, {\n      label: 'Validadores',\n      data: data,\n      multiData: validators,\n      handleChangeMultiData: handleChangeMultiData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, _this);\n};\n_s(ValidatorsMultiSelect, \"fe6hCsWautw95tTClNHc0rjcPIk=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = ValidatorsMultiSelect;\nexport default ValidatorsMultiSelect;\nvar _c;\n$RefreshReg$(_c, \"ValidatorsMultiSelect\");","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","roles","GridItem","MultiSelectJobPosition","getUsersValidators","USER_VALIDATORS_LIST_RESET","Fragment","_Fragment","jsxDEV","_jsxDEV","ValidatorsMultiSelect","_ref","_s","validators","setValidators","dispatch","_useState","_useState2","_slicedToArray","data","setData","_useSelector","state","userListValidators","successUserValidatorsList","loadingUserValidatorsList","userValidatorsListData","type","VALIDADOR_ROLE","filteredProfiles","filter","p","activo","handleChangeMultiData","event","value","target","map","validator","id_puesto","indexOf","length","_value","xs","children","label","multiData","fileName","_jsxFileName","lineNumber","columnNumber","_this","_c","$RefreshReg$"],"sources":["C:/trabajo/Alehope/actividadesPreBuild/Frontend/src/screens/control-panel/RegisterUserScreen/components/ValidatorsMultiSelect.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport roles from 'config/roles/roles'\r\nimport GridItem from 'components/Grid/GridItem'\r\nimport MultiSelectJobPosition from 'components/MultiSelectJobPosition/MultiSelectJobPosition'\r\nimport { getUsersValidators } from 'redux/actions/userActions'\r\nimport { USER_VALIDATORS_LIST_RESET } from 'redux/constants/userConstants'\r\n\r\nconst ValidatorsMultiSelect = ({ validators, setValidators }) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const [data, setData] = useState([])\r\n\r\n  const { successUserValidatorsList, loadingUserValidatorsList, userValidatorsListData } = useSelector(\r\n    (state) => state.userListValidators\r\n  )\r\n\r\n  useEffect(() => {\r\n    return () => dispatch({ type: USER_VALIDATORS_LIST_RESET })\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (!successUserValidatorsList) {\r\n      dispatch(getUsersValidators(roles.VALIDADOR_ROLE))\r\n    } else {\r\n      const filteredProfiles = userValidatorsListData.filter((p) => p.activo === 'SI')\r\n      setData(filteredProfiles)\r\n    }\r\n  }, [successUserValidatorsList])\r\n\r\n  const handleChangeMultiData = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event\r\n    if (validators.map((validator) => validator.id_puesto).indexOf(value[value.length - 1].id_puesto) === -1) {\r\n      setValidators(value)\r\n    } else {\r\n      setValidators(validators.filter((validator) => validator.id_puesto !== value[value.length - 1]?.id_puesto))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <GridItem xs={12}>\r\n      {loadingUserValidatorsList ? (\r\n        <>Cargando</>\r\n      ) : (\r\n        <MultiSelectJobPosition\r\n          label={'Validadores'}\r\n          data={data}\r\n          multiData={validators}\r\n          handleChangeMultiData={handleChangeMultiData}\r\n        />\r\n      )}\r\n    </GridItem>\r\n  )\r\n}\r\n\r\nexport default ValidatorsMultiSelect\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}